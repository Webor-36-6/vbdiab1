function capitalize(t){return t?t[0].toUpperCase()+t.slice(1):t}!function(t){function e(t){var e=a(t);if(l)for(var n,i=0;n=f[i++];)t.hasOwnProperty(n)&&e.push(n);return e}function n(n,i,s){for(var o,a,c=e(s),u=0,l=c.length;l>u;)"__self"!==(o=c[u++])&&(a=s[o],h(a)&&(!r||a.toString().indexOf(".__base")>-1)?i[o]=function(e,r){var s=function(){var t=this.__base;this.__base=s.__base;var e=r.apply(this,arguments);return this.__base=t,e};return s.__base=n[e]||("__constructor"===e?i.__self.__parent:t.noop),s}(o,a):i[o]=a)}function i(e,n){for(var i,r=1;i=e[r++];)n?h(i)?t.inheritSelf(n,i.prototype,i):t.inheritSelf(n,i):n=h(i)?t.inherit(e[0],i.prototype,i):t.inherit(e[0],i);return n||e[0]}var r=function(){return"_"}.toString().indexOf("_")>-1,s=function(){},o=Object.create||function(t){var e=function(){};return e.prototype=t,new e},a=Object.keys,c=t.extend,u=Array.isArray,h=t.isFunction,l=!0,d={toString:""};for(var p in d)d.hasOwnProperty(p)&&(l=!1);var f=l?["toString","valueOf"]:null;t.inherit=function(){var t=arguments,e=u(t[0]),r=e||h(t[0]),a=r?e?i(t[0]):t[0]:s,l=t[r?1:0]||{},d=t[r?2:1],p=l.__constructor||r&&a.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:r?function(){return a.apply(this,arguments)}:function(){};if(!r)return p.prototype=l,p.prototype.__self=p.prototype.constructor=p,c(p,d);c(p,a),p.__parent=a;var f=a.prototype,m=p.prototype=o(f);return m.__self=m.constructor=p,l&&n(f,m,l),d&&n(a,p,d),p},t.inheritSelf=function(){var t=arguments,e=u(t[0]),r=e?i(t[0],t[0][0]):t[0],s=t[1],o=t[2],a=r.prototype;return s&&n(a,a,s),o&&n(r,r,o),r},t.inherit.self=t.inheritSelf}(jQuery),function(t){var e=0,n="__"+Number(new Date),i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var r="uniqueID"in t?"uniqueID":n;return e||r in t?t[r]:t[r]=i()}}(jQuery),function(t){var e="__"+Number(new Date)+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,r,s,o,a){if("string"==typeof i){t.isFunction(r)&&(o=s,s=r,r=void 0);for(var c,u=n(s,o),h=this[e]||(this[e]={}),l=i.split(" "),d=0;i=l[d++];)if(i=this.buildEventName(i),c=h[i]||(h[i]={ids:{},list:{}}),!(u in c.ids)){var p=c.list,f={fn:s,data:r,ctx:o,special:a};p.last?(p.last.next=f,f.prev=p.last):p.first=f,c.ids[u]=p.last=f}}else{var m=this;t.each(i,function(t,e){m.on(t,e,r,a)})}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,r,s){if("string"==typeof i||"undefined"==typeof i){var o=this[e];if(o)if(i){for(var a,c=i.split(" "),u=0;i=c[u++];)if(i=this.buildEventName(i),a=o[i])if(r){var h=n(r,s),l=a.ids;if(h in l){var d=a.list,p=l[h],f=p.prev,m=p.next;f?f.next=m:p===d.first&&(d.first=m),m?m.prev=f:p===d.last&&(d.last=f),delete l[h]}}else delete this[e][i]}else delete this[e]}else{var g=this;s=r,t.each(i,function(t,e){g.un(t,e,s)})}return this},trigger:function(n,i){var r=this[e],s="string"==typeof n,o=s?n:n.type,a=this.buildEventName(o);if(s||(n.type=a,n.target||(n.target=this)),r&&(r=r[a])){var c,u=r.list.first;for(u&&s&&(n=t.Event(a),n.target=this);u;)n.data=u.data,c=u.fn.call(u.ctx||this,n,i),"undefined"!=typeof c&&(n.result=c,c===!1&&(n.preventDefault(),n.stopPropagation())),u.special&&u.special.one&&this.un(o,u.fn,u.ctx),u=u.next}return this}};t.observable=t.inherit(i,i)}(jQuery),function(){var t=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})}(),function(t){function e(){return window.innerHeight|0+i.outerHeight()}function n(){return window.innerWidth|0+i.outerWidth()}var i=t(window),r=e(),s=n();(t.event.special.resize||(t.event.special.resize={})).preDispatch=function(t){var i=e(),o=n();return s===o&&r===i?!1:(r=i,void(s=o))}}(jQuery),jQuery.cookie=function(t,e,n){if("undefined"==typeof e){var i=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),s=0;s<r.length;s++){var o=jQuery.trim(r[s]);if(o.substring(0,t.length+1)==t+"="){i=decodeURIComponent(o.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var a="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var c;"number"==typeof n.expires?(c=new Date,c.setTime(c.getTime()+24*n.expires*60*60*1e3)):c=n.expires,a="; expires="+c.toUTCString()}var u=n.path?"; path="+n.path:"",h=n.domain?"; domain="+n.domain:"",l=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),a,u,h,l].join("")},function(t){function e(t){return t.replace(/%.{2}/g,function(t){return i[t]||t})}function n(t,n){var i="";try{i=t(n)}catch(r){try{i=t(e(n))}catch(s){i=n}}return i}var i={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};t.extend({decodeURI:function(t){return n(decodeURI,t)},decodeURIComponent:function(t){return n(decodeURIComponent,t)}})}(jQuery),function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1===n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1===i?e.substring(n):e.substring(n,i))}}(window.Lego),$.extend({debounce:function(t,e,n,i){var r,s=function(){var s=arguments;i=i||this,n&&!r&&t.apply(i,s),clearTimeout(r),r=setTimeout(function(){n||t.apply(i,s),r=null},e)};return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),s.stop=function(){clearTimeout(r),r=null},s},throttle:function(t,e,n){var i,r,s,o=function(){r=arguments,s=!0,n=n||this,i||function(){s?(t.apply(n,r),s=!1,i=setTimeout(arguments.callee,e)):i=null}()};return o.stop=function(){clearTimeout(i),i=null},o}}),function(t,e,n){function i(t,e){var n={},i=t.originalEvent||{};e||(e={});for(var r,s=0;c>s;s++)r=o[s],n[r]=e[r]||t[r]||i[r]||a[s];return n.x=n.clientX,n.y=n.clientY,n.pressure=n.pressure||(n.buttons?.5:0),n.buttons||u||(n.buttons=h[n.which]||0),n.originalEvent=t.originalEvent||null,e.preventDefault?n.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(n.preventDefault=function(){t.preventDefault()},n._preventScroll=function(){}),n}function r(t,e){var i=n.Event(t),r=e.preventDefault,s=i.preventDefault.bind(i);return jQuery.extend(i,e),i.preventDefault=function(){r(),s()},i}var s={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},o=Object.keys(s),a=o.map(function(t){return s[t]}),c=o.length,u=!1,h=[0,1,4,2];try{u=1===new MouseEvent("test",{buttons:1}).buttons}catch(l){}var d=t.Map&&t.Map.prototype.forEach,p=d?new t.Map:{array:[],size:0,set:function(t,e){return void 0===e?this["delete"](t):(this.has(t)||this.size++,void(this.array[t]=e))},has:function(t){return void 0!==this.array[t]},"delete":function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,i){t.call(e,n,i,this)},this)}},f={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var n=e.events;n&&(n.forEach(function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))},this),this.eventSourceList.push(e))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;n>i&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;n>i&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){return t.contains?t.contains(e):!1},getCommonAncestor:function(t,n){for(;t&&t!==e.documentElement;){if(t.contains&&t.contains(n))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){n(t).on(e,this.boundHandler)},removeEvent:function(t,e){n(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var n=r(t,e);return n._target=n._target||e.target,n},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,i){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=i,this.implicitRelease=this.releaseCapture.bind(this,t),n(e).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i}))},releaseCapture:function(t){var i=this.captureInfo[t];i&&(this.captureInfo[t]=void 0,n(e).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i})))},dispatchEvent:function(t){var e=this.getTarget(t);return e?n.event.trigger(t,null,e,!t.bubbles):void 0},asyncDispatchEvent:function(e){(t.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,e))}};f.boundHandler=f.eventHandler.bind(f);var m,g,_={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){f.listen(t,this.events)},unregister:function(t){f.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,r=t.clientY,s=0,o=n.length;o>s&&(e=n[s]);s++){var a=Math.abs(i-e.x),c=Math.abs(r-e.y);if(a<=this.DEDUP_DIST&&c<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return i(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(p.has(this.POINTER_ID)&&this.cancel(t),p.set(this.POINTER_ID,t),f.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||f.move(this.prepareEvent(t))},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=p.get(this.POINTER_ID);e&&e.button===t.button&&(f.up(this.prepareEvent(t)),this.cleanupMouse())}},mouseover:function(t){this.isEventSimulatedFromTouch(t)||f.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||f.leaveOut(this.prepareEvent(t))},cancel:function(t){f.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){p["delete"](this.POINTER_ID)}},y={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){f.listen(t,this.events)},unregister:function(t){f.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===p.size||1===p.size&&p.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=void 0,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return e.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,r=this.currentTouchEvent,s=t.identifier+2;return i(r,n.extend({},t,{pointerId:s,target:f.captureInfo[s]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(r.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var n=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var i,r=0;r<n.length;r++)i=n[r],e.call(this,this.touchToPointer(i))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,n=this.scrollTypes;return t===n.EMITTER?e="none":t===n.XSCROLLER?e="X":t===n.YSCROLLER?e="Y":n.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(void 0!==this.shouldScrollCache)return this.shouldScrollCache;if(!this.firstXY)return!0;var e,n,i=this.firstTouchTarget;do{if(!i)break;if(e=i.getAttribute("touch-action"),null!==e)break;i=i.parentNode}while(i!==document);var r=this.touchActionToScrollType(e);if("none"===r)n=!1;else if("XY"===r||void 0===r)n=!0;else{var s=t.originalEvent.changedTouches[0],o=r,a="Y"===r?"X":"Y",c=Math.abs(s["client"+o]-this.firstXY[o]),u=Math.abs(s["client"+a]-this.firstXY[a]);n=c>=u}return this.shouldScrollCache=n,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var n,i=0,r=t.length;r>i&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.originalEvent.touches;if(p.size>=e.length){var n=[];p.forEach(function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var r=t.out;n.push(r)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){p.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),f.over(t),f.enter(t),f.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=p.get(t.pointerId);if(e){var n=e.out,i=e.outTarget;f.move(t),n&&i!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=i,n.target=i,t.target?(f.leaveOut(n),f.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),e.out=t,e.outTarget=t.target}},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(f.up(t),f.out(t),f.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){f.cancel(t),f.out(t),f.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){p["delete"](t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=_.lastTouches;if(this.isPrimaryTouch(t)){var n={x:t.clientX,y:t.clientY};e.push(n);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,n);setTimeout(i,this.DEDUP_TIMEOUT)}}},b={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){f.listen(t,this.events)},unregister:function(t){f.unlisten(t,this.events)},prepareEvent:function(t){var e=i(t);return this.HAS_BITMAP_TYPE&&(e.pointerType=this.POINTER_TYPES[e.pointerType]),e},cleanup:function(t){p["delete"](t)},MSPointerDown:function(t){p.set(t.originalEvent.pointerId,t),f.down(this.prepareEvent(t))},MSPointerMove:function(t){f.move(this.prepareEvent(t))},MSPointerUp:function(t){f.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){f.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){f.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){f.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){f.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){f.fireEvent("lostpointercapture",this.prepareEvent(t))}},v=function(t){if(!p.has(t))throw new Error("InvalidPointerId")};t.Element&&Element.prototype.setPointerCapture?(m=function(t,e){t.setPointerCapture(e)},g=function(t,e){t.releasePointerCapture(e)}):t.navigator.msPointerEnabled?(m=function(t,e){v(e),t.msSetPointerCapture(e)},g=function(t,e){v(e),t.msReleasePointerCapture(e)}):(m=function(t,e){v(e),f.setCapture(e,t)},g=function(t,e){v(e),f.releaseCapture(e,t)}),n.fn.extend({setPointerCapture:function(t){m(this[0],t)},releasePointerCapture:function(t){g(this[0],t)}}),t._pointerPolyfillInited||(t._pointerPolyfillInited=!0,t.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach(function(t){var e=jQuery.event.fixHooks,n="pointer"+t;e[n]||(e[n]={}),e[n].props=o.concat(e[n].props||[])}):(delete n.event.special.pointerenter,delete n.event.special.pointerleave,t.navigator.msPointerEnabled?f.registerSource("ms",b):(f.registerSource("mouse",_),void 0!==t.ontouchstart&&f.registerSource("touch",y)),f.register(document)))}(window,document,jQuery),function(t,e){function n(t){t.isPrimary&&(m.push(t),setTimeout(Array.prototype.shift.bind(m),p))}function i(t,e){return Math.abs(t.clientX-e.clientX)>l||Math.abs(t.clientY-e.clientY)>l}function r(t){var e=t.clientX,n=t.clientY,i="_compat"+t.type;if(!t._sourcePoint){for(var r=0;r<m.length;r++){var s=m[r],o=s.target===t.target;if(!s[i]&&(o||!(Math.abs(e-s.clientX)>d||Math.abs(n-s.clientY)>d))&&(o||document.elementFromPoint(s.clientX,s.clientY)!==s.target)){t._sourcePoint=s,s[i]=t;break}}g.push(t),setTimeout(Array.prototype.shift.bind(g),p)}}function s(t){for(var e=0;e<g.length;e++)if(g[e]===t)return g[e]._sourcePoint}function o(t){var e=s(t);return Boolean(e)&&e.target!==t.target}function a(t){var n,i=t.type;return t.button||(t.type="pointerclick",n=e.event.dispatch.apply(this,arguments),t.type=i),n}if(!e.event.special.pointerclick){var c,u=void 0!==t.ontouchstart||navigator.msMaxTouchPoints>0,h="touchAction"in document.documentElement.style,l=10,d=25,p=900,f=250,m=[],g=[],_=null,y=null,b=h?function(t){function e(t){return t&&t!==document.documentElement?"manipulation"===getComputedStyle(t)["touch-action"]||e(t.parentElement):!1}return e(t)}:function(){return!1};u?(c={click:function(t){var e=Object(t.originalEvent)._sourcePoint;return e?void(e.isDefaultPrevented()&&t.preventDefault()):a.apply(this,arguments)},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==e&&"pointerup"!==e||!b(t.target)))if("pointerdown"===e)y=t;else if("pointermove"===e&&y&&(y.target!==t.target||i(y,t)))y=null;else if("pointerleave"===e||"pointercancel"===e)y=null;else if("pointerup"===e){if(n(t),!y)return;if(!(t.timeStamp-y.timeStamp>f))return _||(_=setTimeout(function(){_=y=null})),a.apply(this,arguments);y=null}}},["mousedown","click"].forEach(function(e){t.addEventListener(e,function(t){r(t),o(t)&&(t.preventDefault(),t.stopPropagation())},!0)})):c={click:function(t){return a.apply(this,arguments)}},e.event.special.pointerclick={setup:function(){e(this).on(c)},teardown:function(){e(this).off(c)}}}}(window,jQuery),function(){"use strict";window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},SVGPathSeg.prototype.classname="SVGPathSeg",SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,s,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=s,this._y2=o},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,r,s,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=s,this._y2=o},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,r,s,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},
SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,r,s,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=r},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=r},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new SVGPathSegMovetoAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new SVGPathSegMovetoRel(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new SVGPathSegLinetoAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new SVGPathSegLinetoRel(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,s){return new SVGPathSegCurvetoCubicAbs(void 0,t,e,n,i,r,s)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,r,s){return new SVGPathSegCurvetoCubicRel(void 0,t,e,n,i,r,s)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,i)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,i)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,r,s,o){return new SVGPathSegArcAbs(void 0,t,e,n,i,r,s,o)},SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,r,s,o){return new SVGPathSegArcRel(void 0,t,e,n,i,r,s,o)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new SVGPathSegLinetoHorizontalAbs(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new SVGPathSegLinetoHorizontalRel(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new SVGPathSegLinetoVerticalAbs(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new SVGPathSegLinetoVerticalRel(void 0,t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,i)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,i)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||0>t||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var i=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return" ">=t&&(" "==t||"\n"==t||"	"==t||"\r"==t||"\f"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex)?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&"9">=t)&&e!=SVGPathSeg.PATHSEG_CLOSEPATH?e==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:e==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:e:SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==SVGPathSeg.PATHSEG_MOVETO_ABS||t==SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,n=1,i=0,r=1,s=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))return void 0;for(var a=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=a)for(var c=this._currentIndex-1,u=1;c>=a;)e+=u*(this._string.charAt(c--)-"0"),u*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return void 0;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)i+=(this._string.charAt(this._currentIndex++)-"0")*(n*=.1)}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,s=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return void 0;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var h=e+i;return h*=r,t&&(h*=Math.pow(10,s*t)),o==this._currentIndex?void 0:(this._skipOptionalSpacesOrDelimiter(),h)},i.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return void 0;var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return void 0;t=!0}return this._skipOptionalSpacesOrDelimiter(),t},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(n=this._nextCommandHelper(t,this._previousCommand),n==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(e,i.x,i.y,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(e,i.x,i.y,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(e,i.x,i.y,i.x1,i.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(e,i.x,i.y,i.x1,i.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var r=new n,s=new i(t);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){var o=s.parseSegment();if(!o)return[];r.appendSegment(o)}return r.pathSegList}}(),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.SVG=e()}(this,function(){function t(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function e(t){return 4==t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function n(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function i(t,e,n){return(null==e||null==n)&&(null==n?n=t.height/t.width*e:null==e&&(e=t.width/t.height*n)),{width:e,height:n}}function r(t,e){return"number"==typeof t.from?t.from+(t.to-t.from)*e:t instanceof h.Color||t instanceof h.Number?t.at(e):1>e?t.from:t.to}function s(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e][0],null!=t[e][1]&&(i+=t[e][1],null!=t[e][2]&&(i+=" ",i+=t[e][2],null!=t[e][3]&&(i+=" ",i+=t[e][3],i+=" ",i+=t[e][4],null!=t[e][5]&&(i+=" ",i+=t[e][5],i+=" ",i+=t[e][6],null!=t[e][7]&&(i+=" ",i+=t[e][7])))));return i+" "}function o(t){t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2}function a(t){if(t.matrix){var e=t.matrix.replace(/\s/g,"").split(",");6==e.length&&(t.a=parseFloat(e[0]),t.b=parseFloat(e[1]),t.c=parseFloat(e[2]),t.d=parseFloat(e[3]),t.e=parseFloat(e[4]),t.f=parseFloat(e[5]))}return t}function c(t){var e=t.toString().match(h.regex.reference);return e?e[1]:void 0}function u(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}var h=this.SVG=function(t){return h.supported?(t=new h.Doc(t),h.parser||h.prepare(t),t):void 0};if(h.ns="http://www.w3.org/2000/svg",h.xmlns="http://www.w3.org/2000/xmlns/",h.xlink="http://www.w3.org/1999/xlink",h.did=1e3,h.eid=function(t){return"Svgjs"+t.charAt(0).toUpperCase()+t.slice(1)+h.did++},h.create=function(t){var e=document.createElementNS(this.ns,t);return e.setAttribute("id",this.eid(t)),e},h.extend=function(){var t,e,n,i;for(t=[].slice.call(arguments),e=t.pop(),i=t.length-1;i>=0;i--)if(t[i])for(n in e)t[i].prototype[n]=e[n];h.Set&&h.Set.inherit&&h.Set.inherit()},h.prepare=function(t){var e=document.getElementsByTagName("body")[0],n=(e?new h.Doc(e):t.nested()).size(2,0),i=h.create("path");n.node.appendChild(i),h.parser={body:e||t.parent,draw:n.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:n.polyline().node,path:i}},h.supported=function(){return!!document.createElementNS&&!!document.createElementNS(h.ns,"svg").createSVGRect}(),!h.supported)return!1;h.get=function(t){var e=document.getElementById(c(t)||t);return e?e.instance:void 0},h.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,h.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&h.extend(e,t.extend),t.construct&&h.extend(t.parent||h.Container,t.construct),e},"function"!=typeof u&&(u.prototype=window.Event.prototype,window.CustomEvent=u),h.regex={unit:/^(-?[\d\.]+)([a-z%]{0,2})$/,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^-?[\d\.]+$/,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif)(\?[^=]+.*)?/i,isEvent:/^[\w]+:[\w]+$/},h.defaults={matrix:"1 0 0 1 0 0",attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"},trans:function(){return{x:0,y:0,scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0,matrix:this.matrix,a:1,b:0,c:0,d:1,e:0,f:0}}},h.Color=function(t){var n;this.r=0,this.g=0,this.b=0,"string"==typeof t?h.regex.isRgb.test(t)?(n=h.regex.rgb.exec(t.replace(/\s/g,"")),this.r=parseInt(n[1]),this.g=parseInt(n[2]),this.b=parseInt(n[3])):h.regex.isHex.test(t)&&(n=h.regex.hex.exec(e(t)),this.r=parseInt(n[1],16),this.g=parseInt(n[2],16),this.b=parseInt(n[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b)},h.extend(h.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+n(this.r)+n(this.g)+n(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new h.Color(t),this},at:function(t){return this.destination?(t=0>t?0:t>1?1:t,new h.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),h.Color.test=function(t){return t+="",h.regex.isHex.test(t)||h.regex.isRgb.test(t)},h.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},h.Color.isColor=function(t){return h.Color.isRgb(t)||h.Color.test(t)},h.Array=function(t,e){t=(t||[]).valueOf(),0==t.length&&e&&(t=e.valueOf()),this.value=this.parse(t)},h.extend(h.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,n=[];e>t;t++)-1==n.indexOf(this.value[t])&&n.push(this.value[t]);return this.value=n},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,i=[];n>e;e++)i.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new h.Array(i)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").split(" ")},reverse:function(){return this.value.reverse(),this}}),h.PointArray=function(){this.constructor.apply(this,arguments)},h.PointArray.prototype=new h.Array,h.extend(h.PointArray,{toString:function(){for(var t=0,e=this.value.length,n=[];e>t;t++)n.push(this.value[t].join(","));return n.join(" ")},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,i=[];n>e;e++)i.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new h.PointArray(i)},
parse:function(t){if(t=t.valueOf(),Array.isArray(t))return t;t=this.split(t);for(var e,n=0,i=t.length,r=[];i>n;n++)e=t[n].split(","),r.push([parseFloat(e[0]),parseFloat(e[1])]);return r},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i=this.value.length-1;i>=0;i--)this.value[i]=[this.value[i][0]+t,this.value[i][1]+e];return this},size:function(t,e){var n,i=this.bbox();for(n=this.value.length-1;n>=0;n--)this.value[n][0]=(this.value[n][0]-i.x)*t/i.width+i.x,this.value[n][1]=(this.value[n][1]-i.y)*e/i.height+i.y;return this},bbox:function(){return h.parser.poly.setAttribute("points",this.toString()),h.parser.poly.getBBox()}}),h.PathArray=function(t,e){this.constructor.call(this,t,e)},h.PathArray.prototype=new h.Array,h.extend(h.PathArray,{toString:function(){return s(this.value)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i,r=this.value.length-1;r>=0;r--)i=this.value[r][0],"M"==i||"L"==i||"T"==i?(this.value[r][1]+=t,this.value[r][2]+=e):"H"==i?this.value[r][1]+=t:"V"==i?this.value[r][1]+=e:"C"==i||"S"==i||"Q"==i?(this.value[r][1]+=t,this.value[r][2]+=e,this.value[r][3]+=t,this.value[r][4]+=e,"C"==i&&(this.value[r][5]+=t,this.value[r][6]+=e)):"A"==i&&(this.value[r][6]+=t,this.value[r][7]+=e);return this},size:function(t,e){var n,i,r=this.bbox();for(n=this.value.length-1;n>=0;n--)i=this.value[n][0],"M"==i||"L"==i||"T"==i?(this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*e/r.height+r.y):"H"==i?this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x:"V"==i?this.value[n][1]=(this.value[n][1]-r.y)*e/r.height+r.y:"C"==i||"S"==i||"Q"==i?(this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*e/r.height+r.y,this.value[n][3]=(this.value[n][3]-r.x)*t/r.width+r.x,this.value[n][4]=(this.value[n][4]-r.y)*e/r.height+r.y,"C"==i&&(this.value[n][5]=(this.value[n][5]-r.x)*t/r.width+r.x,this.value[n][6]=(this.value[n][6]-r.y)*e/r.height+r.y)):"A"==i&&(this.value[n][1]=this.value[n][1]*t/r.width,this.value[n][2]=this.value[n][2]*e/r.height,this.value[n][6]=(this.value[n][6]-r.x)*t/r.width+r.x,this.value[n][7]=(this.value[n][7]-r.y)*e/r.height+r.y);return this},parse:function(t){if(t instanceof h.PathArray)return t.valueOf();var e,n,i,r,o,a,c,u,l,d,p,f=0,m=0;for(h.parser.path.setAttribute("d","string"==typeof t?t:s(t)),p=h.parser.path.pathSegList,e=0,n=p.numberOfItems;n>e;++e)d=p.getItem(e),l=d.pathSegTypeAsLetter,"M"==l||"L"==l||"H"==l||"V"==l||"C"==l||"S"==l||"Q"==l||"T"==l||"A"==l?("x"in d&&(f=d.x),"y"in d&&(m=d.y)):("x1"in d&&(o=f+d.x1),"x2"in d&&(c=f+d.x2),"y1"in d&&(a=m+d.y1),"y2"in d&&(u=m+d.y2),"x"in d&&(f+=d.x),"y"in d&&(m+=d.y),"m"==l?p.replaceItem(h.parser.path.createSVGPathSegMovetoAbs(f,m),e):"l"==l?p.replaceItem(h.parser.path.createSVGPathSegLinetoAbs(f,m),e):"h"==l?p.replaceItem(h.parser.path.createSVGPathSegLinetoHorizontalAbs(f),e):"v"==l?p.replaceItem(h.parser.path.createSVGPathSegLinetoVerticalAbs(m),e):"c"==l?p.replaceItem(h.parser.path.createSVGPathSegCurvetoCubicAbs(f,m,o,a,c,u),e):"s"==l?p.replaceItem(h.parser.path.createSVGPathSegCurvetoCubicSmoothAbs(f,m,c,u),e):"q"==l?p.replaceItem(h.parser.path.createSVGPathSegCurvetoQuadraticAbs(f,m,o,a),e):"t"==l?p.replaceItem(h.parser.path.createSVGPathSegCurvetoQuadraticSmoothAbs(f,m),e):"a"==l?p.replaceItem(h.parser.path.createSVGPathSegArcAbs(f,m,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),e):("z"==l||"Z"==l)&&(f=i,m=r)),("M"==l||"m"==l)&&(i=f,r=m);for(t=[],p=h.parser.path.pathSegList,e=0,n=p.numberOfItems;n>e;++e)d=p.getItem(e),l=d.pathSegTypeAsLetter,f=[l],"M"==l||"L"==l||"T"==l?f.push(d.x,d.y):"H"==l?f.push(d.x):"V"==l?f.push(d.y):"C"==l?f.push(d.x1,d.y1,d.x2,d.y2,d.x,d.y):"S"==l?f.push(d.x2,d.y2,d.x,d.y):"Q"==l?f.push(d.x1,d.y1,d.x,d.y):"A"==l&&f.push(d.r1,d.r2,d.angle,0|d.largeArcFlag,0|d.sweepFlag,d.x,d.y),t.push(f);return t},bbox:function(){return h.parser.path.setAttribute("d",this.toString()),h.parser.path.getBBox()}}),h.Number=function(t){if(this.value=0,this.unit="","number"==typeof t)this.value=isNaN(t)?0:isFinite(t)?t:0>t?-3.4e38:3.4e38;else if("string"==typeof t){var e=t.match(h.regex.unit);e&&(this.value=parseFloat(e[1]),"%"==e[2]?this.value/=100:"s"==e[2]&&(this.value*=1e3),this.unit=e[2])}else t instanceof h.Number&&(this.value=t.value,this.unit=t.unit)},h.extend(h.Number,{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},valueOf:function(){return this.value},plus:function(t){return this.value=this+new h.Number(t),this},minus:function(t){return this.plus(-new h.Number(t))},times:function(t){return this.value=this*new h.Number(t),this},divide:function(t){return this.value=this/new h.Number(t),this},to:function(t){return"string"==typeof t&&(this.unit=t),this},morph:function(t){return this.destination=new h.Number(t),this},at:function(t){return this.destination?new h.Number(this.destination).minus(this).times(t).plus(this):this}}),h.ViewBox=function(t){var e,n,i,r,s=1,o=1,a=t.bbox(),c=(t.attr("viewBox")||"").match(/-?[\d\.]+/g),u=t,l=t;for(i=new h.Number(t.width()),r=new h.Number(t.height());"%"==i.unit;)s*=i.value,i=new h.Number(u instanceof h.Doc?u.parent.offsetWidth:u.parent.width()),u=u.parent;for(;"%"==r.unit;)o*=r.value,r=new h.Number(l instanceof h.Doc?l.parent.offsetHeight:l.parent.height()),l=l.parent;this.x=a.x,this.y=a.y,this.width=i*s,this.height=r*o,this.zoom=1,c&&(e=parseFloat(c[0]),n=parseFloat(c[1]),i=parseFloat(c[2]),r=parseFloat(c[3]),this.zoom=this.width/this.height>i/r?this.height/r:this.width/i,this.x=e,this.y=n,this.width=i,this.height=r)},h.extend(h.ViewBox,{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}}),h.BBox=function(t){var e;if(this.x=0,this.y=0,this.width=0,this.height=0,t){try{e=t.node.getBBox()}catch(n){e={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}this.x=e.x+t.trans.x,this.y=e.y+t.trans.y,this.width=e.width*t.trans.scaleX,this.height=e.height*t.trans.scaleY}o(this)},h.extend(h.BBox,{merge:function(t){var e=new h.BBox;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,o(e),e}}),h.RBox=function(t){var e,n,i={};if(this.x=0,this.y=0,this.width=0,this.height=0,t){for(e=t.doc().parent,n=t.doc().viewbox().zoom,i=t.node.getBoundingClientRect(),this.x=i.left,this.y=i.top,this.x-=e.offsetLeft,this.y-=e.offsetTop;e=e.offsetParent;)this.x-=e.offsetLeft,this.y-=e.offsetTop;for(e=t;e=e.parent;)"svg"==e.type&&e.viewbox&&(n*=e.viewbox().zoom,this.x-=e.x()||0,this.y-=e.y()||0)}this.x/=n,this.y/=n,this.width=i.width/=n,this.height=i.height/=n,this.x+="number"==typeof window.scrollX?window.scrollX:window.pageXOffset,this.y+="number"==typeof window.scrollY?window.scrollY:window.pageYOffset,o(this)},h.extend(h.RBox,{merge:function(t){var e=new h.RBox;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,o(e),e}}),h.Element=h.invent({create:function(t){this._stroke=h.defaults.attrs.stroke,this.trans=h.defaults.trans(),(this.node=t)&&(this.type=t.nodeName,this.node.instance=this)},extend:{x:function(t){return null!=t&&(t=new h.Number(t),t.value/=this.trans.scaleX),this.attr("x",t)},y:function(t){return null!=t&&(t=new h.Number(t),t.value/=this.trans.scaleY),this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var n=i(this.bbox(),t,e);return this.width(new h.Number(n.width)).height(new h.Number(n.height))},clone:function(){var t,e,n=this.type;return t="rect"==n||"ellipse"==n?this.parent[n](0,0):"line"==n?this.parent[n](0,0,0,0):"image"==n?this.parent[n](this.src):"text"==n?this.parent[n](this.content):"path"==n?this.parent[n](this.attr("d")):"polyline"==n||"polygon"==n?this.parent[n](this.attr("points")):"g"==n?this.parent.group():this.parent[n](),e=this.attr(),delete e.id,t.attr(e),t.trans=this.trans,t.transform({})},remove:function(){return this.parent&&this.parent.removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},doc:function(t){return this._parent(t||h.Doc)},attr:function(t,e,n){if(null==t){for(t={},e=this.node.attributes,n=e.length-1;n>=0;n--)t[e[n].nodeName]=h.regex.isNumber.test(e[n].nodeValue)?parseFloat(e[n].nodeValue):e[n].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return e=this.node.attributes[t],null==e?h.defaults.attrs[t]:h.regex.isNumber.test(e.nodeValue)?parseFloat(e.nodeValue):e.nodeValue;if("style"==t)return this.style(e);"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),("fill"==t||"stroke"==t)&&(h.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof h.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new h.Number(e):h.Color.isColor(e)?e=new h.Color(e):Array.isArray(e)&&(e=new h.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),this.rebuild&&("font-size"==t||"x"==t)&&this.rebuild(t,e)}return this},transform:function(t,e){if(0==arguments.length)return this.trans;if("string"==typeof t){if(arguments.length<2)return this.trans[t];var n={};return n[t]=e,this.transform(n)}var n=[];t=a(t);for(e in t)null!=t[e]&&(this.trans[e]=t[e]);return this.trans.matrix=this.trans.a+" "+this.trans.b+" "+this.trans.c+" "+this.trans.d+" "+this.trans.e+" "+this.trans.f,t=this.trans,t.matrix!=h.defaults.matrix&&n.push("matrix("+t.matrix+")"),0!=t.rotation&&n.push("rotate("+t.rotation+" "+(null==t.cx?this.bbox().cx:t.cx)+" "+(null==t.cy?this.bbox().cy:t.cy)+")"),(1!=t.scaleX||1!=t.scaleY)&&n.push("scale("+t.scaleX+" "+t.scaleY+")"),0!=t.skewX&&n.push("skewX("+t.skewX+")"),0!=t.skewY&&n.push("skewY("+t.skewY+")"),(0!=t.x||0!=t.y)&&n.push("translate("+new h.Number(t.x/t.scaleX)+" "+new h.Number(t.y/t.scaleY)+")"),0==n.length?this.node.removeAttribute("transform"):this.node.setAttribute("transform",n.join(" ")),this},style:function(e,n){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof e)for(n in e)this.style(n,e[n]);else{if(!h.regex.isCss.test(e))return this.node.style[t(e)];e=e.split(";");for(var i=0;i<e.length;i++)n=e[i].split(":"),this.style(n[0].replace(/\s+/g,""),n[1])}else this.node.style[t(e)]=null===n||h.regex.isBlank.test(n)?"":n;return this},id:function(t){return this.attr("id",t)},bbox:function(){return new h.BBox(this)},rbox:function(){return new h.RBox(this)},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.node.getAttribute("class");return null===t?[]:t.trim().split(/\s+/)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){var e;return this.hasClass(t)||(e=this.classes(),e.push(t),this.node.setAttribute("class",e.join(" "))),this},removeClass:function(t){var e;return this.hasClass(t)&&(e=this.classes().filter(function(e){return e!=t}),this.node.setAttribute("class",e.join(" "))),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t),this},reference:function(t){return h.get(this.attr()[t])},_parent:function(t){for(var e=this;null!=e&&!(e instanceof t);)e=e.parent;return e}}}),h.Parent=h.invent({create:function(t){this.constructor.call(this,t)},inherit:h.Element,extend:{children:function(){return this._children||(this._children=[])},add:function(t,e){return this.has(t)||(e=null==e?this.children().length:e,t.parent&&t.parent.children().splice(t.parent.index(t),1),this.children().splice(e,0,t),this.node.insertBefore(t.node,this.node.childNodes[e]||null),t.parent=this),this._defs&&(this.node.removeChild(this._defs.node),this.node.appendChild(this._defs.node)),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return this.children().indexOf(t)},get:function(t){return this.children()[t]},first:function(){return this.children()[0]},last:function(){return this.children()[this.children().length-1]},each:function(t,e){var n,i,r=this.children();for(n=0,i=r.length;i>n;n++)r[n]instanceof h.Element&&t.apply(r[n],[n,r]),e&&r[n]instanceof h.Container&&r[n].each(t,e);return this},removeElement:function(t){return this.children().splice(this.index(t),1),this.node.removeChild(t.node),t.parent=null,this},clear:function(){for(var t=this.children().length-1;t>=0;t--)this.removeElement(this.children()[t]);return this._defs&&this._defs.clear(),this},defs:function(){return this.doc().defs()}}}),h.Container=h.invent({create:function(t){this.constructor.call(this,t)},inherit:h.Parent,extend:{viewbox:function(t){return 0==arguments.length?new h.ViewBox(this):(t=1==arguments.length?[t.x,t.y,t.width,t.height]:[].slice.call(arguments),this.attr("viewBox",t))}}}),h.FX=h.invent({create:function(t){this.target=t},extend:{animate:function(t,e,n){var i,s,o,a,c=this.target,u=this;return"object"==typeof t&&(n=t.delay,e=t.ease,t=t.duration),t="="==t?t:null==t?1e3:new h.Number(t).valueOf(),e=e||"<>",u.to=function(t){var n;if(t=0>t?0:t>1?1:t,null==i){i=[];for(a in u.attrs)i.push(a);if(c.morphArray&&(u._plot||i.indexOf("points")>-1)){var h,l=new c.morphArray(u._plot||u.attrs.points||c.array);u._size&&l.size(u._size.width.to,u._size.height.to),h=l.bbox(),u._x?l.move(u._x.to,h.y):u._cx&&l.move(u._cx.to-h.width/2,h.y),h=l.bbox(),u._y?l.move(h.x,u._y.to):u._cy&&l.move(h.x,u._cy.to-h.height/2),delete u._x,delete u._y,delete u._cx,delete u._cy,delete u._size,u._plot=c.array.morph(l)}}if(null==s){s=[];for(a in u.trans)s.push(a)}if(null==o){o=[];for(a in u.styles)o.push(a)}for(t="<>"==e?-Math.cos(t*Math.PI)/2+.5:">"==e?Math.sin(t*Math.PI/2):"<"==e?-Math.cos(t*Math.PI/2)+1:"-"==e?t:"function"==typeof e?e(t):t,u._plot?c.plot(u._plot.at(t)):(u._x?c.x(u._x.at(t)):u._cx&&c.cx(u._cx.at(t)),u._y?c.y(u._y.at(t)):u._cy&&c.cy(u._cy.at(t)),u._size&&c.size(u._size.width.at(t),u._size.height.at(t))),u._viewbox&&c.viewbox(u._viewbox.x.at(t),u._viewbox.y.at(t),u._viewbox.width.at(t),u._viewbox.height.at(t)),u._leading&&c.leading(u._leading.at(t)),n=i.length-1;n>=0;n--)c.attr(i[n],r(u.attrs[i[n]],t));for(n=s.length-1;n>=0;n--)c.transform(s[n],r(u.trans[s[n]],t));for(n=o.length-1;n>=0;n--)c.style(o[n],r(u.styles[o[n]],t));u._during&&u._during.call(c,t,function(e,n){return r({from:e,to:n},t)})},"number"==typeof t&&(this.timeout=setTimeout(function(){var i=(new Date).getTime();u.situation={interval:1e3/60,start:i,play:!0,finish:i+t,duration:t},u.render=function(){if(u.situation.play===!0){var i=(new Date).getTime(),r=i>u.situation.finish?1:(i-u.situation.start)/t;u.to(r),i>u.situation.finish?(u._plot&&c.plot(new h.PointArray(u._plot.destination).settle()),u._loop===!0||"number"==typeof u._loop&&u._loop>1?("number"==typeof u._loop&&--u._loop,u.animate(t,e,n)):u._after?u._after.apply(c,[u]):u.stop()):requestAnimFrame(u.render)}else requestAnimFrame(u.render)},u.render()},new h.Number(n).valueOf())),this},bbox:function(){return this.target.bbox()},attr:function(t,e){if("object"==typeof t)for(var n in t)this.attr(n,t[n]);else{var i=this.target.attr(t);this.attrs[t]=h.Color.isColor(i)?new h.Color(i).morph(e):h.regex.unit.test(i)?new h.Number(i).morph(e):{from:i,to:e}}return this},transform:function(t,e){if(1==arguments.length){t=a(t),delete t.matrix;for(e in t)this.trans[e]={from:this.target.trans[e],to:t[e]}}else{var n={};n[t]=e,this.transform(n)}return this},style:function(t,e){if("object"==typeof t)for(var n in t)this.style(n,t[n]);else this.styles[t]={from:this.target.style(t),to:e};return this},x:function(t){return this._x=new h.Number(this.target.x()).morph(t),this},y:function(t){return this._y=new h.Number(this.target.y()).morph(t),this},cx:function(t){return this._cx=new h.Number(this.target.cx()).morph(t),this},cy:function(t){return this._cy=new h.Number(this.target.cy()).morph(t),this},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){if(this.target instanceof h.Text)this.attr("font-size",t);else{var n=this.target.bbox();this._size={width:new h.Number(n.width).morph(t),height:new h.Number(n.height).morph(e)}}return this},plot:function(t){return this._plot=t,this},leading:function(t){return this.target._leading&&(this._leading=new h.Number(this.target._leading).morph(t)),this},viewbox:function(t,e,n,i){if(this.target instanceof h.Container){var r=this.target.viewbox();this._viewbox={x:new h.Number(r.x).morph(t),y:new h.Number(r.y).morph(e),width:new h.Number(r.width).morph(n),height:new h.Number(r.height).morph(i)}}return this},update:function(t){return this.target instanceof h.Stop&&(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new h.Number(t.offset))),this},during:function(t){return this._during=t,this},after:function(t){return this._after=t,this},loop:function(t){return this._loop=t||!0,this},stop:function(t){return t===!0?(this.animate(0),this._after&&this._after.apply(this.target,[this])):(clearTimeout(this.timeout),this.attrs={},this.trans={},this.styles={},this.situation={},delete this._x,delete this._y,delete this._cx,delete this._cy,delete this._size,delete this._plot,delete this._loop,delete this._after,delete this._during,delete this._leading,delete this._viewbox),this},pause:function(){return this.situation.play===!0&&(this.situation.play=!1,this.situation.pause=(new Date).getTime()),this},play:function(){if(this.situation.play===!1){var t=(new Date).getTime()-this.situation.pause;this.situation.finish+=t,this.situation.start+=t,this.situation.play=!0}return this}},parent:h.Element,construct:{animate:function(t,e,n){return(this.fx||(this.fx=new h.FX(this))).stop().animate(t,e,n)},stop:function(t){return this.fx&&this.fx.stop(t),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this}}}),h.extend(h.Element,h.FX,{dx:function(t){return this.x((this.target||this).x()+t)},dy:function(t){return this.y((this.target||this).y()+t)},dmove:function(t,e){return this.dx(t).dy(e)}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){h.Element.prototype[t]=function(e){var n=this;return this.node["on"+t]="function"==typeof e?function(){return e.apply(n,arguments)}:null,this}}),h.events={},h.listeners={},h.registerEvent=function(t){h.events[t]||(h.events[t]=new u(t))},h.on=function(t,e,n){var i=n.bind(t.instance||t);h.listeners[t]=h.listeners[t]||{},h.listeners[t][e]=h.listeners[t][e]||{},h.listeners[t][e][n]=i,t.addEventListener(e,i,!1)},h.off=function(t,e,n){if(n)h.listeners[t]&&h.listeners[t][e]&&(t.removeEventListener(e,h.listeners[t][e][n],!1),delete h.listeners[t][e][n]);else if(e){if(h.listeners[t][e]){for(n in h.listeners[t][e])h.off(t,e,n);delete h.listeners[t][e]}}else if(h.listeners[t]){for(e in h.listeners[t])h.off(t,e);delete h.listeners[t]}},h.extend(h.Element,{on:function(t,e){return h.on(this.node,t,e),this},off:function(t,e){return h.off(this.node,t,e),this},fire:function(t,e){return h.events[t].detail=e,this.node.dispatchEvent(h.events[t]),delete h.events[t].detail,this}}),h.Defs=h.invent({create:"defs",inherit:h.Container}),h.G=h.invent({create:"g",inherit:h.Container,extend:{x:function(t){return null==t?this.trans.x:this.transform("x",t)},y:function(t){return null==t?this.trans.y:this.transform("y",t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)}},construct:{group:function(){return this.put(new h.G)}}}),h.extend(h.Element,{siblings:function(){return this.parent.children()},position:function(){return this.parent.index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position();return this.parent.removeElement(this).put(this,t+1)},backward:function(){var t=this.position();return t>0&&this.parent.removeElement(this).add(this,t-1),this},front:function(){return this.parent.removeElement(this).put(this)},back:function(){return this.position()>0&&this.parent.removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent.add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent.add(t,e+1),this}}),h.Mask=h.invent({create:function(){this.constructor.call(this,h.create("mask")),this.targets=[]},inherit:h.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return delete this.targets,this.parent.removeElement(this),this}},construct:{mask:function(){return this.defs().put(new h.Mask)}}}),h.extend(h.Element,{maskWith:function(t){return this.masker=t instanceof h.Mask?t:this.parent.mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),h.Clip=h.invent({create:function(){this.constructor.call(this,h.create("clipPath")),this.targets=[]},inherit:h.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return delete this.targets,this.parent.removeElement(this),this}},construct:{clip:function(){return this.defs().put(new h.Clip)}}}),h.extend(h.Element,{clipWith:function(t){return this.clipper=t instanceof h.Clip?t:this.parent.clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),h.Gradient=h.invent({create:function(t){this.constructor.call(this,h.create(t+"Gradient")),this.type=t},inherit:h.Container,extend:{from:function(t,e){return"radial"==this.type?this.attr({fx:new h.Number(t),fy:new h.Number(e)}):this.attr({x1:new h.Number(t),y1:new h.Number(e)})},to:function(t,e){return"radial"==this.type?this.attr({cx:new h.Number(t),cy:new h.Number(e)}):this.attr({x2:new h.Number(t),y2:new h.Number(e)})},radius:function(t){return"radial"==this.type?this.attr({r:new h.Number(t)}):this},at:function(t,e,n){return this.put(new h.Stop).update(t,e,n)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),h.extend(h.Defs,{gradient:function(t,e){return this.put(new h.Gradient(t)).update(e)}}),h.Stop=h.invent({create:"stop",inherit:h.Element,extend:{update:function(t){return("number"==typeof t||t instanceof h.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new h.Number(t.offset)),this}}}),h.Pattern=h.invent({create:"pattern",inherit:h.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),h.extend(h.Defs,{pattern:function(t,e,n){return this.put(new h.Pattern).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),h.Doc=h.invent({create:function(t){this.parent="string"==typeof t?document.getElementById(t):t,this.constructor.call(this,"svg"==this.parent.nodeName?this.parent:h.create("svg")),this.attr({xmlns:h.ns,version:"1.1",width:"100%",height:"100%"}).attr("xmlns:xlink",h.xlink,h.xmlns),this._defs=new h.Defs,this._defs.parent=this,this.node.appendChild(this._defs.node),this.doSpof=!1,this.parent!=this.node&&this.stage()},inherit:h.Container,extend:{stage:function(){var t=this;return this.parent.appendChild(this.node),t.spof(),h.on(window,"resize",function(){t.spof()}),this},defs:function(){return this._defs},spof:function(){if(this.doSpof){var t=this.node.getScreenCTM();t&&this.style("left",-t.e%1+"px").style("top",-t.f%1+"px")}return this},fixSubPixelOffset:function(){return this.doSpof=!0,this}}}),h.Shape=h.invent({create:function(t){this.constructor.call(this,t)},inherit:h.Element}),h.Symbol=h.invent({create:"symbol",inherit:h.Container,construct:{symbol:function(){return this.defs().put(new h.Symbol)}}}),h.Use=h.invent({create:"use",inherit:h.Shape,extend:{element:function(t){return this.target=t,this.attr("href","#"+t,h.xlink)}},construct:{use:function(t){return this.put(new h.Use).element(t)}}}),h.Rect=h.invent({create:"rect",inherit:h.Shape,construct:{rect:function(t,e){return this.put((new h.Rect).size(t,e))}}}),h.Ellipse=h.invent({create:"ellipse",inherit:h.Shape,extend:{x:function(t){return null==t?this.cx()-this.attr("rx"):this.cx(t+this.attr("rx"))},y:function(t){return null==t?this.cy()-this.attr("ry"):this.cy(t+this.attr("ry"))},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",new h.Number(t).divide(this.trans.scaleX))},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",new h.Number(t).divide(this.trans.scaleY))},width:function(t){return null==t?2*this.attr("rx"):this.attr("rx",new h.Number(t).divide(2))},height:function(t){return null==t?2*this.attr("ry"):this.attr("ry",new h.Number(t).divide(2))},size:function(t,e){var n=i(this.bbox(),t,e);return this.attr({rx:new h.Number(n.width).divide(2),ry:new h.Number(n.height).divide(2)})}},construct:{circle:function(t){return this.ellipse(t,t)},ellipse:function(t,e){return this.put(new h.Ellipse).size(t,e).move(0,0)}}}),h.Line=h.invent({create:"line",inherit:h.Shape,extend:{x:function(t){var e=this.bbox();return null==t?e.x:this.attr({x1:this.attr("x1")-e.x+t,x2:this.attr("x2")-e.x+t})},y:function(t){var e=this.bbox();return null==t?e.y:this.attr({y1:this.attr("y1")-e.y+t,y2:this.attr("y2")-e.y+t})},cx:function(t){var e=this.bbox().width/2;return null==t?this.x()+e:this.x(t-e)},cy:function(t){var e=this.bbox().height/2;return null==t?this.y()+e:this.y(t-e)},width:function(t){var e=this.bbox();return null==t?e.width:this.attr(this.attr("x1")<this.attr("x2")?"x2":"x1",e.x+t)},height:function(t){var e=this.bbox();return null==t?e.height:this.attr(this.attr("y1")<this.attr("y2")?"y2":"y1",e.y+t)},size:function(t,e){var n=i(this.bbox(),t,e);return this.width(n.width).height(n.height)},plot:function(t,e,n,i){return this.attr({x1:t,y1:e,x2:n,y2:i})}},construct:{line:function(t,e,n,i){return this.put((new h.Line).plot(t,e,n,i))}}}),h.Polyline=h.invent({create:"polyline",inherit:h.Shape,construct:{polyline:function(t){return this.put(new h.Polyline).plot(t)}}}),h.Polygon=h.invent({create:"polygon",inherit:h.Shape,construct:{polygon:function(t){return this.put(new h.Polygon).plot(t)}}}),h.extend(h.Polyline,h.Polygon,{morphArray:h.PointArray,plot:function(t){return this.attr("points",this.array=new h.PointArray(t,[[0,0]]))},move:function(t,e){return this.attr("points",this.array.move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)},size:function(t,e){var n=i(this.bbox(),t,e);return this.attr("points",this.array.size(n.width,n.height))}}),h.Path=h.invent({create:"path",inherit:h.Shape,extend:{plot:function(t){return this.attr("d",this.array=new h.PathArray(t,[["M",0,0]]))},move:function(t,e){return this.attr("d",this.array.move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var n=i(this.bbox(),t,e);return this.attr("d",this.array.size(n.width,n.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new h.Path).plot(t)}}}),h.Image=h.invent({create:"image",inherit:h.Shape,extend:{load:function(t){if(!t)return this;var e=this,n=document.createElement("img");return n.onload=function(){var i=e.doc(h.Pattern);0==e.width()&&0==e.height()&&e.size(n.width,n.height),i&&0==i.width()&&0==i.height()&&i.size(e.width(),e.height()),"function"==typeof e._loaded&&e._loaded.call(e,{width:n.width,height:n.height,ratio:n.width/n.height,url:t})},this.attr("href",n.src=this.src=t,h.xlink)},loaded:function(t){return this._loaded=t,this}},construct:{image:function(t,e,n){return this.put(new h.Image).load(t).size(e||0,n||e||0)}}}),h.Text=h.invent({create:function(){this.constructor.call(this,h.create("text")),this._leading=new h.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",h.defaults.attrs["font-family"])},inherit:h.Shape,extend:{x:function(t){return null==t?this.attr("x"):(this.textPath||this.lines.each(function(){this.newLined&&this.x(t)}),this.attr("x",t))},y:function(t){var e=this.attr("y"),n="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-n:e:this.attr("y","number"==typeof t?t+n:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if("undefined"==typeof t)return this.content;if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{t=(this.content=t).split("\n");for(var e=0,n=t.length;n>e;e++)this.tspan(t[e]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this._leading:(this._leading=new h.Number(t),this.rebuild())},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this;this.lines.each(function(){this.newLined&&(this.textPath||this.attr("x",e.attr("x")),this.attr("dy",e._leading*new h.Number(e.attr("font-size"))))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this}},construct:{text:function(t){return this.put(new h.Text).text(t)},plain:function(t){return this.put(new h.Text).plain(t)}}}),h.TSpan=h.invent({create:"tspan",inherit:h.Shape,extend:{text:function(t){return"function"==typeof t?t.call(this,this):this.plain(t),this},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.doc(h.Text);return this.newLined=!0,this.dy(t._leading*t.attr("font-size")).attr("x",t.x())}}}),h.extend(h.Text,h.TSpan,{plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(document.createTextNode(this.content=t)),this},tspan:function(t){var e=(this.textPath||this).node,n=new h.TSpan;return this._build===!1&&this.clear(),e.appendChild(n.node),n.parent=this,this instanceof h.Text&&this.lines.add(n),n.text(t)},clear:function(){for(var t=(this.textPath||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this instanceof h.Text&&(delete this.lines,this.lines=new h.Set,this.content=""),this},length:function(){
return this.node.getComputedTextLength()}}),h.registerEvent("rebuild"),h.TextPath=h.invent({create:"textPath",inherit:h.Element,parent:h.Text,construct:{path:function(t){for(this.textPath=new h.TextPath;this.node.hasChildNodes();)this.textPath.node.appendChild(this.node.firstChild);return this.node.appendChild(this.textPath.node),this.track=this.doc().defs().path(t),this.textPath.parent=this,this.textPath.attr("href","#"+this.track,h.xlink),this},plot:function(t){return this.track&&this.track.plot(t),this}}}),h.Nested=h.invent({create:function(){this.constructor.call(this,h.create("svg")),this.style("overflow","visible")},inherit:h.Container,construct:{nested:function(){return this.put(new h.Nested)}}}),h.A=h.invent({create:"a",inherit:h.Container,extend:{to:function(t){return this.attr("href",t,h.xlink)},show:function(t){return this.attr("show",t,h.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new h.A).to(t)}}}),h.extend(h.Element,{linkTo:function(t){var e=new h.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent.put(e).put(this)}}),h.Marker=h.invent({create:"marker",inherit:h.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,n){return this.defs().marker(t,e,n)}}}),h.extend(h.Defs,{marker:function(t,e,n){return this.put(new h.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}}),h.extend(h.Line,h.Polyline,h.Polygon,h.Path,{marker:function(t,e,n,i){var r=["marker"];return"all"!=t&&r.push(t),r=r.join("-"),t=arguments[1]instanceof h.Marker?arguments[1]:this.doc().marker(e,n,i),this.attr(r,t)}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};return["fill","stroke"].forEach(function(t){var e,n={};n[t]=function(n){if("string"==typeof n||h.Color.isRgb(n)||n&&"function"==typeof n.fill)this.attr(t,n);else for(e=l[t].length-1;e>=0;e--)null!=n[l[t][e]]&&this.attr(l.prefix(t,l[t][e]),n[l[t][e]]);return this},h.extend(h.Element,h.FX,n)}),h.extend(h.Element,h.FX,{rotate:function(t,e,n){return this.transform({rotation:t||0,cx:e,cy:n})},skew:function(t,e){return this.transform({skewX:t||0,skewY:e||0})},scale:function(t,e){return this.transform({scaleX:t,scaleY:null==e?t:e})},translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.transform({matrix:t})},opacity:function(t){return this.attr("opacity",t)}}),h.extend(h.Rect,h.Ellipse,h.FX,{radius:function(t,e){return this.attr({rx:t,ry:e||t})}}),h.extend(h.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),h.extend(h.Parent,h.Text,h.FX,{font:function(t){for(var e in t)"leading"==e?this.leading(t[e]):"anchor"==e?this.attr("text-anchor",t[e]):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t[e]):this.attr(e,t[e]);return this}}),h.Set=h.invent({create:function(){this.clear()},extend:{add:function(){var t,e,n=[].slice.call(arguments);for(t=0,e=n.length;e>t;t++)this.members.push(n[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;n>e;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){var t=new h.BBox;if(0==this.members.length)return t;var e=this.members[0].rbox();return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,this.each(function(){t=t.merge(this.rbox())}),t}},construct:{set:function(){return new h.Set}}}),h.SetFX=h.invent({create:function(t){this.set=t}}),h.Set.inherit=function(){var t,e=[];for(var t in h.Shape.prototype)"function"==typeof h.Shape.prototype[t]&&"function"!=typeof h.Set.prototype[t]&&e.push(t);e.forEach(function(t){h.Set.prototype[t]=function(){for(var e=0,n=this.members.length;n>e;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new h.SetFX(this)):this}}),e=[];for(var t in h.FX.prototype)"function"==typeof h.FX.prototype[t]&&"function"!=typeof h.SetFX.prototype[t]&&e.push(t);e.forEach(function(t){h.SetFX.prototype[t]=function(){for(var e=0,n=this.set.members.length;n>e;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}})},h.extend(h.Element,{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(i){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:n===!0||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),h.extend(h.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),"function"==typeof define&&define.amd?define(function(){return h}):"undefined"!=typeof exports&&(exports.SVG=h),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),h}),SVG.wrap=function(t){t.length&&(t=t[0]);var e=capitalize(t.nodeName);try{var n=new SVG[e]}catch(i){throw"No such SVG type '"+e+"'"}return n.node=t,n},function(){(function(){function t(e,n,i,r,s){var o,a,c,u,h,l,d,p,f;for(o=0,a=e.length;a>o;o++){switch(l=e[o],d={},f=[],h=l.nodeName.toLowerCase(),d=SVG.parse.attr(l),h){case"rect":case"circle":case"ellipse":u=n[h](0,0);break;case"line":u=n.line(0,0,0,0);break;case"text":if(l.childNodes.length<2)u=n[h](l.textContent);else{var m;for(u=null,c=0;c<l.childNodes.length;c++)m=l.childNodes[c],"tspan"==m.nodeName.toLowerCase()&&(null===u?u=n[h](m.textContent):u.tspan(m.textContent).attr(SVG.parse.attr(m)))}break;case"path":u=n.path(d.d);break;case"polygon":case"polyline":u=n[h](d.points);break;case"image":u=n.image(d["xlink:href"]);break;case"g":case"svg":u=n["g"==h?"group":"nested"](),t(l.childNodes,u,i+1,r,s);break;case"defs":t(l.childNodes,n.defs(),i+1,r,s);break;case"use":u=n.use();break;case"clippath":case"mask":u=n["mask"==h?"mask":"clip"](),t(l.childNodes,u,i+1,r,s);break;case"lineargradient":case"radialgradient":u=n.defs().gradient(h.split("gradient")[0],function(t){for(var e=0;e<l.childNodes.length;e++)t.at({offset:0}).attr(SVG.parse.attr(l.childNodes[e])).style(l.childNodes[e].getAttribute("style"))});break;case"#comment":case"#text":case"metadata":case"desc":break;default:console.log("SVG Import got unexpected type "+h,l)}switch(h){case"circle":d.rx=d.r,d.ry=d.r,delete d.r}u&&(p=SVG.parse.transform(d.transform),delete d.transform,u.attr(d).transform(p),u.attr("id")&&r.add(u.attr("id"),u,0==i),"text"==h&&u.rebuild(),"function"==typeof s&&s.call(u,i))}return n}SVG&&(SVG.extend(SVG.Container,{svg:function(e,n){var i=document.createElement("div"),r=new SVG.ImportStore;return i.innerHTML=e.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>"),t(i.childNodes,this,0,r,n),i=null,r}}),SVG.ImportStore=function(){this._importStoreRoots=new SVG.Set,this._importStore={}},SVG.extend(SVG.ImportStore,{add:function(t,e,n){if(t){if(this._importStore[t]){var i=t;t+=Math.round(1e16*Math.random()),console.warn('Encountered duplicate id "'+i+'". Changed store key to "'+t+'".')}this._importStore[t]=e}return n===!0&&this._importStoreRoots.add(e),this},roots:function(t){return"function"==typeof t?(this._importStoreRoots.each(t),this):this._importStoreRoots.valueOf()},get:function(t){return this._importStore[t]},remove:function(){return this.roots(function(){this.remove()})}}))}).call(this)}(),function(){!function(){SVG.parse={attr:function(t){var e,n=t.attributes||[],i={};for(e=n.length-1;e>=0;e--)i[n[e].nodeName]=n[e].nodeValue;return"undefined"!=typeof i.stroke&&"undefined"==typeof i["stroke-width"]&&(i["stroke-width"]=1),i},transform:function(t){var e,n,i,r={},s=(t||"").match(/[A-Za-z]+\([^\)]+\)/g)||[],o=SVG.defaults.trans();for(e=s.length-1;e>=0;e--)switch(n=s[e].match(/([A-Za-z]+)\(([^\)]+)\)/),i=(n[2]||"").replace(/^\s+/,"").replace(/,/g," ").replace(/\s+/g," ").split(" "),n[1]){case"matrix":r.a=SVG.regex.isNumber.test(i[0])?parseFloat(i[0]):o.a,r.b=parseFloat(i[1])||o.b,r.c=parseFloat(i[2])||o.c,r.d=SVG.regex.isNumber.test(i[3])?parseFloat(i[3]):o.d,r.e=parseFloat(i[4])||o.e,r.f=parseFloat(i[5])||o.f;break;case"rotate":r.rotation=parseFloat(i[0])||o.rotation,r.cx=parseFloat(i[1])||o.cx,r.cy=parseFloat(i[2])||o.cy;break;case"scale":r.scaleX=SVG.regex.isNumber.test(i[0])?parseFloat(i[0]):o.scaleX,r.scaleY=SVG.regex.isNumber.test(i[1])?parseFloat(i[1]):o.scaleY;break;case"skewX":r.skewX=parseFloat(i[0])||o.skewX;break;case"skewY":r.skewY=parseFloat(i[0])||o.skewY;break;case"translate":r.x=parseFloat(i[0])||o.x,r.y=parseFloat(i[1])||o.y}return r}}}()}(),function(t){t.event.special.pointerpress||t.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},function(e,n){function i(n){var i,r=n.type;return("mouse"!==n.pointerType||1===n.which)&&(n.type=e,i=t.event.dispatch.apply(this,arguments),n.type=r),i}t.event.special[e]={setup:function(){t(this).on(n,i)},teardown:function(){t(this).off(n,i)}}})}(jQuery),$.extend({util:{}}),function(t){t.dom={getActiveElement:function(){try{return t(document.activeElement)}catch(e){return t()}}},t.fn.isFocused=function(){return this.is(t.dom.getActiveElement())}}(jQuery),function(){function t(){n.hasClass("pointerfocus")&&(r=!0,setTimeout(function(){r=!1}))}var e=$(window),n=$(document.documentElement),i=0,r=!1;document.documentMode<=11?n.on("focusin",function(e){var n=e.originalEvent;!n||n.fromElement||n.relatedTarget||t()}):e.on("blur",function(){e.one("focus",t)}),n.addClass("utilityfocus").on({focusin:function(){n.toggleClass("pointerfocus",r).toggleClass("utilityfocus",!r)},keydown:function(){clearTimeout(i),r=!1},"pointerdown pointerup click":function(t){r=!0,clearTimeout(i),i=setTimeout(function(){r=!1},600)}})}(),function(t,e){function n(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function i(t,e,i){if(c(t))return void(e[n(i,"*","*")]=t);var r,s,o;for(r in t)if(u(t,r))if(o=t[r],c(o))e[n(i,r,"*")]=o;else for(s in o)u(o,s)&&(e[n(i,r,s)]=o[s])}function r(t,e){return e?Array.isArray(e)?function(n){for(var i=0,r=e.length;r>i;)if(n.hasMod(t,e[i++]))return!0;return!1}:function(n){return n.hasMod(t,e)}:function(e){return e.hasMod(t)}}function s(t){t.onSetMod&&(i(t.onSetMod,t),delete t.onSetMod);var e,n;if(t.onElemSetMod){for(e in t.onElemSetMod)u(t.onElemSetMod,e)&&(n=t.onElemSetMod[e],i(n,t,e));delete t.onElemSetMod}}var o=[],a=t.inherit,c=t.isFunction,u=Function.prototype.call.bind(Object.prototype.hasOwnProperty),h={},l="_",d="__",p={};this.BEM=a(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,n!==!1?i._init():i.afterCurrentEvent(function(){i._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(e,n,i,r){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},trigger:function(e,n){var i=!0;return"object"!=typeof e||e instanceof t.Event||(i="js"===e.modName||this.hasMod("js"),e=this.__self._buildModEventName(e)),i&&(this.__base(e=this.buildEvent(e),n),this._trigger(e,n)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,i){var r=arguments.length,s=!1;1==r?(i="",n=t,t=e,s=!0):2==r&&("string"==typeof t?(i=n,n=t,t=e):(i="",s=!0));var o=this.getMod(t,n)===i;return s?!o:o},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache,r=e in i?i[e]:i[e]=this._extractModVal(e);return r}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var e=t&&"string"!=typeof t,n=this._modCache,i=[].slice.call(arguments,e?1:0);return i.length?i.reduce(function(t,e){return e in n&&(t[e]=n[e]),t},{}):n},setMod:function(n,i,r){"undefined"==typeof r&&("string"==typeof n?(r="undefined"==typeof i?!0:i,i=n,n=e):r=!0);var s=this;if(!n||n[0]){r===!1||null===r?r="":r!==!0&&(r=r.toString());var o=(n&&n[0]?t.identify(n[0]):"")+"_"+i;if(this._processingMods[o])return s;var a,c=n?s._getElemMod(i,n,a=s.__self._extractElemNameFrom(n)):s.getMod(i);if(c===r)return s;this._processingMods[o]=!0;var u=!0,h=[i,r,c];n&&h.unshift(n),[["*","*"],[i,"*"],[i,r]].forEach(function(t){u=s._callModFn(a,t[0],t[1],h)!==!1&&u}),!n&&u&&(s._modCache[i]=r),u&&s._afterSetMod(i,r,c,n,a),delete this._processingMods[o]}return s},_afterSetMod:function(t,e,n,i,r){var s={modName:t,modVal:e,oldModVal:n};i&&(s.elem=i),this.trigger({modName:t,modVal:"*",elem:r},s).trigger({modName:t,modVal:e,elem:r},s)},toggleMod:function(t,n,i,r,s){"string"==typeof t&&(s=r,r=i,i=n,n=t,t=e),"undefined"==typeof r?r="":"boolean"==typeof r&&(s=r,r="");var o=this.getMod(t,n);return(o==i||o==r)&&this.setMod(t,n,"boolean"==typeof s?s?i:r:this.hasMod(t,n,i)?r:i),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,i,r,s){var o=n(t,i,r);return this[o]?this[o].apply(this,s):e},_extractModVal:function(t,e){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},t.extend(this.BEM,{_name:"i-bem",blocks:h,decl:function(n,i,o){"string"==typeof n?n={block:n}:n.name&&(n.block=n.name),s(i||(i={}));var u=h[n.baseBlock||n.block]||this;if(n.modName){var l=r(n.modName,n.modVal);t.each(i,function(t,n){c(n)&&(i[t]=function(){var r;if(l(this))r=n;else{var s=u.prototype[t];s&&s!==i[t]&&(r=this.__base)}return r?r.apply(this,arguments):e})})}if(o&&"boolean"==typeof o.live){var d=o.live;o.live=function(){return d}}var p,f=u;return n.baseMix&&(f=[f],n.baseMix.forEach(function(t){f.push(h[t])})),n.block==u._name?(p=a.self(f,i,o))._processLive(!0):((p=h[n.block]=a(f,i,o))._name=n.block,delete p._liveInitable),p},declMix:function(t,e,n){return s(e||(e={})),t=h[t]=a(e,n)},_processLive:function(t){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new h[t.block](t.mods,e)},getName:function(){return this._name},on:function(e,n,i,r){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e=l+t.modName+l+(t.modVal===!1?"":t.modVal);return t.elem&&(e=d+t.elem+e),e},_extractElemNameFrom:function(t){},afterCurrentEvent:function(t,e){1==o.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=o.length;t&&o.splice(0,t).forEach(function(t){t.fn.call(t.ctx||this)},this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);i>n;)delete t[arguments[n++]];return this},channel:function(n,i){return"boolean"==typeof n&&(i=n,n=e),n||(n="default"),i?void(p[n]&&(p[n].un(),delete p[n])):p[n]||(p[n]=new t.observable)}}))}(jQuery),function(t,e,n){function i(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function r(t,e,n){null!=e&&e!==!1&&(n.push(c,t),e!==!0&&n.push(c,e))}function s(t,e,n,i){i.push(t),r(e,n,i)}function o(t,e,n,i,o){s(t,a,a,o),o.push(u,e),r(n,i,o)}var a,c="_",u="__",h="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:h,MOD_DELIM:c,ELEM_DELIM:u,buildModPostfix:function(t,e,n){var i=n||[];return r(t,e,i),n?i:i.join("")},buildClass:function(t,e,n,r,c){if(i(n)?i(r)||(c=r,r=n,n=e,e=a):"undefined"!=typeof n?(c=n,n=a):e&&"string"!=typeof e&&(c=e,e=a),!e&&"undefined"==typeof n&&!c)return t;var u=c||[];return e?o(t,e,n,r,u):s(t,n,r,u),c?u:u.join("")},buildClasses:function(t,i,r,a){i&&"string"!=typeof i&&(a=r,r=i,i=n);var c=a||[];return i?o(t,i,n,n,c):s(t,n,n,c),r&&e.each(r,function(e,n){n&&(c.push(" "),i?o(t,i,e,n,c):s(t,e,n,c))}),a?c:c.join("")}}}(BEM,jQuery),function(t,e,n){function i(t,n){var i=t[0];e.each(a(i),function(o,a){s(a,i,o,n);var c=f[a.uniqId];c?c.domElem.index(i)<0&&(c.domElem=c.domElem.add(t),e.extend(c._params,a)):r(o,t,a)})}function r(t,i,r,o,c){"boolean"==typeof r&&(c=o,o=r,r=n);var u=i[0];if(!u||u.dataset===n||"react"!==u.dataset.lego){r=s(r||a(u)[t],u,t);var h=r.uniqId;if(f[h])return f[h]._init();p[h]=p[h]?p[h].add(i):i;var l=u.parentNode;l&&11!==l.nodeType||e.unique(p[h]);var d=y[t]||C.decl(t,{},{live:!0});if(!(d._liveInitable=Boolean(d._processLive()))||o||r.live===!1){o&&i.addClass("i-bem");var m=new d(p[h],r,Boolean(o));return delete p[h],c&&c.apply(m,E.call(arguments,4)),m}}}function s(t,n,i,r){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(r||e.identify()));var s=e.identify(n),o=m[s]||(m[s]={});return o[i]||(o[i]=t),t}function o(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function a(t){var n=e.identify(t);return m[n]||(m[n]=c(t))}function c(t){var e,n=t.getAttribute("data-bem");return n?JSON.parse(n):e?e():{}}function u(t){delete m[e.identify(t)]}function h(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}var l=e(window),d=e(document),p={},f={},m={},g={},_={},y=t.blocks,b=t.INTERNAL,v=b.NAME_PATTERN,x=b.MOD_DELIM,S=b.ELEM_DELIM,w=RegExp("[^"+x+"]"+x+"("+v+")(?:"+x+"("+v+"))?$"),k=b.buildModPostfix,P=b.buildClass,E=Array.prototype.slice,M=Array.prototype.reverse;e.fn.bem=function(t,e){return r(t,this,e,!0)};var C=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){var r=this;r.domElem=t,r._eventNameCache={},r._elemCache={},r._blockInsideCache={},f[r._uniqId=n.uniqId||e.identify(r)]=r,r._needSpecialUnbind=!1,r.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._findBlocks("find",t,e,!0);return this._blockInsideCache[n]=i,i},blockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._blockInsideCache[n];return i||(i=this.findBlockInside(t,e)),i},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");var n="string"==typeof e?e:P(e.block,e.modName,e.modVal),i="string"==typeof t?t:t.__bemElemName;return i+":"+n},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,s,o){if(!this.domElem)return o?null:[];s||(s=i,i=n);var a=i?"string"==typeof i?this.findElem(i):i:this.domElem,c="string"==typeof s,u=c?s:s.block||s.blockName,h="."+(c?u:P(u,s.modName,s.modVal))+(o?":first":""),l=a.filter(h);if(t&&(l=l.add(a[t](h))),o)return l[0]?r(u,l.eq(0),!0):null;var d=[],p={};return e.each(l,function(t,n){var i=r(u,e(n),!0);p[i._uniqId]||(p[i._uniqId]=!0,d.push(i))}),d},bindToDomElem:function(t,i,r,s){e.isFunction(r)&&(s=r,r=n);var o=this,a=function(t){return(t.data||(t.data={})).domElem=e(this),s.apply(o,arguments)};return s?t.bind(o._buildEventName(i),r,(a.guid=s.guid=s.guid||e.guid++,a)):e.each(i,function(e,n){o.bindToDomElem(t,e,r,n)}),o},bindToDoc:function(t,e,n){return this._needSpecialUnbind=!0,this.bindToDomElem(d,t,e,n)},bindToWin:function(t,i,r){return e.isFunction(i)&&(r=i,i=n),this._needSpecialUnbind=!0,this.bindToDomElem(l,t,i,r)},bindTo:function(t,n,i,r){var s=arguments.length;switch(s){case 3:e.isFunction(i)&&(r=i,"object"==typeof n&&(i=n,n=t,t=this.domElem));break;case 2:e.isFunction(n)?(r=n,n=t,t=this.domElem):"string"==typeof t||t instanceof e||(i=n,n=t,t=this.domElem);break;case 1:n=t,t=this.domElem}return"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i,r)},unbindFromDomElem:function(t,e,n){return t.unbind(this._buildEventName(e),n),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(d,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(l,t,e)},unbindFrom:function(t,n,i){var r=arguments.length;return 1===r?(n=t,t=this.domElem):2===r&&e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,n,i)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var n="."+this._uniqId;if(-1===t.indexOf("."))return e[t]=t+n,e[t];var i=".bem_"+this.__self._name;return e[t]=t.split(".").map(function(t,e){return 0===e?t+i:i+"_"+t}).join("")+n,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(t,n){var i=this,r=g[i.__self._buildCtxEventName(t.type)],s={};r&&i.domElem.each(function(){for(var o=this,a=r.counter;o&&a;){var c=e.identify(o,!0);if(c){if(s[c])break;var u=r.ctxs[c];u&&(e.each(u,function(e,r){r.fn.call(r.ctx||i,t,n)}),a--),s[c]=!0}o=o.parentNode}})},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,r=[].slice.call(arguments,e?1:0),s=this._extractMods(r,e?t:n);return e||(r.length?r.forEach(function(t){i[t]=s[t]}):i=s),s},setMod:function(t,n,i){if(t&&"undefined"!=typeof i&&t.length>1){var r=this;return t.each(function(){var s=e(this);s.__bemElemName=t.__bemElemName,r.setMod(s,n,i)}),r}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,r=(e||this.domElem)[0];return r&&(i=r.getAttribute("class").match(this.__self._buildModValRE(t,n||e))),i?i[2]||!0:""},_extractMods:function(t,e){var n={},i=!t.length,r=0;return((e||this.domElem).eq(0).attr("class").match(this.__self._buildModValRE("("+(i?v:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=t.match(w);n[e[1]]=e[2]||!0,++r}),r<t.length&&t.forEach(function(t){t in n||(n[t]="")}),n},_afterSetMod:function(t,n,i,r,s){if(this._isDestructing)return this.__base.apply(this,arguments);var o=this.__self,a=o._buildModClassPrefix(t,s),c=o._buildModValRE(t,s,"g"),u=""===n||n===!1;(r||this.domElem).each(function(){var t=e(this),r=t.attr("class"),s=a;n!==!0&&(s+=x+n),(i===!0?c.test(r):(" "+r).indexOf(" "+a+x)>-1)?t.attr("class",r.replace(c,u?"":"$1"+s)):u||t.addClass(s)}),s&&this.dropElemCache(s,t,i).dropElemCache(s,t,n),this.__base.apply(this,arguments)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),e=e.split(" ");var r=this.__self.getName(),s=k(n,i),a=[],c=e.map(function(t){return a.push("."+P(r,t,n,i)),t+s}),u=1===c.length,h=o(t,a.join(","));return t===this.domElem&&a.forEach(function(t,n){(this._elemCache[c[n]]=u?h:h.filter(t)).__bemElemName=e[n]},this),h},_elem:function(t,e,n){return this._elemCache[t+k(e,n)]||this.findElem(t,e,n)},elem:function(t,n,i){if(2===arguments.length&&(i=!0),n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var r=e([]);return t.split(" ").forEach(function(t){r=r.add(this._elem(t,n,i))},this),r},dropElemCache:function(t,e,n){if(t){var i=k(e,n);t.indexOf(" ")<0?delete this._elemCache[t+i]:t.split(" ").forEach(function(t){delete this._elemCache[t+i]},this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),c(t[0])[P(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=t.parents().andSelf().index(this)>-1)}),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,i=n.__self;n._isDestructing||(n._isDestructing=!0,n._needSpecialUnbind&&i.doc.add(i.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each(function(t,n){var i=a(n);e.each(i,function(t,e){var i=f[e.uniqId];i?i._isDestructing||h(i,n):delete p[e.uniqId]}),u(n)}),t||n.domElem.remove(),n.__base(),delete f[n.un()._uniqId],delete n.domElem,delete n._elemCache)}},{scope:null,doc:d,win:l,html:e(document.documentElement),_processLive:function(t){var e=this._liveInitable;if("live"in this){var n="undefined"==typeof e;if(n^t){e=this.live()!==!1;var i=this.getName(),r=this.live;this.live=function(){return this.getName()===i?e:r.apply(this,arguments)}}}return e},init:function(t,n,r){!t||e.isFunction(t)?(r=n,n=t,t=d):"string"==typeof t&&(t=e(t));var s=e.identify();return o(t,".i-bem").each(function(){i(e(this),s)}),n&&this.afterCurrentEvent(function(){n.call(r||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,i,r){"boolean"!=typeof t&&(r=i,i=t,t=n),i&&(M.call(o(i,".i-bem",r)).each(function(t,n){var i=a(this);e.each(i,function(t,e){if(e.uniqId){var i=f[e.uniqId];i?h(i,n):delete p[e.uniqId]}}),u(this)}),t||(r?i.empty():i.remove()))},update:function(t,e,n,i){return this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){return this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){return this.init(e(n).appendTo(t))},prepend:function(t,n){return this.init(e(n).prependTo(t))},before:function(t,n){return this.init(e(n).insertBefore(t))},after:function(t,n){return this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,r){var s=this;if(n.indexOf(" ")>-1)n.split(" ").forEach(function(e){s._liveClassBind(t,e,i,r)});else{var o=_[n],a=e.identify(i);o||(o=_[n]={},d.bind(n,s._liveClassTrigger.bind(s))),o=o[t]||(o[t]={uniqIds:{},fns:[]}),a in o.uniqIds||(o.fns.push({uniqId:a,fn:s._buildLiveEventFn(i,r)}),o.uniqIds[a]=o.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var r=_[n];if(r)if(i){if(r=r[t]){var s=e.identify(i);if(s in r.uniqIds){var o=r.uniqIds[s],a=r.fns.length-1;for(r.fns.splice(o,1);a>o;)r.uniqIds[r.fns[o++].uniqId]=o-1;delete r.uniqIds[s]}}}else delete r[t];return this},_liveClassTrigger:function(t){var n=_[t.type];if(n){var i=t.target,r=Object.keys(n);do for(var s,o=" "+i.className+" ",a=0;s=r[a++];)if(-1!==o.indexOf(" "+s+" ")){for(var c=!1,u=n[s].fns,h=0;h<u.length;h++)u[h].fn.apply(e(i),arguments)===!1&&(c=!0);if(c&&t.preventDefault(),c||t.isPropagationStopped())return;r.splice(--a,1)}while(r.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(s){var o=[i._name,((s.data||(s.data={})).domElem=e(this)).closest(i.buildSelector()),!0],a=r.apply(null,n?o.concat([t,s]):o);return a&&!n&&t?t.apply(a,arguments):void 0}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,r,s){(!i||e.isFunction(i))&&(r=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var o=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(e){o._liveClassBind(P(o._name,e,t.modName,t.modVal),i,r,s)}),o):o._liveClassBind(P(o._name,t.elem,t.modName,t.modVal),i,r,s)},liveUnbindFrom:function(t,i,r){(!i||e.isFunction(i))&&(r=i,i=t,t=n);var s=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach(function(t){s._liveClassUnbind(P(s._name,t),i,r)}),s):s._liveClassUnbind(P(s._name,t),i,r)},_liveInitOnBlockEvent:function(t,e,n,i){var r=this._name;return y[e].on(t,function(t){if(t.block.domElem){var e=arguments,s=t.block[i](r);n&&s.forEach(function(t){n.apply(t,e)})}}),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},on:function(t,e,n,i,r){return t.jquery?this._liveCtxBind(t,e,n,i,r):this.__base(t,e,n,i,r)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,r){return this._liveCtxBind(t,e,n,i,r)},_liveCtxBind:function(t,i,r,s,o){var a=this;if("object"==typeof i&&(e.isFunction(r)||e.isFunction(s))&&(i=this._buildModEventName(i)),"string"==typeof i)if(e.isFunction(r)&&(o=s,s=r,r=n),i.indexOf(" ")>-1)i.split(" ").forEach(function(e){a._liveCtxBind(t,e,r,s,o)});else{var c=a._buildCtxEventName(i),u=g[c]||(g[c]={counter:0,ctxs:{}});t.each(function(){var t=e.identify(this),n=u.ctxs[t];n||(n=u.ctxs[t]={},++u.counter),n[e.identify(s)+(o?e.identify(o):"")]={fn:s,data:r,ctx:o}})}else e.each(i,function(e,n){a._liveCtxBind(t,e,n,r)});return a},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,r){"object"==typeof n&&e.isFunction(i)&&(n=this._buildModEventName(n));var s=this,o=g[n=s._buildCtxEventName(n)];return o&&(t.each(function(){var t,n=e.identify(this,!0);n&&(t=o.ctxs[n])&&(i&&delete t[e.identify(i)+(r?e.identify(r):"")],(!i||e.isEmptyObject(t))&&(o.counter--,delete o.ctxs[n]))}),o.counter||delete g[n]),s},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t.eq(0).attr("class").match(this._buildElemNameRE());return e?e[1]:n},extractParams:c,_buildModClassPrefix:function(t,e){return this._name+(e?S+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+x+t},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+x+"("+v+"))?(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+S+"("+v+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+P(this._name,t,e,n)},getBlockByUniqId:function(t){return f[t]},getWindowSize:function(){return{width:l.width(),height:l.height()}}});e(function(){t.DOM.scope=e("body")})}(BEM,jQuery),BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:this.__self.getCookie("yandex_login")?$.cookie("yandex_login")||"":"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){return"undefined"==typeof e?(this._params||{})[t]:void(this._params&&(this._params[t]=e))},getCookie:function(t){var e=document.cookie;
if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1===n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1===i?e.substring(n):e.substring(n,i))}}),function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()?e.getCookie("yandex_login")||"":"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":n.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,i){n=n||document,i=i||".g-js",t(n).find(i).each(function(){var n=t(this),i=n.data("bem")||(this.onclick?this.onclick():{}),r=i.name||"",s=e.block[r];s&&!n.data(r)&&(s.call(n,i),n.data(r,!0).addClass(r+"_js_inited"))})}),e.blockInitBinded||(e.blockInitBinded=Boolean(t(document).ready(function(){e.blockInit()})))}(jQuery,window.Lego),function(t,e){var n={};/msie|trident/i.test(e)?n.ie=parseInt(e.split(/msie|rv:/i)[1],10):-1!==e.indexOf("Opera")&&(n.opera=parseInt(e.split(/Version\//i)[1],10));var i,r={},s={};(i=e.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?r.wp=i[1]:(i=e.match(/Android\s+([\d.]+)/))?r.android=i[1]:e.match(/\sHTC[\s_].*AppleWebKit/)?r.android="2.3":(i=e.match(/iPhone\sOS\s([\d_]+)/))?(r.ios=i[1].replace(/_/g,"."),s.iphone=!0):(i=e.match(/iPad.*OS\s([\d_]+)/))?(r.ios=i[1].replace(/_/g,"."),s.ipad=!0):(i=e.match(/Bada\/([\d.]+)/))?r.bada=i[1]:(i=e.match(/MSIE\s9/))?r.wp="7.5":r.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var t=this.__self,e="other";["ios","android","bada","wp","opera"].some(function(n){return t[n]&&(e=n)}),this.setMod("platform",e)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=this.__self.ios||this.__self.android,e=t.split("."),n=e.shift(),i=e.join("-"),r=this.getMod("platform");return{platform:r,major:n,subversion:i}}}},{ios:r.ios,iphone:s.iphone,ipad:s.ipad,android:r.android,bada:r.bada,wp:r.wp,other:r.other,ua:e,ie:n.ie,opera:n.opera})}(window,navigator.userAgent),function(){BEM.DOM.decl("app",{onSetMod:{js:function(){var t=this;window.app=t,Date.now=Date.now||function(){return+new Date},t._initSettings(),t.container=t.findBlockInside("container"),t.addBlock=t.findBlockInside("add"),t.paranja=t.findBlockInside("paranja","paranja"),t.informerPopup=t.findBlockInside("add-informer-popup"),t.changeOrderPopup=t.findBlockInside("change-order-popup"),t.myOffset=t.params.myOffset,t.saveSettings=jQuery.throttle(t._saveSettings,5e3,t),t._loadSettings(),t.utctime=t.params.time,t.localtime=Date.now(),t.sync().then(function(){BEM.channel().trigger("tick",t.utctime),t.tickInterval=setInterval(t.tick.bind(t),40),t.syncInterval=setInterval(t.sync.bind(t),6e4)}),t.bindTo(t.elem("add-clock"),"pointerclick",t.addClock,t),t.bindTo(t.elem("change-order"),"pointerclick",t.showChangeOrderPopup,t),BEM.channel().on("layout",t.updateClocks,t),BEM.channel().on("offset",function(e,n){t.imhere.params.clock?(t.settings.myLocation=t.imhere.params.clock.id,n.save&&t.saveSettings()):t.resetOffset()}),t.highlightNew()}},metrika:{reachGoal:function(t,e){var n=window["yaCounter"+app.params.metrikaID];n&&n.reachGoal(t,e)}},_removeCityParams:function(){var t=window.location.search;if(t&&!(t.length<2)){var e=t.substr(1).split("&").map(function(t){return t.split("=")}).filter(function(t){return t[0].replace(/^city[1-5]/,"")}).map(function(t){return t.join("=")}).join("&"),n=window.location.pathname+(e?"?"+e:"");window.history?window.history.replaceState(null,null,n):window.location=n}},highlightNew:function(){var t=this,e=t.findBlocksInside({block:"tile",modName:"above",modVal:"yes"}),n=t.imhere||t.findBlockInside("tile");if(e.length){2===e.length&&e[0].imhere();var i=t.container.findBlockInside("popup"),r=t.findBlockInside("paranja");r.open(!1),r.on("click",function(){i.shake()}),t.scrollDown(),i.show(e[0].domElem),t.bindTo(t.elem("delete"),"pointerclick",function(){e.forEach(function(t){t.remove(!0)}),n.imhere(),BEM.channel().trigger("settings"),t.saveSettings(),r.close(),i.hide(),this._removeCityParams()}),t.bindTo(t.elem("keep"),"pointerclick",function(){e.forEach(function(e){delete e.params.clock.add,t.container.makeDraggable(e),e.delMod("above")}),t.saveSettings(),r.close(),i.hide(),this._removeCityParams()})}},showChangeOrderPopup:function(){var t=this.findBlockInside("container").findBlocksInside("tile");t.length>1&&this.changeOrderPopup.show(t)},updateClocks:function(){var t=this;t.settings.clocks=t.findBlocksInside("tile").map(function(t){return t.getData()}).filter(function(t){return!!t})},_initSettings:function(){var t=this.params.settings;this.settings=t;var e="yatime_"+storage.login,n=window.localStorage&&localStorage.getItem(e);if(!n)return!1;try{n=JSON.parse(n),n.clocks&&0!==n.clocks.length||(n.clocks=t.clocks)}catch(i){return!1}return this.settings=n,!0},_loadSettings:function(){this._initSettings()&&(this.saveSettings(!0),BEM.channel().trigger("settings"),this.rebuildClocks(),this.findBlockInside("settings").rebuild())},tick:function(){var t=this,e=Date.now()-t.localtime,n=t.utctime%1e3||1e3;t.utctime+=e,t.localtime+=e,(e>2e3||0>e)&&t.sync(),n+e>1e3&&(BEM.channel().trigger("tick",t.utctime),t.imhere&&t.setTitle())},setTitle:function(){var t=this.utctime?new Date(this.utctime+this.imhere.clock.offset.milliseconds):new Date,e=t.toJSON().substr(11,5),n=this.imhere.params.name,i=BEM.I18N("common","meta title");document.title=e+"  "+n+"  "+i},addClock:function(){var t=this;if(!t.addingClock){t.addingClock=!0,t.scrollDown();var e={block:"tile",cls:"no-transition",mods:{adding:"yes",theme:t.settings.theme,face:t.settings.face},data:{type:t.settings.type}},n=bh.apply(e);t.container.add($(n)),app.metrika.reachGoal("ADD_CLOCK"),BEM.channel().trigger("layout")}},moveTileTag:function(t,e){var n=app.container.domElem.get(0),i=n.children[t],r=e>t?n.children[e].nextSibling:n.children[e];n.insertBefore(i,r)},rebuildClocks:function(){var t=this;t.container.domElem.find(".tile").remove();var e=app.settings.clocks.map(function(t){return t.id});$.get(storage.syncUrl,{geo:e.join(),lang:storage.lang},function(e){app.settings.clocks.forEach(function(n){var i=e.clocks[n.id.toString().toLowerCase()],r={block:"tile",data:{details:i,settings:t.settings,clock:n,time:new Date(e.time)},mods:{theme:t.settings.theme,type:t.settings.type,above:n.add?"yes":""},js:{clock:n},attrs:{style:"width:"+100/app.settings.clocks.length+"%"}},s=bh.apply(r),o=$(s);t.container.add(o);var a=o.bem("tile");a.go(i),t.settings.myLocation==n.id&&a.imhere(!0)}),t.container.enableDragging(),BEM.channel().trigger("layout"),BEM.channel().trigger("settings"),t.highlightNew()})},sync:function(){var t=this,e=t.settings.clocks.map(function(t){return t.id}),n=Date.now();return $.get(storage.syncUrl,$.param({geo:e.join(),lang:storage.lang,ncrnd:Math.random()}),function(e){var i=Date.now(),r=i-n;t.utctime=e.time+r,t.localtime=Date.now(),BEM.channel().trigger("sync",e)})},_saveSettings:function(t){function e(){if(window.localStorage&&"function"==typeof window.localStorage.setItem){var t=$.extend(!0,{},n.settings);t.clocks=t.clocks.filter(function(t){return!t.add}),window.localStorage.setItem("yatime_"+i,JSON.stringify(n.settings))}}var n=this,i=storage.login;t||n.updateClocks();var r=$.extend(!0,{},n.settings);r.clocks&&r.clocks.map(function(t){delete t.name}),i?$.ajax({type:"POST",url:storage.saveUrl,data:r,headers:{"X-CSRF-Token":storage["secret-key"]},success:function(){window.localStorage&&"function"==typeof localStorage.removeItem&&localStorage.removeItem("yatime_"+i)},error:function(t,n,i){e()}}):e()},scrollDown:function(t){$(window).scrollTop(1e4),t&&t()},resetOffset:function(t){var e=this,n=e.findBlockInside("tile");n&&n.imhere(!t)},renderTime:function(t){var e=t?t>0?"+":"":"",n=Math.floor(Math.abs(t)),i=Math.floor(60*Math.abs(t)%60);n=n?n+" "+BEM.I18N("common","hours",{count:n})+" ":"",i=i?i+" "+BEM.I18N("common","minutes",{count:i}):"";var r="0 "+BEM.I18N("common","hours",{count:10});return n||i?e+n+i:r},renderDate:function(t){return t="number"==typeof t?new Date(t):t,bh.lib.util.date.getDateAsShortString(t)},getAvailableHeight:function(){var t=this.findBlockInside("header2"),e=t?t.getHeight():0,n=this.findBlockInside("footer"),i=n?n.domElem.parent().height():0;return $(window).height()-e-i},isNarrowScreen:function(){return this.container.isNarrowContainer()}})}(),BEM.DOM.decl("app",{onSetMod:{js:function(){var t=window.app=this;t.params.details&&(t.utctime=new Date(t.params.time).getTime(),t.localtime=(new Date).getTime(),t.clock=t.findBlockInside("clock"),t.geoid=t.params.details.id.toString().toLowerCase(),t.sync().then(function(){BEM.channel().trigger("tick",t.utctime),t.tickInterval=setInterval(t.tick.bind(t),40),t.syncInterval=setInterval(t.sync.bind(t),6e4),window.widget&&widget.adjustIFrameHeight()}))}},tick:function(){var t=this,e=(new Date).getTime()-t.localtime,n=t.utctime%1e3||1e3;t.utctime+=e,t.localtime+=e,(e>2e3||0>e)&&t.sync(),n+e>1e3&&(t.clock.tick(null,t.utctime),t.elem("date").text(t.renderDate(t.clock.time)))},renderDate:function(t){var e=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][t.getUTCMonth()],n=t.getUTCDate(),i=["su","mo","tu","we","th","fr","sa"][t.getUTCDay()];return(n+" "+BEM.I18N("common",e)+", "+BEM.I18N("common",i)).toUpperCase()},sync:function(){var t=this,e=(new Date).getTime();return $.get(storage.syncUrl,$.param({geo:t.geoid,lang:storage.lang,ncrnd:Math.random()}),function(n){var i=(new Date).getTime(),r=i-e;t.utctime=new Date(n.time).getTime()+r,t.localtime=(new Date).getTime(),t.clock.go(n.clocks[t.geoid])})}}),function(){BEM.DOM.decl("tile",{onSetMod:{js:function(){var t=this;t.clock=t.findBlockInside("clock"),t.weather=t.findBlockInside("weather"),t.city=t.findBlockInside("city","city"),t.comment=t.findBlockInside("comment","comment"),BEM.channel().on("offset",t.updateOffset,t);var e=t.params.clock&&t.params.clock.id==app.settings.myLocation;e&&!t.hasMod("above")&&(app.imhere=t,BEM.channel().trigger("offset",{offset:app.myOffset,save:!1})),t.comment.on("edited",function(e,n){t.params.clock.comment=n,app.saveSettings()}),t.bindTo(t.elem("settings"),"click",function(){t.menu.show(t.params.clock.id)}),t.bindTo(t.elem("offset-container"),"click",function(){t.imhere(!0),app.metrika.reachGoal("IM_HERE")}),t.elem("settings").on("mousedown",function(t){t.stopPropagation()}),t.elem("offset-container").on("mousedown",function(t){t.stopPropagation()}),t.elem("countries").on("mousedown",function(t){t.stopPropagation()}),t.city.on("select",function(e,n){t.switchTo(n.toString().toLowerCase())}),t.dropdownShowsCountries(),t.menu=t.findBlockInside("tile-menu"),t.menu.on("informer",function(){app.informerPopup.show(t.params.clock.id)}).on("share",function(t,e){app.showShare(e,"#")}).on("delete",function(){t.remove()}).on("comment",function(){t.findBlockInside("comment").setMod("edit","yes")}),BEM.channel().on("layout",function(){"yes"==t.getMod("adding")&&(app.scrollDown(function(){t.city.focus()}),t.city.on("blur",function(){app.addingClock=!1,t.city.un("blur"),t.remove()}))}),BEM.channel().on("sync",t.sync,t),BEM.channel().on("layout",t.update,t),BEM.channel().on("settings",t.update,t),BEM.channel().on("tick",function(e,n){0!=new Date(n).getUTCSeconds()||t.hasMod("adding")||BEM.afterCurrentEvent(function(){t.setDate(t.clock.time)})}),t.update(),app.imhere==t?t.imhere():t.updateOffset()}},switchTo:function(t){var e=this;e.params.clock={id:t},$.get(storage.syncUrl,$.param({geo:t}),function(n){e.delMod("adding"),app.container.makeDraggable(e),app.addingClock=!1,e.go(n.clocks[t]),app.saveSettings()})},go:function(t){var e=this;e.findBlockInside("city","city").un("blur",e.remove,e),e.clock.go(t),e.params.skyColor=t.skyColor,e.params.name=t.name,e.domElem.removeClass("no-transition"),e.params.countries=t.countries,e.setMod(e.elem("countries"),"show",e.params.countries&&e.params.countries.length?"yes":""),e.domElem.css({backgroundColor:"sky"==e.getMod("theme")?e.params.skyColor:""}),e.findBlockInside("city").delMod("edit"),e.findBlockInside("city").val(t.name),e.setDate(e.clock.time),e.setMod(e.elem("sun"),"show",app.settings.showSunriseSunset?"yes":""),e.findBlockInside("sun","sun").update(t);var n=storage["content-region"];"com"!==n&&t.weather&&void 0!==t.weather.temp?(e.weather.update(t.weather),e.setMod(e.elem("weather"),"show","yes")):e.delMod(e.elem("weather"),"show"),app.imhere==e?e.imhere():e.updateOffset(),e.params.parents=t.parents||[];var i=t.parents&&t.parents.filter(function(t){return Boolean(t.name)}).map(function(t){return t.name.toString()}).join(", ")||"";e.elem("parent").html(i)},imhere:function(t){var e=this;app.imhere=e,app.setTitle(),e.setMod("imhere","yes"),BEM.channel().trigger("offset",{offset:e.clock.offset.seconds,save:t})},getData:function(){var t=this;return!t.hasMod("adding")&&t.params&&t.params.clock},remove:function(t){var e=this;app.container.remove(e.domElem),app.imhere===e&&app.resetOffset(t),delete e.params.clock,t||app.saveSettings(),BEM.channel().trigger("layout")},setDate:function(t){var e=this;if(!e.date||e.date.getUTCDay()!=t.getUTCDay()){var n=bh.lib.util.date,i=n.getDayOfWeek(t),r=n.getDateAsShortString(t).toUpperCase();e.elem("date").text(r).prop(BEM.I18N("common",i)),e.date=t}},update:function(){var t=this;t.setMod(t.elem("sun"),"show",app.settings.showSunriseSunset?"yes":""),t.setMod("theme",app.settings.theme||"light"),t.setMod("type",app.settings.type||"digital"),t.domElem.css({backgroundColor:"sky"==t.getMod("theme")?t.params.skyColor:""})},updateOffset:function(t,e){var n=this;if(!n.hasMod("adding")){app.imhere!=n&&n.delMod("imhere");var i=e&&e.offset||app.imhere&&app.imhere.clock.offset.seconds||0,r=(n.clock.offset.seconds-i)/3600;n.elem("offset").text(app.renderTime(r))}},sync:function(t,e){var n=this;if(n.params.clock){var i=e.clocks[n.params.clock.id.toString().toLowerCase()];i&&n.go(i)}},dropdownShowsCountries:function(){var t=this,e=t.findBlockInside("countries","dropdown2"),n=e.getPopup();n.domElem.on("mousedown",function(t){t.stopPropagation()}),e.on("beforeOpen",function(){var i=t.params.parents.map(function(t){return t.name}).filter(Boolean);i.push(t.params.name),BEM.DOM.update(n.domElem,bh.apply({block:"countries",js:{countries:t.params.countries},countries:t.params.countries,tzname:i.join(", ")})),n.findBlockInside("countries").on("change-city",function(n,i){e.delMod("opened"),t.switchTo(i)}),BEM.DOM.afterCurrentEvent(function(){t.bindToWin("mousedown tap",function(){e.delMod("opened")})})}),e.on("beforeClose",function(){t.unbindFromWin("mousedown tap")})}})}(),function(){BEM.DOM.decl("countries",{onSetMod:{js:function(){var t=this;t.countriesMenu=t.findBlockInside("left","b-menu-vert"),t.citiesMenu=t.findBlockInside("right","b-menu-vert"),t.countriesMenu.on("current",function(e,n){var i=n.current.data("id"),r=t.params.countries.filter(function(t){return t.id==i})[0],s=r.cities,o=bh.apply(s.map(function(t){return{block:"countries",elem:"city",city:t}}));BEM.DOM.update(t.citiesMenu.elem("layout"),o)}),t.citiesMenu.on("current",function(e,n){var i=n.current.data("id");t.trigger("change-city",i)}),t.countriesMenu.setMod(t.countriesMenu.elem("item").first(),"state","current")}}},{live:function(){return this.liveBindTo("country","mouseover",function(t){var e=this;e.countriesMenu.onItemSelectorClick(t)}),!1}})}(),BEM.DOM.decl("i-menu",{onElemSetMod:{item:{state:{current:function(t,e,n,i){if("disabled"===i)return!1;var r=this.elem("item","state","current");this.delMod(r,"state").trigger("current",{prev:r,current:t})}}}},onItemSelectorClick:function(t){var e=this._getItemByEvent(t);this.setMod(e,"state","current")},_getItemByEvent:function(t){return t.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("item-selector","pointerclick",function(t){this.onItemSelectorClick(t)})}}),function(){BEM.DOM.decl("svg-clock",{onSetMod:{js:{inited:function(){if(SVG){var t=this;t.useTransformTransition=t.checkTransformTransitionSupport(),t.time={hours:0,minutes:0,seconds:0},t.full={hours:0,minutes:0,seconds:0},t.domElem.empty(),t.svg=SVG(t.domElem[0]).viewbox(0,0,100,100),t.drawPlate(),t.drawArrows(),t.chooseTheme()}}},animating:{"":function(){this.hours.removeClass("arrow_animated_yes"),this.setMod("inited","yes")}},theme:function(){BEM.afterCurrentEvent(this.chooseTheme,this)},night:function(){BEM.afterCurrentEvent(this.chooseTheme,this)},face:function(){BEM.afterCurrentEvent(this.drawTicks,this),BEM.afterCurrentEvent(this.chooseTheme,this)}},checkTransformTransitionSupport:function(){var t=window.navigator.userAgent,e="undefined"!=typeof document.body.style.transition,n=t.indexOf("IE")>0||t.indexOf("Trident")>0,i=t.indexOf("Safari")>0&&-1===t.indexOf("Chrome");return e&&!n&&!i},chooseTheme:function(){var t=this;if("yes"==t.getMod("adding")){t.applyTheme("new_"+t.getMod("theme"));var e=new Date;e.setUTCHours(10),e.setUTCMinutes(10),e.setUTCSeconds(0),t.showTime(e,0)}else"sky"==t.getMod("theme")?t.applyTheme("sky"):"yes"==t.getMod("night")?t.applyTheme("night"):t.applyTheme("day")},themes:{day:{plate:{color:"#F6F5F3",opacity:1},arrows:"#212121",seconds:"#ED0600",serif:"#c5c5c4"},night:{plate:{color:"#212121",opacity:1},arrows:"#fff",seconds:"#ED0600",serif:"#5d5c5b"},sky:{plate:{opacity:0},arrows:"#fff",seconds:"#fff",serif:"#fff"},new_light:{plate:{color:"#fff",opacity:0},arrows:"#c5c5c4",seconds:"#c5c5c4",serif:"#c5c5c4"},new_dark:{plate:{color:"#fff",opacity:0},arrows:"#888",seconds:"#888",serif:"#888"},new_sky:{plate:{opacity:0},arrows:"#fff",seconds:"#fff",serif:"#fff"}},applyTheme:function(t){var e=this;SVG&&("string"==typeof t&&(t=e.themes[t]),e.plate.fill(t.plate),e.ticks.forEach(function(e){e.fill(t.serif)}),e.arrows&&(e.hours&&e.hours.fill(t.arrows),e.minutes&&e.minutes.fill(t.arrows),e.bigPipka.fill(t.arrows),e.seconds.fill(t.seconds),e.smallPipka.fill(t.seconds)))},drawTicks:function(){var t=this;t.ticks&&t.ticks.length&&t.ticks.forEach(function(t){t.remove()}),t.ticks=[];var e=t.getMod("face")||"serif";if("serif"==e)for(var n=11;n>=0;n--){var i=t.svg.rect(2.5,5).move(48.75,9).rotate(30*n,50,50);t.ticks.push(i)}else if("digits"==e)for(var n=11;n>=0;n--){var r=270+30*n,s={x:50,y:50},o=38,a=Math.round(s.x+Math.cos(r*Math.PI/180)*o),c=Math.round(s.y+Math.sin(r*Math.PI/180)*o),u=t.svg.text((n||12).toString()).font({size:9,family:"Textbook, Helvetica Neue, Helvetica, Arial",weight:"800"}).center(a,c);11==n&&u.attr("class","narrow"),t.ticks.push(u)}return t.ticks},drawLogo:function(){var t=this;if(t.hasMod("show-logo")){var e={ru_white:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 319.5 127" enable-background="new 0 0 319.5 127"><path fill="#ED1C24" d="M52 0h-17c-16.8 0-31 12.7-31 37.4 0 14.8 6.9 25.8 19.1 31.2l-22.8 41.3c-.7 1.3 0 2.4 1.2 2.4h10.6c.9 0 1.5-.3 1.8-1l20.8-40.6h7.5v40.6c0 .4.4 1 1 1h9.3c.9 0 1.2-.4 1.2-1.2v-109.6c-.1-1.1-.7-1.5-1.7-1.5zm-9.9 61.1h-6.3c-9.9 0-19.4-7.2-19.4-25.2 0-18.7 9-26.4 18.1-26.4h7.6v51.6z"/><path d="M108.1 37.2h-9.3c-.7 0-1.2.6-1.2 1v28.6h-17.1v-28.5c0-.7-.3-1-1-1h-9.3c-.7 0-1.2.4-1.2 1v72.8c0 .7.3 1.2 1 1.2h9.4c.6 0 1-.4 1-1.2v-34.8h17.2v34.7c0 .7.4 1.2 1.2 1.2h9.3c.7 0 1-.6 1-1.2v-72.7c0-.6-.4-1.1-1-1.1zM319.5 107.5l-1.2-5.1c-.1-.4-.3-.6-.7-.6-.7 0-4.8 1.6-10.6 1.6-11.3 0-16.9-10.9-16.9-28.3 0-15.3 4.6-30.4 12.4-30.4 2.1 0 4.6.6 8.7 4.3.4.4.7.6 1.2.6.4 0 .9-.3 1.3-1.1l4-6.6c.3-.5.4-.9.4-1.4 0-.6-.6-1-1.5-1.5-6.1-3.1-10.3-3.7-13.9-3.7-14 0-24.9 16.8-24.9 43 0 22.6 10.5 35.6 25.4 35.6 6.3 0 13-3 15.7-4.9.6-.3.7-.9.6-1.5zM254.6 71.1l17.9-32.8c.3-.4.1-1-.4-1h-8.8c-2.5 0-3.4.9-4.3 2.8l-13.4 28c-.7 1.6-1.5 2.7-2.2 3.1v-33c0-.6-.3-1-.9-1h-9.7c-.4 0-.9.4-.9 1v72.9c0 .4.3 1 .9 1h9.7c.6 0 .9-.4.9-1v-37.5c.4.3.7.7 1 1.3l17 35c.9 1.8 2.2 2.2 4.2 2.2h9.6c.6 0 .7-.6.4-1l-21-40zM169 102.8h-1.8c-2.2 0-2.8-.9-2.8-2.7v-61.8c0-.7-.3-1-.9-1h-29.9c-.7 0-1.2.4-1.2 1v5.4c0 18.1-1 41.5-10.6 59.2h-3.3c-.9 0-1.2.5-1.2 1.2v21.9c0 .8.6 1 1 1h7.2c1.6 0 2.2-1.2 2.2-2.2v-12.4h32v13.6c0 .6.4 1 1 1h7.6c.9 0 1.8-.7 1.8-2.2v-20.8c.1-.7-.4-1.2-1.1-1.2zm-16.1 0h-21.7c7.6-13 10.6-27.7 11.6-45.7.3-3.9.4-7.9.4-10.5h9.6v56.2zM199.5 35.4c-16.1 0-23.3 20.4-23.3 42.5 0 22.6 10.2 36.1 25.1 36.1 7.3 0 13.7-2.8 17-4.9.6-.3.7-.7.6-1.3l-1.2-5.1c-.1-.6-.4-.9-1.2-.9-.6 0-4.9 1.6-11 1.6-11.5 0-16.9-10-16.9-23.2v-3.5s5.8.7 9.3.7h21.8v-6.3c-.1-23.2-8.3-35.7-20.2-35.7zm-1.7 32.5c-3.4 0-8.8.6-8.8.6s0-2.2.3-4.6c1.3-12.7 4.5-19.2 9.7-19.2 4.8 0 7.8 6.6 8.5 18.1.1 2.4.1 5.1.1 5.1h-9.8z"/></svg>',ru_black:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 319.5 127" enable-background="new 0 0 319.5 127"><path fill="#ED1C24" d="M52 0h-17c-16.8 0-31 12.7-31 37.4 0 14.8 6.9 25.8 19.1 31.2l-22.8 41.3c-.7 1.3 0 2.4 1.2 2.4h10.6c.9 0 1.5-.3 1.8-1l20.8-40.6h7.5v40.6c0 .4.4 1 1 1h9.3c.9 0 1.2-.4 1.2-1.2v-109.6c-.1-1.1-.7-1.5-1.7-1.5zm-9.9 61.1h-6.3c-9.9 0-19.4-7.2-19.4-25.2 0-18.7 9-26.4 18.1-26.4h7.6v51.6z"/><path fill="#fff" d="M108.1 37.2h-9.3c-.7 0-1.2.6-1.2 1v28.6h-17.1v-28.5c0-.7-.3-1-1-1h-9.3c-.7 0-1.2.4-1.2 1v72.8c0 .7.3 1.2 1 1.2h9.4c.6 0 1-.4 1-1.2v-34.8h17.2v34.7c0 .7.4 1.2 1.2 1.2h9.3c.7 0 1-.6 1-1.2v-72.7c0-.6-.4-1.1-1-1.1zM319.5 107.5l-1.2-5.1c-.1-.4-.3-.6-.7-.6-.7 0-4.8 1.6-10.6 1.6-11.3 0-16.9-10.9-16.9-28.3 0-15.3 4.6-30.4 12.4-30.4 2.1 0 4.6.6 8.7 4.3.4.4.7.6 1.2.6.4 0 .9-.3 1.3-1.1l4-6.6c.3-.5.4-.9.4-1.4 0-.6-.6-1-1.5-1.5-6.1-3.1-10.3-3.7-13.9-3.7-14 0-24.9 16.8-24.9 43 0 22.6 10.5 35.6 25.4 35.6 6.3 0 13-3 15.7-4.9.6-.3.7-.9.6-1.5zM254.6 71.1l17.9-32.8c.3-.4.1-1-.4-1h-8.8c-2.5 0-3.4.9-4.3 2.8l-13.4 28c-.7 1.6-1.5 2.7-2.2 3.1v-33c0-.6-.3-1-.9-1h-9.7c-.4 0-.9.4-.9 1v72.9c0 .4.3 1 .9 1h9.7c.6 0 .9-.4.9-1v-37.5c.4.3.7.7 1 1.3l17 35c.9 1.8 2.2 2.2 4.2 2.2h9.6c.6 0 .7-.6.4-1l-21-40zM169 102.8h-1.8c-2.2 0-2.8-.9-2.8-2.7v-61.8c0-.7-.3-1-.9-1h-29.9c-.7 0-1.2.4-1.2 1v5.4c0 18.1-1 41.5-10.6 59.2h-3.3c-.9 0-1.2.5-1.2 1.2v21.9c0 .8.6 1 1 1h7.2c1.6 0 2.2-1.2 2.2-2.2v-12.4h32v13.6c0 .6.4 1 1 1h7.6c.9 0 1.8-.7 1.8-2.2v-20.8c.1-.7-.4-1.2-1.1-1.2zm-16.1 0h-21.7c7.6-13 10.6-27.7 11.6-45.7.3-3.9.4-7.9.4-10.5h9.6v56.2zM199.5 35.4c-16.1 0-23.3 20.4-23.3 42.5 0 22.6 10.2 36.1 25.1 36.1 7.3 0 13.7-2.8 17-4.9.6-.3.7-.7.6-1.3l-1.2-5.1c-.1-.6-.4-.9-1.2-.9-.6 0-4.9 1.6-11 1.6-11.5 0-16.9-10-16.9-23.2v-3.5s5.8.7 9.3.7h21.8v-6.3c-.1-23.2-8.3-35.7-20.2-35.7zm-1.7 32.5c-3.4 0-8.8.6-8.8.6s0-2.2.3-4.6c1.3-12.7 4.5-19.2 9.7-19.2 4.8 0 7.8 6.6 8.5 18.1.1 2.4.1 5.1.1 5.1h-9.8z"/></svg>',en_white:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 429.6 169.2" enable-background="new 0 0 429.6 169.2"><path d="M189 64.1c-9.8 0-20.1 7.2-20.1 7.2v-4.6c0-1-.4-1.4-1.4-1.4h-12.5c-1 0-1.6.6-1.6 1.4v98.3c0 1 .4 1.6 1.4 1.6h12.7c.8 0 1.4-.6 1.4-1.6v-84.2s5.9-3.7 13.1-3.7c6.8 0 12.2 3.4 12.2 10.4v77.6c0 1 .6 1.6 1.6 1.6h12.5c1 0 1.4-.8 1.4-1.6v-82c.2-12.4-7.4-19-20.7-19zM286.6 14.8h-12.5c-1 0-1.6.6-1.6 1.4v49.6c-4.8-1.8-9.2-2.8-12.7-2.8-20.4 0-34.4 19.5-34.4 56.9 0 32.1 13.6 49.3 31.4 49.3 7.5 0 13.7-4.3 18.2-8.3l2.7 4.6c.5.8.8 1.1 1.8 1.1h7.2c.8 0 1.4-.6 1.4-1.6v-148.8c-.1-1-.5-1.4-1.5-1.4zm-44.7 101.8c0-20.6 6-41.1 18.4-41.1 4.2 0 8.2 1.4 12.1 4.5v72.7c-3.1 1.7-7 3.2-11.2 3.2-13.3.1-19.3-15.8-19.3-39.3zM334.7 63.2c-20.9 0-31.2 27.3-31.2 57.1 0 31.1 14.7 48.6 33.6 48.6 8.3 0 16.6-3.3 22-6.3.8-.5 1-1.1.8-1.9l-1.6-6.6c-.2-.8-.6-1.2-1.6-1.2-.4 0-7.3 2-14 2-15.5 0-22.6-13.8-22.6-32v-4.4s7.7 1.1 12.3 1.1h29.2v-8.6c.1-31.1-10.8-47.8-26.9-47.8zm-1 43.6c-4.6 0-13 1.1-13 1.1s.1-3.4.5-6.6c1.8-17.1 5.9-25.7 12.9-25.7 6.1 0 10.3 8.8 11.3 24.3.2 3.2.2 6.8.2 6.8h-11.9zM129.6 76c-4.6-9.1-12.9-13.1-22.4-13.1-6.1 0-15.6 2.3-21.9 5.2-1.2.6-2 1-2 2 0 .6.3 1.2.6 1.8l4.3 9.1c.4 1 1.1 1.3 1.7 1.3.6 0 1.1-.3 1.7-.7 6.2-4 10.7-6.1 14.3-6.1 4.7 0 8 3.1 9.9 7.9 1.8 4.4 2.6 10.5 2.6 17.5v2.1c-3.9-2.4-10.6-3.8-14-3.8-18.1 0-27.9 17.2-27.9 35.6 0 19.8 11.4 34.4 25.2 34.4 7.6 0 14.6-4.5 19.2-10.1 0 0 2.5 5.9 2.8 6.6.3.7.7 1 1.6 1h7.3c.8 0 1.4-.6 1.4-1.6v-57c0-14.1-.7-24.8-4.4-32.1zm-11.2 74.7c-3.6 3.5-7.9 5.3-11.8 5.3-3.9 0-6.9-1.8-9.3-5.1-2.9-4-4.3-10.2-4.3-17.1 0-10.9 4-22 12.5-22 4.2 0 8.8 1.4 12.8 4.5v34.4zM427.9 65.3h-11.2c-1.2 0-1.9.7-2.2 1.5-.7 1.9-5.4 14.3-7.4 19.5-1.4 3.7-5.1 14.2-5.1 14.2h-.4s-2.7-7.7-4.2-11.5c-1.2-3.1-7.4-19.5-8.2-21.5-.4-1.1-.9-2.2-2.5-2.2h-12.2c-1.3 0-2.1 1.5-1.7 2.4.4.9 19.9 45.3 19.9 45.3s-20.9 49.8-21.6 50.9c-.6 1.1.2 2.8 1.6 2.8h10.7c1.8 0 2.5-1 3.1-2.5 1.5-4.3 3.8-10.3 7.1-19.6 2.2-6.2 5.6-17 5.6-17h.4s3.7 11 5.1 14.6c3.5 9.1 8 21 8.5 22.2.5 1.3 1.2 2.2 2.4 2.2h12.2c1.2 0 1.8-1.4 1.2-2.6-1.4-2.9-12.9-30.9-20.9-49.4 0 0 20.8-46 21.2-47.1.5-1 .3-2.2-1.4-2.2z"/><path fill="#f00" d="M89.1 0h-14.1c-1.2 0-2 .6-2.2 1.5-.2.9-21.2 64.8-22.7 70.2-1.1 3.8-4.6 17.1-5.5 20.3l-7.2-20c-1.8-5.5-18.8-52.9-19.3-54.8-.3-1-.8-2.3-2.6-2.3h-13.7c-1.3 0-2.1 1.5-1.7 2.4.3.7 25.2 66.9 35.3 92.2v55.5c0 1 .4 1.6 1.4 1.6h13c.8 0 1.4-.6 1.4-1.6v-55.2c8.4-23.3 39-106.5 39.4-107.5.4-1.1.3-2.3-1.5-2.3z"/></svg>',en_black:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 429.6 169.2" enable-background="new 0 0 429.6 169.2"><path fill="#fff" d="M189 64.1c-9.8 0-20.1 7.2-20.1 7.2v-4.6c0-1-.4-1.4-1.4-1.4h-12.5c-1 0-1.6.6-1.6 1.4v98.3c0 1 .4 1.6 1.4 1.6h12.7c.8 0 1.4-.6 1.4-1.6v-84.2s5.9-3.7 13.1-3.7c6.8 0 12.2 3.4 12.2 10.4v77.6c0 1 .6 1.6 1.6 1.6h12.5c1 0 1.4-.8 1.4-1.6v-82c.2-12.4-7.4-19-20.7-19zM286.6 14.8h-12.5c-1 0-1.6.6-1.6 1.4v49.6c-4.8-1.8-9.2-2.8-12.7-2.8-20.4 0-34.4 19.5-34.4 56.9 0 32.1 13.6 49.3 31.4 49.3 7.5 0 13.7-4.3 18.2-8.3l2.7 4.6c.5.8.8 1.1 1.8 1.1h7.2c.8 0 1.4-.6 1.4-1.6v-148.8c-.1-1-.5-1.4-1.5-1.4zm-44.7 101.8c0-20.6 6-41.1 18.4-41.1 4.2 0 8.2 1.4 12.1 4.5v72.7c-3.1 1.7-7 3.2-11.2 3.2-13.3.1-19.3-15.8-19.3-39.3zM334.7 63.2c-20.9 0-31.2 27.3-31.2 57.1 0 31.1 14.7 48.6 33.6 48.6 8.3 0 16.6-3.3 22-6.3.8-.5 1-1.1.8-1.9l-1.6-6.6c-.2-.8-.6-1.2-1.6-1.2-.4 0-7.3 2-14 2-15.5 0-22.6-13.8-22.6-32v-4.4s7.7 1.1 12.3 1.1h29.2v-8.6c.1-31.1-10.8-47.8-26.9-47.8zm-1 43.6c-4.6 0-13 1.1-13 1.1s.1-3.4.5-6.6c1.8-17.1 5.9-25.7 12.9-25.7 6.1 0 10.3 8.8 11.3 24.3.2 3.2.2 6.8.2 6.8h-11.9zM129.6 76c-4.6-9.1-12.9-13.1-22.4-13.1-6.1 0-15.6 2.3-21.9 5.2-1.2.6-2 1-2 2 0 .6.3 1.2.6 1.8l4.3 9.1c.4 1 1.1 1.3 1.7 1.3.6 0 1.1-.3 1.7-.7 6.2-4 10.7-6.1 14.3-6.1 4.7 0 8 3.1 9.9 7.9 1.8 4.4 2.6 10.5 2.6 17.5v2.1c-3.9-2.4-10.6-3.8-14-3.8-18.1 0-27.9 17.2-27.9 35.6 0 19.8 11.4 34.4 25.2 34.4 7.6 0 14.6-4.5 19.2-10.1 0 0 2.5 5.9 2.8 6.6.3.7.7 1 1.6 1h7.3c.8 0 1.4-.6 1.4-1.6v-57c0-14.1-.7-24.8-4.4-32.1zm-11.2 74.7c-3.6 3.5-7.9 5.3-11.8 5.3-3.9 0-6.9-1.8-9.3-5.1-2.9-4-4.3-10.2-4.3-17.1 0-10.9 4-22 12.5-22 4.2 0 8.8 1.4 12.8 4.5v34.4zM427.9 65.3h-11.2c-1.2 0-1.9.7-2.2 1.5-.7 1.9-5.4 14.3-7.4 19.5-1.4 3.7-5.1 14.2-5.1 14.2h-.4s-2.7-7.7-4.2-11.5c-1.2-3.1-7.4-19.5-8.2-21.5-.4-1.1-.9-2.2-2.5-2.2h-12.2c-1.3 0-2.1 1.5-1.7 2.4.4.9 19.9 45.3 19.9 45.3s-20.9 49.8-21.6 50.9c-.6 1.1.2 2.8 1.6 2.8h10.7c1.8 0 2.5-1 3.1-2.5 1.5-4.3 3.8-10.3 7.1-19.6 2.2-6.2 5.6-17 5.6-17h.4s3.7 11 5.1 14.6c3.5 9.1 8 21 8.5 22.2.5 1.3 1.2 2.2 2.4 2.2h12.2c1.2 0 1.8-1.4 1.2-2.6-1.4-2.9-12.9-30.9-20.9-49.4 0 0 20.8-46 21.2-47.1.5-1 .3-2.2-1.4-2.2z"/><path fill="#f00" d="M89.1 0h-14.1c-1.2 0-2 .6-2.2 1.5-.2.9-21.2 64.8-22.7 70.2-1.1 3.8-4.6 17.1-5.5 20.3l-7.2-20c-1.8-5.5-18.8-52.9-19.3-54.8-.3-1-.8-2.3-2.6-2.3h-13.7c-1.3 0-2.1 1.5-1.7 2.4.3.7 25.2 66.9 35.3 92.2v55.5c0 1 .4 1.6 1.4 1.6h13c.8 0 1.4-.6 1.4-1.6v-55.2c8.4-23.3 39-106.5 39.4-107.5.4-1.1.3-2.3-1.5-2.3z"/></svg>'},n=e[t.getMod("lang")+"_"+("yes"==t.getMod("night")?"black":"white")],i=t.svg.svg(n).roots()[0];i.size(30).move(35,23).opacity(.8)}},drawPlate:function(){var t=this;t.plate=t.svg.ellipse(100,100).fill("none"),t.drawLogo(),t.ticks=t.drawTicks()},drawArrows:function(){var t=this;t.hours=t.svg.rect(3.25,17).move(48.375,33).addClass("arrow").addClass("arrow_animated_yes"),t.minutes=t.svg.rect(3.25,29).move(48.375,20).addClass("arrow").addClass("arrow_animated_yes"),t.bigPipka=t.svg.circle(7.5).move(46.25,46.25).addClass("point"),t.seconds=t.svg.rect(1.5,31).move(49.25,19).addClass("arrow").addClass("arrow_animated_yes"),t.smallPipka=t.svg.circle(3.5).move(48.25,48.25).addClass("point"),t.arrows=!0,t.chooseTheme()},showTime:function(t){var e=this;SVG&&(e.arrows||e.drawArrows(),e.hasMod("animating")||(e.hasMod("inited")?e.setSeconds(t.getUTCSeconds()):(e.setMod("animating","yes"),e.setSeconds((t.getUTCSeconds()+1)%60),$(e.seconds.node).one("transitionend webkitTransitionEnd",function(){e.delMod("animating")}),e.useTransformTransition||$(e.seconds.node).trigger("transitionend")),e.setHours(t.getUTCHours(),t.getUTCMinutes()),e.setMinutes(t.getUTCMinutes())))},setHours:function(t,e){var n=this;n.time.hours=t;var i=30*((t+e/60)%12);n.rotateRect(n.hours,i)},setMinutes:function(t){var e=this;if(t!=e.time.minutes){e.time.minutes=t,0===t&&e.full.minutes++;var n=360*e.full.minutes+6*t;e.rotateRect(e.minutes,n)}},setSeconds:function(t){var e=this;e.time.seconds=t,0==t&&e.full.seconds++;var n=360*e.full.seconds+6*t;e.rotateRect(e.seconds,n)},rotateRect:function(t,e){this.useTransformTransition?t.style("transform","rotate("+e+"deg)"):t.rotate(e,50,50)}})}(),function(){function t(t){return"[object Object]"===i.call(t)}function e(n,i,r){var s,o;n=Object(n),i=Object(i);for(s in i)o=r&&r(n[s],i[s],s),void 0!==o?n[s]=o:t(n[s])&&t(i[s])?n[s]=e(n[s],i[s],r):n[s]=i[s];return n}function n(t,n){return e(t,n,function(t,e,n){return"mix"===n?[].concat(t,e):void 0})}var i=Object.prototype.toString;$.extend($.util,{merge:e,mergeBemjson:n})}(),BEM.DOM.decl("control",{onSetMod:{focused:{yes:function(){return this.hasMod("disabled")?!1:void(this._focused||(this._focus(),this.trigger("focus")))},"":function(){this._focused&&(this._blur(),this.trigger("blur"))}},disabled:{"*":function(t,e){var n=this._getControl();n.prop("disabled",Boolean(e)).attr("aria-disabled",Boolean(e)),n.attr("tabindex",e?null:this.params._tabindex)},yes:function(){this.delMod("focused")}}},_focus:function(){this._getControl().focus()},_blur:function(){this._getControl().blur()},_getControl:function(){var t=this.elem("control");return t.length>0?t:this.domElem},_onFocusin:function(){this._focused=!0,this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusout)},_onFocusout:function(){this._focused=!1,this.trigger("blur").delMod("focused").unbindFrom("focusout")},getDefaultParams:function(){return{_tabindex:this._getControl().attr("tabindex")}}},{live:function(){this.liveBindTo("focusin",function(t){this._onFocusin(t)}),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&this.liveBindTo("control","focusin",function(t){t.preventDefault()})}}),BEM.DOM.decl("paranja",{onSetMod:{js:{inited:function(){[].concat(this.params.rel||[]).forEach(function(t){$(t.elem||this.domElem).on(t.event,this[t.method].bind(this))},this),this.bindTo("pointerclick",function(){this.trigger("click")})}},state:{open:function(){this.trigger("open")},close:function(){this.trigger("close")}}},open:function(t){this.setMod("state","open")},close:function(t){this.setMod("state","close")}},{live:!1}),function(){BEM.DOM.decl("paranja",{open:function(t){var e=this;return 0==t?void e.__base():(e.on("click",function(){e.close(),t&&t()}),void e.__base())}})}(),function(){BEM.DOM.decl("clock",{onSetMod:{js:{inited:function(){var t=this;t.clock=t.findBlockInside("digital-clock")||t.findBlockInside("svg-clock"),t.hasMod("adding")||t.init(t.params.offset)}},type:function(t,e){var n=this,i="digital"==e?"digital-clock":"svg-clock",r={block:i,mods:{theme:n.getMod("theme"),night:n.getMod("night")}},s=bh.apply(r);BEM.DOM.update(n.domElem,s),n.clock=n.findBlockInside(i),n.clock.showTime(n.time,0),n.clock.showTime(n.time,1e3)},adding:{"":function(){var t=this;t.clock.delMod("adding")}},night:function(t,e,n){var i=this;i.clock.setMod(t,e)}},init:function(t){var e=this;e.offset={
seconds:t/1e3,milliseconds:t,hours:t/36e5},e.time=new Date(app.utctime+e.offset.milliseconds),BEM.channel().on("tick",e.tick,e),BEM.channel().on("settings",e.update,e)},destruct:function(){BEM.channel().un("tick",this.tick,this),BEM.channel().un("settings",this.update,this)},go:function(t){var e=this;e.init(t.offset),e.delMod("adding"),e.domElem.attr({title:t.offsetString}),e.setMod("night",t.isNight?"yes":0),e.offset={seconds:t.offset/1e3,milliseconds:t.offset,hours:t.offset/36e5}},update:function(){var t=this;t.setMod("theme",app.settings.theme),t.clock.setMod("theme",app.settings.theme),t.setMod("type",app.settings.type),t.clock.setMod("face",app.settings.face)},tick:function(t,e){var n=this;n.time=new Date(e+n.offset.milliseconds),n.clock.showTime(n.time,1e3),n.setMod("inited","yes")}})}(),function(){BEM.DOM.decl("digital-clock",{showTime:function(t){var e=this,n="number"==typeof t?new Date(t):t,i=n.getUTCHours(),r=n.getUTCMinutes(),s=n.getUTCSeconds();r=10>r?"0"+r:r,s=10>s?"0"+s:s,i=$.map(i.toString().split(""),function(t){return"<span>"+t+"</span>"}).join(""),r=$.map(r.toString().split(""),function(t){return"<span>"+t+"</span>"}).join(""),s=$.map(s.toString().split(""),function(t){return"<span>"+t+"</span>"}).join(""),e.elem("hours").html(i),e.elem("minutes").html(r),e.elem("seconds").html(s)}})}(),function(){BEM.DOM.decl("city",{onSetMod:{js:function(){var t=this;t.input=t.findBlockInside("input","input"),t.input.on("blur",function(){t.delMod("edit"),t.trigger("blur")}),t.timerStartTime=0,t.timer=null,t.input.on("data-received",function(e,n){!t.hasMod("edit")&&n&&"function"==typeof n.splice&&n.splice(0,n.length)}),t.input.on("select",function(e,n){var i=n.item.params;t.un("blur"),t.delMod("edit"),t.trigger("select",i.id)}),t.bindTo(t.elem("label"),"click",function(){t.setMod("edit","yes"),t.input.val(t.city),t.focus()}),t.domElem.on("mousedown",function(t){t.stopPropagation()})},edit:{yes:function(){this._boundedResizeHandler=this.resizeHandler.bind(this),this.bindToWin("resize",this._boundedResizeHandler)},"":function(){this.unbindFromWin("resize",this._boundedResizeHandler),this._boundedResizeHandler=null}}},val:function(t){var e=this;return t?(e.elem("label").html(t.replace("",'<span style="font-family:arial,sans-serif"></span>')),void(e.city=t)):e.city},focus:function(){var t=this,e=t.findBlockInside("input","input").elem("control");e.select(),e.focus()},clear:function(){var t=this;t.findBlockInside("input","input").clearInput()},resizeHandler:function(){var t=this,e=t.input.getPopup();e&&e.isShown()&&(t.timerStartTime=Date.now(),t.timer||(t.timer=setInterval(function(){var n=t.hasMod("edit");n&&e.repaint(),(Date.now()-t.timerStartTime>600||!n)&&(clearInterval(t.timer),t.timer=null)},50)))}})}(),BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(t,e){return(Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).some(function(e){return this[e]===t},this)}}),function(){var t={};BEM.decl("i-request",{onSetMod:{js:{inited:function(){this._preventCache=!1}}},get:function(t,e,n,i){return $.isFunction(n)||(i=n,n=this.params.onError),this._get(t,e,n,$.extend({},this.params,i)),this},_get:function(e,n,i,r){var s=this._buildCacheKey(e,r),o=t[r.cacheGroup];r.cache&&o&&s in o.data?this.afterCurrentEvent(function(){n.call(this.params.callbackCtx,o.data[s])},this):this._do(e,n,i,r)},_do:function(t,e,n,i){},_onSuccess:function(t,e,n,i){i.cache&&!this._preventCache&&this.putToCache(i,t,n),this._preventCache=!1},_buildCacheKey:function(t,e){return"string"==typeof t?t:$.param(t)},putToCache:function(e,n,i){var r=t[e.cacheGroup]||(t[e.cacheGroup]={keys:[],data:{}});r.keys.length>=e.cacheSize&&delete r.data[r.keys.shift()];var s=this._buildCacheKey(n,e);return r.data[s]=i,r.keys.push(s),this},dropCache:function(){return delete t[this.params.cacheGroup],this},getDefaultParams:function(){return{cache:!1,cacheGroup:"default",cacheSize:100,callbackCtx:this}}},{_cache:t})}(),BEM.DOM.decl("popup",{getDefaultParams:function(){var t={left:15,right:15,top:15,bottom:15};return{zIndexGroupLevel:0,directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:t},duration:150}},onSetMod:{js:{inited:function(){this._cache={},this._viewport=BEM.DOM.win,this._scope=BEM.DOM.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._destructor=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,n=this._repackDirParams(t.directions),i=e.generateDirections?this._generateDirections:e.directions,r=this._repackDirParams(i);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=r.keys.map(function(t){var e=r.directions[t],i=n.directions[t];return i||(i=n.directions[e.to]),this._directions[t]=this._mergeParams(i,e,{tail:this._tailParamsHook}),t},this),this._zIndex=null,this._zIndexGroupLevel=null}},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(t){var e;if(t instanceof BEM)e=t.domElem.eq(0);else if(t instanceof $)e=t;else if(!t)return;if(e){if(this._owner&&e[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=e,e.length){var n="_"+this.__self.getName()+"-destructor";this._destructor=e.addClass("i-bem "+n).bem(n)}var i=this._findParent(e);i&&this.setParent(i)}else this._userPosition=t;return this.setMod("visibility","outside").repaint()},hide:function(t){if(this._isHiding)return this;if(this._isShown){var e=$.Event("before-hide");if(this.trigger(e,t),e.isDefaultPrevented())return this;if(this._isHiding=!0,this._childs.forEach(function(t){t.hide&&t.hide(),t.delMod("visible")}),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no")){var n=this;return this.beforeHide(function(){n.domElem&&n.delMod("visibility")}),this}}return this.delMod("visibility")},toggle:function(t,e){return this._isShown&&!this._isHiding?this.hide(e):this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setScope:function(t){return this._scope=t,this._inContainer=!1,this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild&&t.addChild(this),this},addChild:function(t){for(var e=this._childs,n=e.length,i=0;n>i;i++)if(e[i]._uniqId===t._uniqId)return;t.on("hide",function(){this.removeChild(t)},this),t.on("beforeClose",function(){this.afterCurrentEvent(function(){this.removeChild(t)})},this),e.push(t)},_getParentPopup:function(){return this._parent},removeChild:function(t){for(var e=this._childs,n=e.length,i=0;n>i;i++)if(e[i]._uniqId===t._uniqId)return void e.splice(i,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this._isShown||this._bindCompatibility(),this.bindToDoc("keydown",function(t){t.which===BEM.blocks.keycodes.ESC&&0===this._childs.length&&this.hide({source:"esc-key"})}),this._attachRepaintOnResize(),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent(function(){this.domElem&&this._enableAutoclosable()}),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_bindCompatibility:function(){this._captureZIndex(),this.__self._visiblePopupsStack.unshift(this),this.trigger("beforeOpen")},_unbindCompatibility:function(){this.trigger("beforeClose");var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this._releaseZIndex()},_onHidden:function(){this._isShown&&this._unbindCompatibility(),this.unbindFromDoc("keydown"),this._detachRepaintOnResize(),this._unbindFocusEvents(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._detachUnder(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_attachRepaintOnResize:function(){window.attachEvent&&this.domElem[0].attachEvent("onresize",this.__self._enforcePageRepaint)},_detachRepaintOnResize:function(){window.detachEvent&&this.domElem[0].detachEvent("onresize",this.__self._enforcePageRepaint)},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this.__self._getFocusable(this.elem("content"));return this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0===this._firstFocusable.length?void(this._skipReturnFocus=!0):void this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown)},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){(!this._lastFocused.is(this._scope)||this._lastFocused.is(t.target))&&(t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus()))},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){var t=(this._parent||{})._skipReturnFocus||this._skipReturnFocus;t||this._lastFocused.focus()},_mergeParams:function(t,e,n){var i={},r=Object.prototype.hasOwnProperty;return n||(n={}),t&&"object"==typeof t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),Object.keys(e).forEach(function(s){var o=r.call(n,s)?n[s].call(this,t[s],e[s]):e[s];!o||"object"!=typeof o||Array.isArray(o)?i[s]=o:t[s]?i[s]=this._mergeParams(t[s],o,n):i[s]=o},this),i},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(this.__self._generateDirectionsCache)return this.__self._generateDirectionsCache;for(var t=[["bottom","top"],["left","right"]],e=[["center","left","right"],["middle","top","bottom"]],n=e,i=t.length,r=[],s=0;i>s;s++)for(var o=t[s],a=o.length,c=0;a>c;c++)for(var u=e[s],h=u.length,l=0;h>l;l++)for(var d=n[s],p=d.length,f=0;p>f;f++)r.push({direction:o[c],axis:u[l],tail:{axis:d[f]}});return this.__self._generateDirectionsCache=r,r},_repackDirParams:function(t){var e={},n=[];return("string"==typeof t||$.isPlainObject(t))&&(t=[t]),n=t.map(function(t){if("string"==typeof t){var n=t.split("-");t={to:n[0],tail:{}},n[1]&&(t.axis=n[1]),n[2]&&(t.tail.axis=n[2])}var i=t.to;return e[i]||(e[i]=t),t.axis&&(i+="-"+t.axis),t.key=i,e[i]=t,i},this),{directions:e,keys:n}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,n=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;n>t;t++){var i=e[t],r=this._directions[i];this._resetPos(i)._pushPos(i,this._calcPos(r))._pushPos(i,this._calcOffsets(r)),this._hasTail()&&this._resetTailPos(i)._pushTailPos(i,this._calcTailPos(r))._pushTailPos(i,this._calcTailOffset(r))._pushPos(i,this._calcOffsetByTail(r)),this._pushPos(i,this._getParentOffset());var s=this._calcVisibilityFactor(r);if((s>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=s,this._direction=this._directions[i],this.size=this.getPlacingSize(),100===s))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),n=this.getOwnerSize(),i=this.getPlacingSize(),r=t.axis,s=this.params.position||{},o={},a=Object.prototype.hasOwnProperty;switch(t.to){case"bottom":o={top:a.call(s,"top")?s.top:e.top+n.height,left:a.call(s,"left")?s.left:this._calcLeft(r)};break;case"top":o={top:a.call(s,"top")?s.top:e.top-i.height,left:a.call(s,"left")?s.left:this._calcLeft(r)};break;case"left":o={top:a.call(s,"top")?s.top:this._calcTop(r),left:a.call(s,"left")?s.left:e.left-i.width};break;case"right":o={top:a.call(s,"top")?s.top:this._calcTop(r),left:a.call(s,"left")?s.left:e.left+n.width}}return o},_calcTop:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),r=this.getOwnerSize();return"top"===t?e+=i.top:"middle"===t?e+=i.top+r.height/2-n.height/2:"bottom"===t&&(e+=i.top+r.height-n.height),e},_calcLeft:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),r=this.getOwnerSize();return"left"===t?e+=i.left:"center"===t?e+=i.left+r.width/2-n.width/2:"right"===t&&(e+=i.left+r.width-n.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,n=this._cache.offset||(this._cache.offset={}),i=t.key,r=t.offset;if(n[i])return n[i];if(!r)return!1;if(e={left:0,top:0},"number"==typeof r)switch(i){case"left":e.left+=r;break;case"right":e.left-=r;break;case"top":e.top+=r;break;case"bottom":e.top-=r}else r.left&&(e.left+=r.left),r.right&&(e.left-=r.right),r.top&&(e.top+=r.top),r.bottom&&(e.top-=r.bottom);return n[i]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,n){n!==!1&&("string"==typeof e?this._sum(t[e]||(t[e]={}),n):(n=e,Object.keys(t).forEach(function(e){this._sum(t[e],n)},this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach(function(n){t[n]=(t[n]||0)+e[n]})},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,n,i=this._viewport,r=this._getSizeOf(i),s=this.getPopupSize(),o=this._positions[t.key],a=this._parent&&this._isParentFixed?this._parent.domElem.offset():{top:0,left:0},c=this.hasMod("position","fixed")?{top:0,left:0}:{top:i.scrollTop(),left:i.scrollLeft()},u=o.top+a.top-c.top,h=o.left+a.left-c.left,l=h+s.width-r.width,d=u+s.height-r.height,p={height:s.height,width:s.width},f=100;return d>0&&(p.height-=d),0>u&&(p.height+=u),0>h&&(p.width+=h),l>0&&(p.width-=l),p.height<0||p.width<0?f=0:(n=Math.abs(p.height*p.width),e=s.height*s.width,e!==n&&(f=n/e*100)),f},_findParent:function(t){var e=t.closest(".popup, .popup2");return this.findBlockOn(e,"popup")||this.findBlockOn(e,"popup2")},destruct:function(){return this._childs.forEach(function(t){t.domElem&&BEM.DOM.destruct(t.domElem)}),this.setMod("fade-out","no"),this.hide(),this._isShown&&this._unbindCompatibility(),this.__base.apply(this,arguments)},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),this._destructor?this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t):t},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],i=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","pointerclick",function(){this.hide({source:"close-click"})})},_visiblePopupsStack:(BEM.blocks.popup2||{})._visiblePopupsStack||[],_visiblePopupsZIndexes:(BEM.blocks.popup2||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3,_getFocusable:function(t){var e=$.data(t,"popup-getFocusable-id");e||(e=$.identify(),$.data(t,"popup-getFocusable-id",e)),e='*[data-popup-getFocusable-id="'+e+'"]';var n="a[href], link, ";return BEM.blocks["i-ua"].opera<13&&(n=""),t.find(n+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter(function(){var t=$(this),n=!0;return parseInt(t.prop("tabindex"),10)<0||"hidden"===t.css("visibility")?!1:($(this).parentsUntil(e).each(function(){var t=$(this);return"none"===t.css("display")?n=!1:void 0}),n)})},_enforcePageRepaint:function(){document.body.className+=""},_generateDirectionsCache:null}),function(){BEM.DOM.decl("popup",{shake:function(){var t=this;t.domElem.effect("shake",{distance:7,direction:"up"})}})}(),BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}}},isDivEnough:function(){return!0},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var t=this.__self._underPool.pop();return t&&(this._underInPool=!1),this._under=t,t||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem).css("z-index",this._zIndex):t.prependTo(this.domElem)},_detachUnder:function(){var t=this._under;t.removeAttr("style"),this.__self._underPool.push(t.detach()),this._under=null,this._underInPool=!0},destruct:function(){var t=this.__base.apply(this,arguments);return this._underInPool&&this.__self._underPool.pop(),this._under&&this._under.remove(),t}},{_underPool:[]}),function(){BEM.DOM.decl("popup",{isDivEnough:function(){return!0}}),BEM.DOM.decl({block:"popup",elem:"under"},{onSetMod:{visibility:{visible:function(){this.__base.apply(this,arguments),this.bindToDomElem(this._under,"touchstart wheel",this._touchStartHandler)},"":function(){this.unbindFromDomElem(this._under,"touchstart wheel",this._touchStartHandler),this.__base.apply(this,arguments)}}},_touchStartHandler:function(t){t.preventDefault()}})}(),function(t,e,n){function i(t,e,n){(t[e]||(t[e]=[])).unshift(n)}function r(t,e){return e.modName?function(n){(n._curBlock.mods||{})[e.modName]===e.modVal&&t(n)}:t}function s(t,n){var i,r=e.isArray(n);return e.isArray(t)?r?i=t.concat(n):(i=t).push(n):r?(i=n).unshift(t):i=[t,n],i}function o(t){return t.replace(f,function(t){return p[t]})}var a=t.INTERNAL,c=a.ELEM_DELIM,u={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},h=a.buildClass,l=a.buildClasses,d={},p={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},f=/["&<>]/g;t.HTML={decl:function(t,n){"string"==typeof t&&(t={block:t}),t.name&&(t.block=t.name);var s=d[t.block]||(d[t.block]={});n.onBlock&&i(s,"_block",r(n.onBlock,t)),n.onElem&&(e.isFunction(n.onElem)?i(s,"_elem",r(n.onElem,t)):e.each(n.onElem,function(e,n){i(s,"_elem"+("*"===e?"":c+e),r(n,t))}))},build:function(t){var e=new this.Ctx(t);return e._buildAll(),e._flush()},Ctx:e.inherit({__constructor:function(t){this._buffer=[],this._params=t,this._tParams=null,this._tParamsChanges=null,this._curBlock=n},pos:function(){return this._params._pos},isFirst:function(){return 1===this._params._pos},isLast:function(){var t=this._params;return t._pos===t._siblingsCount},params:function(t){var e=this;return"undefined"==typeof t?e._params:(e._params=t,e)},param:function(t,n,i,r){var s=this,o=s._params;return"undefined"==typeof n?o[t]:(!i&&t in o?r&&(o[t]=e.extend(n,o[t])):o[t]=n,s)},attrs:function(t,e){return this.param("attrs",t,e,!0)},attr:function(t,e,n){var i=this;if("undefined"==typeof e)return(i._params.attrs||{})[t];var r=i._params.attrs;return r?(n||!(t in r))&&(r[t]=e):(i._params.attrs={})[t]=e,i},tag:function(t,e){return this.param("tag",t,e)},cls:function(t,e){return this.param("cls",t,e)},mods:function(t,e){return this.param("mods",t,e,!0)},mod:function(t,e,n){var i=this;if("undefined"==typeof e)return(i._params.mods||{})[t];var r=i._params.mods;return r?(n||!(t in r))&&(r[t]=e):(i._params.mods={})[t]=e,i},mix:function(t,e){var n=this,i=n._params;return"undefined"==typeof t?i.mix:(!e&&"mix"in i?i.mix=i.mix.concat(t):i.mix=t,n)},js:function(t){return this.param("js",t)},content:function(t,e){return this.param("content",t,e)},wrapContent:function(t){var e=this,n=e._params;return t.content=n.content,n.content=t,e},beforeContent:function(t){var e=this,n=e._params;return n.content=s(t,n.content),e},afterContent:function(t){var e=this,n=e._params;return n.content=s(n.content,t),e},wrap:function(t){var e=this,n=e._params;return t.block||(t._curBlock=e._curBlock),t.content=n._wrapper?n._wrapper:n,n._wrapper=t,e},tParam:function(t,e){var n=this,i=n._tParams||(n._tParams={});if("undefined"==typeof e)return i[t];var r=n._tParamsChanges||(n._tParamsChanges={});return t in r||(r[t]=i[t]),i[t]=e,n},generateId:function(){return e.identify()},stop:function(){this._params._isStopped=!0},_buildAll:function(){var t=this,n=t._buffer,i=t._params,r=typeof i;if("string"===r||"number"===r)n.push(i);else if(e.isArray(i))for(var s,o,a=0,c=i.length;c>a;)t._params=s=i[a++],o=typeof s,"string"===o||"number"===o?n.push(s):s&&(s._pos=a,s._siblingsCount=c,t._buildByDecl());else i&&(t._params._pos=t._params._siblingsCount=1,t._buildByDecl())},_build:function(){var t,n=this,i=n._buffer,r=n._params,s=r.tag||"div",a=r.block||r.elem,c=a&&(r.block||n._curBlock.block),d=!1;r.js&&((t={})[h(c,r.elem)]=r.js===!0?{}:r.js,d=!r.elem),i.push("<",s),(a||r.cls)&&(i.push(' class="'),a&&(l(c,r.elem,r.mods,i),r.mix&&e.each(r.mix,function(e,n){n&&(i.push(" "),l(n.block,n.elem,n.mods,i),n.js&&((t||(t={}))[h(n.block,n.elem)]=n.js===!0?{}:n.js,d||(d=!n.elem)))})),r.cls&&i.push(a?" ":"",r.cls),d&&i.push(" i-bem"),i.push('"')),t&&i.push(' onclick="return ',o(JSON.stringify(t)),'"'),r.attrs&&e.each(r.attrs,function(t,e){"undefined"!=typeof e&&null!==e&&e!==!1&&i.push(" ",t,'="',e.toString().replace(/"/g,"&quot;"),'"')}),u[s]?i.push("/>"):(i.push(">"),"undefined"!=typeof r.content&&(n._params=r.content,n._buildAll()),i.push("</",s,">"))},_flush:function(){var t=this._buffer.join("");return delete this._buffer,t},_buildByDecl:function(){var t=this,n=t._curBlock,i=t._params;if(i._curBlock&&(t._curBlock=i._curBlock),i.block&&(t._curBlock=i),!i._wrapper){if(i.block||i.elem){var r=d[t._curBlock.block];if(r){var s;if(i.elem?(s=r["_elem"+c+i.elem],r._elem&&(s=s?s.concat(r._elem):r._elem)):s=r._block,s)for(var o,a=0;(o=s[a++])&&(o(t),!i._isStopped););}}if(i._wrapper)return i._curBlock=t._curBlock,t._params=i._wrapper,t._buildAll()}var u=t._tParamsChanges;if(t._tParamsChanges=null,t._build(),t._curBlock=n,u){var h=t._tParams;e.each(u,function(t,e){"undefined"==typeof e?delete h[t]:h[t]=e})}}})}}(BEM,jQuery),BEM.decl("i-common__string",{},{cleverSubstring:function(){var t="";return function(e,n,i){return e.length>n+i?e.substring(0,n-1)+t:e}}(),escapeHTML:function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return function(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return t[e]||e})}}(),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}}),BEM.DOM.decl("i-ua",{},{placeholder:"placeholder"in document.createElement("input")}),function(){BEM.DOM.decl("sun",{update:function(t){var e=this;t&&t.showSunriseSunset?(e.setMod("show","yes"),e.elem("sunrise").text(t.sunrise),e.elem("sunset").text(t.sunset)):e.delMod("show")}})}(),function(){BEM.DOM.decl("comment",{onSetMod:{js:function(){var t=this;t.input=t.findBlockInside("input","input"),t.input.on("blur",t.accept,t),t.input.domElem.keypress(function(e){13==e.which&&t.accept()}),t.bindTo(t.elem("label"),"click",function(){t.setMod("edit","yes"),t.focus()}),t.domElem.on("mousedown",function(t){t.stopPropagation()})},edit:{yes:function(){var t=this;BEM.afterCurrentEvent(t.focus,t)}}},accept:function(){var t=this,e=t.findBlockInside("input","input");t.trigger("edited",e.val()),t.elem("label").text(e.val()),t.delMod("edit")},focus:function(){var t=this;t.findBlockInside("input","input").setMod("focused","yes")}})}(),function(){BEM.DOM.decl("tile-menu",{onSetMod:{js:function(){var t=this;t.domElem.on("mousedown",function(t){t.stopPropagation()})}},show:function(t){var e=this;e.setMod("show","yes"),e.setMod(e.elem("delete"),"disabled",1==app.settings.clocks.length?"yes":"");var n="share"+(1e4*Math.random()|0);e.elem("share-body").attr("id",n),e._share||(e._share=e.buildShare(t,n)),BEM.DOM.afterCurrentEvent(function(){e.bindToWin("mousedown tap",function(t){e.hide()})})},hide:function(){var t=this;t.delMod("show").unbindFromWin("mousedown tap")},buildShare:function(t,e){var n=storage["content-region"],i="tr"===n||"com"===n?"facebook,twitter,lj":"vkontakte,facebook,twitter,odnoklassniki,moimir,lj",r=storage.fullStHost+"/i/share_"+(["tr","com","uz"].indexOf(n)>-1?"en.png":"ru.png"),s=storage.origin+"/?city1="+encodeURIComponent(t);return new Ya.share2(e,{content:{url:s,title:BEM.I18N("common","meta title"),description:BEM.I18N("common","settings share"),image:r},theme:{services:i}})}},{live:function(){this.liveBindTo("informer","pointerclick",function(){this.hide(),this.trigger("informer"),app.metrika.reachGoal("CLOCK_MENU",{item:"informer"})}).liveBindTo("comment","pointerclick",function(){this.hide(),this.trigger("comment"),app.metrika.reachGoal("CLOCK_MENU",{item:"comment"})}).liveBindTo("delete","pointerclick",function(){var t=this.elem("delete");this.hasMod(t,"disabled")||(this.hide(),this.trigger("delete"),app.metrika.reachGoal("CLOCK_MENU",{item:"delete"}))}).liveBindTo("close","pointerclick",function(t){t.stopPropagation(),this.hide()})}})}(),BEM.DOM.decl("dropdown2",{onSetMod:{js:{inited:function(){this._switcher=null,this._popup=null}},opened:{yes:function(){return this.hasMod("disabled")?!1:void this.trigger("beforeOpen").getPopup().setAnchor(this.getSwitcher()).setMod("visible","yes").on("beforeClose",this._onPopupBeforeClose,this)},"":function(){this.trigger("beforeClose").getPopup().delMod("visible").un("beforeClose",this._onPopupBeforeClose,this)}},disabled:{"*":function(t,e){this.getSwitcher().setMod(t,e)},yes:function(){this.delMod("opened")}}},getPopup:function(){return this._popup||(this._popup=this.findBlockInside("popup2")),this._popup},getSwitcher:function(){return this._switcher||(this._switcher=this.findBlockInside(this.getMod("switcher"))),this._switcher},_onPopupBeforeClose:function(){this.delMod("opened")},_onSwitcherClick:function(t){this._switcher||(this._switcher=t.block),this.toggleMod("opened","yes")}},{live:!0}),function(){BEM.DOM.decl("dropdown2",{onSetMod:{opened:{yes:function(){this.__base.apply(this,arguments),this._boundedResizeHandler=this.resizeHandler.bind(this),this.bindToWin("resize",this._boundedResizeHandler)},"":function(){this.unbindFromWin("resize",this._boundedResizeHandler),this._boundedResizeHandler=null,this.__base.apply(this,arguments)}}},resizeHandler:function(t){!app.isNarrowScreen()&&this.delMod("opened")}})}(),BEM.DOM.decl("popup2",{onSetMod:{js:{inited:function(){this._parentPopup=void 0,this._zIndex=null,this._zIndexGroupLevel=null,this._scope=BEM.DOM.scope,this._isAttachedToScope=!1}},visible:{yes:function(){this.trigger("beforeOpen"),this._isAttachedToScope||(this._scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerdown pointerclick",this._setPreventHideByClick)},"":function(){this.trigger("beforeClose")._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerdown pointerclick")}}},destruct:function(){this.delMod("visible"),this.__base.apply(this,arguments)},setScope:function(t){return this._scope=t,this._isAttachedToScope=!1,this},setContent:function(t){return BEM.DOM.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){var t=this;do t._preventHideByClick=!0,t=t._getParentPopup();while(t)},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&(t.on("beforeClose",this._onParentPopupClose,this),t.addChild&&t.addChild(this)),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un("beforeClose",this._onParentPopupClose,this),this._parentPopup=void 0,this},_onParentPopupClose:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],i=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t&&t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}}},{live:!0,_visiblePopupsZIndexes:(BEM.blocks.popup||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3}),BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0},this._initialVisible=this.hasMod("visible")}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).redraw(!0)},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},_draw:function(){function t(t,e){var n=!1;return Object.keys(e).forEach(function(i){var r=e[i];t[i]!==r&&(t[i]=r,n=!0)}),n}var e=this._calcBestDrawingParams();return this.setMod("direction",e.direction),t(this._lastPopupDrawingCss,this._calcDrawingCss(e))&&this.domElem.css(this._lastPopupDrawingCss),t(this._lastTailDrawingCss,this._calcTailDrawingCss(e))&&this.elem("tail").css(this._lastTailDrawingCss),this},redraw:function(t){return this.hasMod("visible","yes")||t?(this.setMod("outside","yes")._draw().delMod("outside"),
this):this},_calcDrawingCss:function(t){var e,n=this._scope;return n.is(BEM.DOM.scope)||(e=n.offset(),t.top-=e.top,t.left-=e.left),{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return t.tail},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),n=this._calcOffsets();return this.params.directions.map(function(i){var r={direction:i,width:0,height:0,left:0,top:0};return this._checkMainDirection(i,"bottom")?(r.top=t.top+t.height+n.main,r.height=e.bottom-r.top-n.viewport):this._checkMainDirection(i,"top")?(r.height=t.top-e.top-n.main-n.viewport,r.top=t.top-r.height-n.main):(this._checkSecondaryDirection(i,"center")?(r.height=e.bottom-e.top-2*n.viewport,r.top=t.top+(t.height-r.height)/2):this._checkSecondaryDirection(i,"bottom")?(r.height=t.top+t.height-e.top-n.secondary-n.viewport,r.top=t.top+t.height-r.height-n.secondary):this._checkSecondaryDirection(i,"top")&&(r.top=t.top+n.secondary,r.height=e.bottom-r.top-n.viewport),this._checkMainDirection(i,"left")?(r.width=t.left-e.left-n.main-n.viewport,r.left=t.left-r.width-n.main):(r.left=t.left+t.width+n.main,r.width=e.right-r.left-n.viewport)),this._checkSecondaryDirection(i,"right")?(r.width=t.left+t.width-e.left-n.secondary-n.viewport,r.left=t.left+t.width-r.width-n.secondary):this._checkSecondaryDirection(i,"left")?(r.left=t.left+n.secondary,r.width=e.right-r.left-n.viewport):this._checkSecondaryDirection(i,"center")&&this._checkMainDirection(i,"top","bottom")&&(r.width=e.right-e.left-2*n.viewport,r.left=t.left+t.width/2-r.width/2),r},this)},_calcBestDrawingParams:function(){for(var t,e,n,i,r,s,o=this._calcPopupDimensions(),a=this._calcTargetDimensions(),c=this._calcViewportDimensions(),u=this.params.directions,h=u.length,l=0;h>l&&(t=u[l],e=this._calcPos(t,a,o),n=this._calcViewportFactor(e,c,o),(0===l||n>s||!s&&this.hasMod("direction",t))&&(i=t,s=n,r=e),!(s>this.__self.VIEWPORT_ACCURACY_FACTOR));l++);return{direction:i,left:r.left,top:r.top,tail:this._calcTailPos(i,a,o,r)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}},_calcTailDimension:function(){var t=this.elem("tail"),e=this.params.tailSize||t.outerWidth();return t.length>0&&"none"!==t.css("display")?e:0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),n=t.scrollLeft(),i=t.width(),r=t.height();return{top:e,left:n,bottom:e+r,right:n+i}},_calcPos:function(t,e,n){var i={},r=this._calcOffsets();return this._checkMainDirection(t,"bottom")?i.top=e.top+e.height+r.main:this._checkMainDirection(t,"top")?i.top=e.top-n.height-r.main:this._checkMainDirection(t,"left")?i.left=e.left-n.width-r.main:this._checkMainDirection(t,"right")&&(i.left=e.left+e.width+r.main),this._checkSecondaryDirection(t,"right")?i.left=e.left+e.width-n.width-r.secondary:this._checkSecondaryDirection(t,"left")?i.left=e.left+r.secondary:this._checkSecondaryDirection(t,"bottom")?i.top=e.top+e.height-n.height-r.secondary:this._checkSecondaryDirection(t,"top")?i.top=e.top+r.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?i.left=e.left+e.width/2-n.width/2:this._checkMainDirection(t,"left","right")&&(i.top=e.top+e.height/2-n.height/2)),i},_calcTailPos:function(t,e,n,i){var r={},s=this._calcTailDimension()/2,o=this.params.tailOffset,a=this.params.tailSize;return this._checkMainDirection(t,"bottom")?r.top=-s:this._checkMainDirection(t,"top")?r.top=Math.floor(n.innerHeight-s):this._checkMainDirection(t,"left")?r.left=Math.floor(n.innerWidth-s):this._checkMainDirection(t,"right")&&(r.left=-s),this._checkSecondaryDirection(t,"right")?r.left=n.innerWidth-Math.ceil(Math.min(n.innerWidth,e.width)/2)-s-o:this._checkSecondaryDirection(t,"left")?r.left=Math.ceil(Math.min(n.innerWidth,e.width)/2)-s+o:this._checkSecondaryDirection(t,"bottom")?r.top=n.innerHeight-Math.ceil(Math.min(n.innerHeight,e.height)/2)-s-o:this._checkSecondaryDirection(t,"top")?r.top=Math.ceil(Math.min(n.innerHeight,e.height)/2)-s+o:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?r.left=Math.ceil(n.innerWidth/2)-s+o:r.top=Math.ceil(n.innerHeight/2)-s+o),{top:r.top,left:r.left,width:a,height:a}},_calcViewportFactor:function(t,e,n){var i=this.params.viewportOffset,r=Math.max(t.left,e.left+i),s=Math.min(t.left+n.width,e.right-i),o=Math.max(t.top,e.top+i),a=Math.min(t.top+n.height,e.bottom-i);return s>r&&a>o?(s-r)*(a-o)/n.area:0},_calcOffsets:function(){var t=this.params,e=this._calcTailDimension();return{main:t.mainOffset>=0&&e>0?Math.max(t.mainOffset,Math.round(e*Math.SQRT1_2)):t.mainOffset,secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,n){return 0===t.indexOf(e)||n&&0===t.indexOf(n)},_checkSecondaryDirection:function(t,e){return t.indexOf("-"+e)>0},_checkDirection:function(t,e){return t.indexOf(e)>=0},_onWinScollAndResize:function(t){this.hasMod("visible","yes")&&this._draw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,tailOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})},_setVisible:function(){this._initialVisible&&(this._initialVisible=!1,this.delMod("visible").setMod("visible","yes"))}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]}),function(t){function e(t,e){return t.addClass("i-bem "+e).bem(e)}BEM.DOM.decl({block:"popup2",modName:"target",modVal:"anchor"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchor=null,this._destructor=null,this._fixedAnchor=void 0}},visible:{yes:function(){this.bindToDoc("documentchange",this._onWinScollAndResize),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("documentchange")}}},destruct:function(){this._unbindFromDestructor(),this.__base.apply(this,arguments)},setAnchor:function(t){return this._unbindFromDestructor()._unbindFromParentPopup(),this._anchor=t instanceof BEM.DOM?t.domElem:t,this._destructor=e(this._anchor,"_"+this.__self.getName()+"-destructor"),this._fixedAnchor=void 0,this._bindToDestructor(),this._setVisible(),this.hasMod("visible")?this._recaptureZIndex()._bindToParentPopup().redraw():this._zIndexGroupLevel=null,this},_calcTargetDimensions:function(){var t=this._anchor,e=this._getOffsetOf(t);return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}},_getOffsetOf:function(t){var e=t.offset();return"pageYOffset"in window&&(e.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),e.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft)),e},_calcDrawingCss:function(e){var n=this.__base.apply(this,arguments);if("undefined"==typeof this._fixedAnchor&&(this._fixedAnchor=this._getFirstFixedParent(this._anchor)),this._fixedAnchor){var i=0,r=0,s=this._getFirstFixedParent(this._scope);if(s){var o=s.offset();i=o.left,r=o.top}n.left-=t(window).scrollLeft()-i,n.top-=t(window).scrollTop()-r}return t.extend(n,{position:this._fixedAnchor?"fixed":""})},_getFirstFixedParent:function(e){for(e=e[0];e;){if(1===e.nodeType&&"fixed"===t(e).css("position"))return t(e);e=e.parentNode}return null},_calcZIndexGroupLevel:function(){var t=this.__base.apply(this,arguments);return this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t)},_bindToDestructor:function(){return this._destructor.on("destruct",this._onPopupAnchorDestruct,this),this},_unbindFromDestructor:function(){return this._destructor&&this._destructor.un("destruct",this._onPopupAnchorDestruct,this),this},_onPopupAnchorDestruct:function(){this.domElem&&BEM.DOM.destruct(this.domElem)},_getParentPopup:function(){if(void 0===this._parentPopup){var t=this._anchor.closest(".popup, .popup2");this._parentPopup=this.findBlockOn(t,this.__self.getName())||this.findBlockOn(t,"popup")}return this._parentPopup}});var n=BEM.DOM;n.decl("_popup2-destructor",{destruct:function(){this.trigger("destruct"),this.__base.apply(this,arguments)}})}(jQuery),function(){BEM.DOM.decl({block:"popup2",modName:"target",modVal:"anchor"},{_calcTargetDimensions:function(){var t=this._anchor,e=this._getOffsetOf(t);return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}},_getOffsetOf:function(t){var e=t.offset();return"pageYOffset"in window&&(e.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),e.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft)),e}})}(),BEM.DOM.decl("button",{onSetMod:{js:{inited:function(){var t=this.isDisabled(),e=this.domElem;(this._href=e.attr("href"))&&t&&e.removeAttr("href")}},disabled:function(t,e){var n=this.domElem;e&&this.delMod("hovered"),this._href&&(e?n.removeAttr("href"):n.attr("href",this._href)),this.afterCurrentEvent(function(){n&&n.prop("disabled",e)})},pressed:function(t,e){return this.hasMod("disabled")?!1:void this.trigger(e?"press":"release")}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return"undefined"==typeof t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},getUrl:function(){return this.url()},setUrl:function(t){return this.url(t)},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent(function(){this.domElem&&this.trigger("click")})}},{live:function(){this.liveBindTo("pointerclick",function(t){this._onClick(t)}).liveBindTo("pointerpress",function(t){this.isDisabled()||this._onPointerpress(t)})}}),BEM.DOM.decl("button",{onSetMod:{focused:{yes:function(){return this.isDisabled()?!1:(this.bindToWin("unload",function(){this.delMod("focused")}).bindTo("keydown",this._onKeyDown),this._isControlFocused()||this._getControl().focus(),void this.trigger("focus"))},"":function(){var t=BEM.blocks["i-ua"].opera<13;this.unbindFromWin("unload").unbindFrom("keydown"),(t||document.hasFocus())&&this._isControlFocused()&&this._getControl().blur(),this.trigger("blur")}},disabled:function(t,e){this.__base.apply(this,arguments),e&&(this.delMod("focused"),this.domElem.keyup())},hovered:function(t,e){return this.isDisabled()?!1:void(!e&&this.delMod("pressed"))},pressed:function(){return this.isDisabled()||this.setMod("focused","yes"),this.__base.apply(this,arguments)}},_getControl:function(){return this.elem("control").length&&this.elem("control")||this.domElem},_isControlFocused:function(){return this.containsDomElem($.dom.getActiveElement())},_onKeyDown:function(t){var e=BEM.blocks.keycodes,n=t.keyCode;!this._keyDowned&&e.is(n,"ENTER","SPACE")&&(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,n===e.SPACE&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))}))},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||this.toggleMod("hovered","yes","pointerover"===t.type)}).liveBindTo("focusin focusout",function(t){this.toggleMod("focused","yes","focusin"===t.type)}),8===BEM.blocks["i-ua"].ie&&this.liveBindTo("mouseup mouseout",function(t){this.domElem.height()}),this.__base()}}),function(t){t.decl("b-statcounter__metrika",{onSetMod:{js:{inited:function(){this.__self.loadMetrika(),this.addCounter(this.params)}}},addCounter:function(t){var e=window.Ya&&Ya.Metrika,n=window.yandex_metrika_callbacks||(window.yandex_metrika_callbacks=[]),i=function(){window["yaCounter"+t.id]=new Ya.Metrika(t)};if(!t.id)throw new Error([BEM.I18N("b-statcounter__metrika","JSERR_incorrectID"),"block: "+this.__self.getName(),"method: addCounter"].join("\n"));e?i():n.push(i)},getDefaultParams:function(){return{enableAll:!0}}},{loadMetrika:function(){var t=window.Ya&&Ya.Metrika,e="https:"===document.location.protocol?"https:":"http:",n="//mc.yandex.ru/metrika/watch.js";!t&&$.ajax({url:e+n,dataType:"script",cache:!0}),this.loadMetrika=function(){}}})}(BEM.DOM),$(function(){BEM.afterCurrentEvent(function(){BEM.DOM.init()})}),BEM.DOM.decl({block:"b-menu-vert",baseBlock:"i-menu"}),BEM.DOM.decl({block:"link",baseBlock:"control"},{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",this.params._tabindex)},yes:function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",-1),this.delMod("pressed")}}},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}}),BEM.DOM.decl("link",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.__base.apply(this,arguments)}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this._val=this.elem("control").val()}},disabled:{"*":function(t,e){this.elem("control").prop("disabled",e)},yes:function(){this.delMod("focused")}},focused:function(t,e){return this.hasMod("disabled")?!1:(e?this._focused||this._focus():this._focused&&this._blur(),void this.afterCurrentEvent(function(){this.domElem&&this.trigger(e?"focus":"blur")}))}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){var n="undefined"!=typeof t,i=this.elem("control");return t=n?null===t?"":t.toString():i.val(),this._val!==t&&(this._val=t,i.val()!==t&&i.val(t),this.trigger("change",e)),n?this:t},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,r=t.createTextRange();r.moveToBookmark(n.getBookmark());var s=t.createTextRange();s.collapse(!1),e=r.compareEndPoints("EndToEnd",s)>-1?i:-r.moveEnd("character",-i)}}return e},_onFocus:function(){if(parseInt(BEM.blocks["i-ua"].ios,10)>=8&&!this.hasMod("type","textarea")){var t=this.elem("control")[0];t.selectionStart===t.value.length&&(t.scrollLeft=t.scrollWidth)}return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent(function(){this.domElem&&this._focus()}),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){return this.hasMod("disabled","yes")?!1:void this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},_updateVal:function(){this.val(this.elem("control").val())},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)}),this.liveBindTo("control","input",function(){this._updateVal()}),9===document.documentMode&&(this.liveBindTo("control","focusin",function(){this.bindToDoc("selectionchange",this._updateVal)}),this.liveBindTo("control","focusout",function(){this.unbindFromDoc("selectionchange")}))}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("control"),e=$.dom.getActiveElement(),n=this.params.autoFocus&&!e.is("input, textarea");(e[0]===t[0]||n)&&(this.setMod("focused","yes")._focused=!0),this.params.shortcut&&this.bindToDoc("keydown",function(t){t.ctrlKey&&t.which===BEM.blocks.keycodes.UP&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")})}}},_focus:function(){if(this.__base()===!1)return!1;var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}},destruct:function(){this.params.shortcut&&this.unbindFromDoc("keydown"),this.__base.apply(this,arguments)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_updateValNextTick:function(){this.afterCurrentEvent(function(){this.domElem&&this._updateVal()})}},{live:function(){return this.liveBindTo("box","pointerover pointerout",function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.liveBindTo("control","dragenter"),this.liveBindTo("control","dragend",function(){this._updateValNextTick()}),"documentMode"in document&&document.documentMode<=8&&(this.liveBindTo("control","focusin",function(){this.bindTo("control","propertychange keyup",this._updateVal),this.bindTo("control","cut paste",function(){this._updateValNextTick()})}),this.liveBindTo("control","focusout",function(){this.unbindFrom("control","cut paste"),this.unbindFrom("control","propertychange keyup"),this._updateValNextTick()})),this.__base()}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible",Boolean(this._val))}},{live:function(){return this.liveBindTo("clear","pointerpress",function(t){this.setMod(this.elem("clear"),"pressed","yes")}).liveBindTo("clear","pointerover",function(t){this.setMod(this.elem("clear"),"hovered","yes")}).liveBindTo("clear","pointerout",function(t){this.delMod(this.elem("clear"),"hovered")}).liveBindTo("clear","pointerclick",function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()}).liveBindTo("control","paste",function(){this.setMod(this.elem("clear"),"visibility","visible")}),this.__base()}}),function(t){t.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:{inited:function(){this.__base(),this._requestNumber=this._number=this._preventNumber=this._retryCount=0}}},_get:function(t,e,n,i){this._number++,this._requestNumber++,this._retryCount=i.retryCount,this.__base.apply(this,arguments)},_do:function(t,e,n,i){var r=this;if(r._number>r._preventNumber){var s=arguments,o={data:i.data?$.extend({},i.data,t):t},a=r._wrapCallback(function(n,s,o){r._onSuccess(r._buildCacheKey(t,i),t,n[0],i),r._allowCallback(s,o)&&e.apply(i.callbackCtx,n)}),c=r._wrapCallback(function(t,e,o){r._allowCallback(e,o)&&(r._retryCount-->0?setTimeout(function(){r._do.apply(r,s)},i.retryInterval):n&&n.apply(i.callbackCtx,t))});$.each(["url","dataType","timeout","type","jsonp","jsonpCallback","xhrFields"].concat(i.paramsToSettings||[]),function(t,e){o[e]=i[e]}),$.ajax(o).done(a).fail(c)}},_wrapCallback:function(t){var e=this._requestNumber,n=this._number;return function(i){null!==i&&t(arguments,e,n)}},_allowCallback:function(t,e){return e>this._preventNumber&&this._requestNumber===t},_buildCacheKey:function(t,e){return"string"==typeof t?t:this.__base(t)+e.url},abort:function(){this._preventNumber=++this._number},getDefaultParams:function(){return $.extend(this.__base(),{cache:!0,type:"GET",dataType:"jsonp",timeout:2e4,retryCount:0,retryInterval:2e3})}})}(BEM),BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){if(this.domElem){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"pointerclick",function(t){t.stopPropagation(),this.hide({source:"outside-click"})}),this.bindTo(t,"pointerdown",function(){this._skipReturnFocus=!0})),this.bindTo("pointerdown pointerclick",function(){var t=this;do t._preventHideByClick=!0,t=t._getParentPopup();while(t)}),this.bindToDoc("pointerclick",function(t){if(this._preventHideByClick)return void(this._preventHideByClick=null);if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide({source:"outside-click"})}}),this.bindToDoc("pointerdown",function(){this._skipReturnFocus=!0})}},_disableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.unbindFrom(t,"pointerclick pointerdown")),this.unbindFromDoc("pointerclick pointerdown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var n,i=this._childs.length;for(n=0;i>n;n++)if(this.containsDomElem.call({domElem:this._childs[n].domElem},t))return!0;return!1}}),BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.afterCurrentEvent(function(){this.domElem&&this.bindToWin("resize",this.onResize)}),this._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),this.onScroll,this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,n=this.getCurrPos(),i={opacity:1,top:n.top,left:n.left},r={opacity:0,top:n.top,left:n.left};"bottom"===e?r.top+=10:"top"===e?r.top-=10:"left"===e?r.left-=10:"right"===e&&(r.left+=10),this.domElem.stop(!0).css(r).animate(i,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var n=e.to,i=this.getCurrPos(),r=this.domElem,s={top:i.top,left:i.left,opacity:0};return"bottom"===n?s.top+=10:"top"===n?s.top-=10:"left"===n?s.left-=10:"right"===n&&(s.left+=10),r.stop(!0,!0).animate(s,this.params.duration,function(){t(),r.css("opacity","")})}}),BEM.DOM.decl("b-autocomplete-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(t){},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)})},highlight:function(t,e){if(!$.isArray(e))return t;var n,i=[],r=0,s=e.sort(function(t,e){return t[0]-e[0]}),o=[],a="?",c=-1!==t.indexOf(a),u=function(){for(var e,n=/\&(#\d+|#x[a-f\d]+|\w+);/gi;e=n.exec(t);)o.push(e[0]),t=t.replace(e[0],a)},h=function(t){if(c)return t;for(;-1!==t.indexOf(a)&&o.length;)t=t.replace(a,o[0]),o.shift();return t};return!c&&u(),s.forEach(function(e){n=r>e[0]?r:e[0],i.push({tag:"span",elem:"span",content:h(t.slice(r,n))}),i.push({tag:"em",elem:"em",content:h(t.slice(n,r=e[1]))})},this),i.push({tag:"span",elem:"span",content:h(t.slice(r))}),i}}),BEM.DOM.decl("b-autocomplete-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown mouseup pointerover pointerout pointerdown pointerup",function(t){this.trigger(t.type)}),this.__base()}}),BEM.HTML.decl("b-autocomplete-item",{onBlock:function(t){var e=t.param("data"),n=BEM.blocks["i-common__string"].escapeHTML($.isArray(e)?e[1]:e);$.isArray(t.param("search_cgi"))&&t.js({cgi:t.param("search_cgi")}),t.tag("li").mod("pers",t.param("pers")?"yes":!1).content(BEM.blocks["b-autocomplete-item"].highlight(n,t.param("hl"))).js(!0)}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{select:function(){return!1}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{onBlock:function(t){t.mod("enterable","no").content($.map(t.param("data").slice(1),function(t){return $.isArray(t)?{tag:"span",elem:"foot",content:t[0]}:t}))}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"lingvo"},{onBlock:function(t){var e=t.param("data")[1];t.content([{tag:"span",elem:"text",content:e.text},{tag:"span",elem:"translation",content:["  ",e.translation]}])}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),(this._hasHint=Boolean(this.elem("hint")[0]))&&this.on("change",this._updateHint)._updateHint()}},focused:function(){return this.__base.apply(this,arguments)===!1?!1:void(this._hasHint&&this._updateHint())}},_updateHint:function(){this.toggleMod(this.elem("hint"),"visibility","visible",!this.val())}}),BEM.DOM.decl({block:"dropdown2",modName:"switcher",modVal:"button"},{onSetMod:{opened:function(t,e){this.__base.apply(this,arguments),this.hasMod("has-tick")&&this.getSwitcher().toggleMod("arrow","up","down",Boolean(e))}}},{live:function(){return this.liveInitOnBlockInsideEvent("click","button",function(t){this._onSwitcherClick(t)}),this.__base()}}),BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}}),BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent(function(){this.domElem&&this.hasMod("visible")&&this.bindToDoc("pointerclick",this._onDocClick)}),this.__base.apply(this,arguments)},"":function(){var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("target","anchor")&&(this._anchor[0]===t.target||this._anchor.find(t.target).length>0)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:(BEM.blocks.popup||{})._visiblePopupsStack||[],_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].__self.getName()===this.getName()&&this._visiblePopupsStack[0].delMod("visible")}}),BEM.DOM.decl({block:"popup2",modName:"hiding",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchorParents=null,this._isAnchorVisible=void 0,this._updateIsAnchorVisible=$.throttle(this._updateIsAnchorVisible,this.__self.UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL,this)}},visible:{yes:function(){this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents(),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this._updateIsAnchorVisible.stop(),this._unbindFromAnchorParents(),this._anchorParents=null,this._isAnchorVisible=void 0}}},_getAnchorParents:function(){for(var t,e=this;e&&e._anchor;)t=e,e=e._getParentPopup();return $(t._anchor).parents()},setAnchor:function(t){return this.__base.apply(this,arguments),this._unbindFromAnchorParents(),this._isAnchorVisible=void 0,this.hasMod("visible")?(this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents()):this._anchorParents=null,this},_unbindFromDestructor:function(){return this._updateIsAnchorVisible.stop&&this._updateIsAnchorVisible.stop(),this.__base.apply(this,arguments)},_calcDrawingCss:function(t){var e=this.__base.apply(this,arguments);return"undefined"==typeof this._isAnchorVisible&&(this._isAnchorVisible=this._calcIsAnchorVisible()),$.extend(e,{display:this._isAnchorVisible?"":"none"})},_calcIsAnchorVisible:function(){var t=this._anchor,e=this._getOffsetOf(t),n=e.left,i=e.top,r=n+t.outerWidth(),s=i+t.outerHeight(),o=this.getMod("direction"),a=Math.floor(this._checkDirection(o,"top")?i:s),c=Math.floor(this._checkDirection(o,"left")?n:r),u=!0;return this._anchorParents.each(function(t,e){if("BODY"===e.tagName)return!1;e=$(e);var n=/scroll|hidden|auto/,i=n.test(e.css("overflow-y")),r=n.test(e.css("overflow-x"));if(i||r){var s=this._getOffsetOf(e),o=Math.floor(s.top);if(o>a||o+e.outerHeight()<a)return u=!1;var h=Math.floor(s.left);return u=c>=h&&h+e.outerWidth()>=c}}.bind(this)),u},_bindToAnchorParents:function(){return this.bindTo(this._anchorParents,"scroll",this._onAnchorParentsScroll)},_unbindFromAnchorParents:function(){return this._updateIsAnchorVisible.stop(),this._anchorParents&&this.unbindFrom(this._anchorParents,"scroll"),this},_onAnchorParentsScroll:function(){this.redraw()._updateIsAnchorVisible()},_onWinScollAndResize:function(){this.hasMod("visible")&&(this.__base.apply(this,arguments),this._updateIsAnchorVisible())},_updateIsAnchorVisible:function(){if(this.domElem){var t=this._calcIsAnchorVisible();t!==this._isAnchorVisible&&(this._isAnchorVisible=t,this.redraw())}}},{UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL:100}),function(){BEM.DOM.decl("weather",{update:function(t){var e=this,n="yandex.",i=n+"ru",r=storage["content-region"],s=bh.apply({block:"i-services",elem:"url",region:r,id:"weather"}),o=s.substring(s.indexOf(n)),a=t.link;o!==i&&a.indexOf(i)>=0&&(a=a.replace(i,o)),e.findBlockInside("link").domElem.attr({href:a}),e.setMod(e.elem("icon"),"weather",t.icon),e.elem("temp").text((t.temp>0?"+":"")+t.temp+"C")}})}(),BEM.DOM.decl({name:"input",modName:"suggest",modVal:"yes"},{onSetMod:{js:{inited:function(){var t=this;t.params.foot&&(t.foot=t.params.foot),t._preventRequest=!0,t.__base.apply(t,arguments),t._userVal=t.val();var e=t._focused;e&&t.delMod("focused"),t.elem("control").attr("autocomplete","off"),t._preventRequest=!1,e&&t.setMod("focused","yes"),t._items=[],t._curItemIndex=-1,t._doRequest=$.debounce(t._doRequest,t.params.debounceDelay),this.bindToWin("resize",$.throttle(this._setWidth,60))}},focused:{yes:function(){this.__base();var t=this.params.showListOnFocus?this._onChange():this._onChange;this.on("change",t)},"":function(){this.__base(),this.un("change",this._onChange)._preventHide||this._getPopup().hide()}}},destruct:function(){var t=this._popup;return t&&t.domElem&&(this._popup=null,BEM.DOM.destruct(t.domElem)),this.__base.apply(this,arguments)},getDataprovider:function(){var t=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",$.extend(this.params.dataprovider,{url:t,callbackCtx:this})))},_onChange:function(){return this._preventRequest||this._doRequest(),this._onChange},_onKeyDown:function(t){var e=BEM.blocks.keycodes.is(t.which,"UP","DOWN");if(e&&!t.shiftKey){t.preventDefault();var n=this._items.length,i=!1;
if(n){var r=t.which-39,s=this._curItemIndex,o=0;do i=(0===s&&-1===r||s+r>=n)&&this._onLeaveItem(this._items[s],!0),s+=r,0>s?s=n-1:s>=n&&(s=0);while(!i&&this._onEnterItem(this._items[s],!0)===!1&&++o<n)}}},_onKeyPress:function(t){t.which===BEM.blocks.keycodes.ENTER&&this._curItemIndex>-1&&this._isCurItemEnteredByKeyboard&&(t.preventDefault(),this._onSelectItem(this._items[this._curItemIndex],!0))},_getPopup:function(){var t=this;if(!t._popup){var e=t.__self.getName(),n=[{elem:"items",tag:"ul",mix:[{block:e,elem:"popup-items"}]}],i=Array.isArray(t.params.popupMixs)?t.params.popupMixs:[],r={directions:"bottom-left"};t._hasPopupFade()&&n.push({block:e,elem:"fade"}),$.extend(r,t.params.popupParams),i.push({block:e,elem:"popup",elemMods:t.params.popupMods,js:{uniqId:t._uniqId}}),t._popup=$(BEMHTML.apply({block:"popup",mods:{animate:"no"},mix:i,js:r,content:{elem:"content",content:n}})).bem("popup").on({show:function(){t.bindTo("keypress",t._onKeyPress).bindTo("keydown",t._onKeyDown)},hide:function(){t.unbindFrom("keypress keydown")._curItemIndex=-1}}),$.each({pointerover:t._onEnterItem,pointerout:t._onLeaveItem,pointerdown:t._onSelectItem,pointerup:t._onItemMouseUp},function(e,n){BEM.blocks["b-autocomplete-item"].on(t._popup.domElem,e,function(e){n.call(t,e.block)})}),BEM.DOM.init(t._popup.domElem)}return t._popup},getPopup:function(){return this._getPopup()},_hasPopupFade:function(){return"yes"===(this.params.popupMods||{}).fade},_onEnterItem:function(t,e){if(t.hasMod("enterable","no"))return!1;var n=this._items,i=this._curItemIndex;i>-1&&n[i].delMod("hovered"),i=this._getItemIndex(t),i>-1&&n[i].setMod("hovered","yes"),this._curItemIndex=i,this._isCurItemEnteredByKeyboard=Boolean(e),e&&this.params.updateOnEnter&&(this._preventRequest=!0,this.val(t.enter()!==!1?t.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest"))},_onLeaveItem:function(t,e){var n=this._curItemIndex;return n>-1&&n===this._getItemIndex(t)&&(this._items[n].delMod("hovered"),this._curItemIndex=-1),e&&this.val(this._userVal),!0},_onSelectItem:function(t,e){var n=t.select(e||!1),i="object"==typeof n?n.needUpdate:n!==!1,r="object"==typeof n&&n.needEvent;this._preventRequest=!0,i&&(this._userVal=t.val(),this.val(this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex})),e?this.del("_preventRequest")._getPopup().hide():(this._returnFocus=!0,this.bindToDoc("pointerrelease",this._onDocMouseUp),i||(this._preventHide=!0),this.afterCurrentEvent(function(){this.domElem&&this.setMod("focused","yes").del("_preventRequest","_preventHide")})),(i||r)&&this.trigger("select",{item:t,byKeyboard:e})},_onItemMouseUp:function(){this._closePopupByMouseUp()},_onDocMouseUp:function(){this._closePopupByMouseUp()},_closePopupByMouseUp:function(){this.unbindFromDoc("pointerrelease").del("_returnFocus")._getPopup().hide()},_getItemIndex:function(t){return $.inArray(t,this._items)},_doRequest:function(){var t=this;t._userVal=t.val(),t.trigger("data-requested").getDataprovider().get(t.val(),function(e){t.trigger("data-received",e);var n=t._getPopup(),i=e.items||e;t.foot&&i.length&&-1===$.inArray(t.foot,i)&&i.push(t.foot),i.length?(t._curItemIndex=-1,BEM.DOM.update(n.elem("items"),t._buildItemsHtml(i),function(){n.isShown()||(n.show(t.elem("box")),t._setWidth()),t._items=n.findBlocksInside("b-autocomplete-item"),t.trigger("update-items")})):n.hide()})},_setWidth:function(){this._hasPopupFade()&&this._getPopup().domElem.css("width",this.elem("box").outerWidth())},_buildItemsHtml:function(t){var e=this;return BEMHTML.apply($.map(t,function(t,n){var i,r={block:"b-autocomplete-item",data:t,mods:{type:$.isArray(t)?t[0]:"text"},suggestVersion:e.params.dataprovider.version||4};return $.isArray(t)&&$.isPlainObject(i=t.concat().pop())&&$.extend(r,i),r}))},setFoot:function(t){return this.foot=t,this.foot},getDefaultParams:function(){return $.extend(this.__base(),{updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})}}),function(){BEM.DOM.decl({name:"input",modName:"suggest",modVal:"yes"},{onSetMod:{js:function(){var t=this;t.domElem.keypress(function(e){if(t._items&&!(13!=e.which||t._curItemIndex>-1&&t._isCurItemEnteredByKeyboard)){var n=t._items[0];n&&t.getPopup().isShown()&&(t._onSelectItem(n),t._onItemMouseUp())}}),t.getPopup().domElem.on("click",function(t){t.stopPropagation()})}},_buildItemsHtml:function(t){return bh.apply(t.map(function(t){return{block:"b-autocomplete-item",mods:{type:"city"},data:t}}))}})}(),BEM.decl({name:"input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){return this.__base({part:t},function(t){e.call(this,{items:t[1],metainfo:t[2]})})}}),function(){BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"city"},{select:function(t){return{needUpdate:!0,data:this.params}}})}(),BEM.DOM.decl({block:"b-autocomplete-item",modName:"nav",modVal:"yes"},{enter:function(){return!1},select:function(t){if(t){var e=window.open();e.opener=null,e.location=this.val()}return{needEvent:!0}}},{getUrl:function(t){return(t.match(/^\w[\w-]*:\/\//g)?"":"http://")+t}}),function(){BEM.decl({name:"city-data-provider",baseBlock:"input__dataprovider"},{get:function(t,e){$.get(storage.suggestUrl,{part:t,lang:storage.lang},function(t){e(t)})}})}(),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onSetMod:{js:{inited:function(){this.setMod("nav","yes")}}},enter:function(){return this.__base.apply(this,arguments)},select:function(){return this.__base.apply(this,arguments)}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onBlock:function(t){var e=t.param("data"),n=4===t.param("suggestVersion"),i=e[4]||e[3],r=(i.match(/^\w[\w-]*:\/\//g)?"":"http://")+i;t.js({val:r}).content({elem:"link",url:r,title:BEM.blocks["i-common__string"].escapeHTML(n?e[3]:e[2]),description:BEM.blocks["b-autocomplete-item"].highlight(n?e[2]:e[1],t.param("hl"))})},onElem:{link:function(t){t.tag("a").attrs({href:t.param("url"),target:"_blank"}).content([{elem:"link-url",tag:"span",content:t.param("title")},{elem:"link-info",tag:"span",content:[" "].concat(t.param("description"))}])}}}),function(t){function e(t,e){if(d&&p){var n="keyset: "+e._keyset+" key: "+e._key+" (lang: "+e._lang+")";console.log(t,n)}}function n(t){return"string"==typeof t?t:t.block+(t.elem?c+t.elem:"")+(t.modName?a+t.modName+a+t.modVal:"")}function i(t){var e={};return t.split(c).forEach(function(t,n){var i=[n?"elem":"block","mod","val"];t.split(a).forEach(function(t,n){e[i[n]]=t})}),e}function r(t){t&&l.push(t)}function s(){return l.length&&l.pop()}function o(){this._lang="",this._prj="lego",this._keyset="",this._key=""}if("function"==typeof t.I18N&&t.I18N._proto)return t.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=t;var a="_",c="__",u="ru",h={},l=[],d=!1,p="undefined"!=typeof console&&"function"==typeof console.log;o.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){return e&&r(this._keyset),this._keyset=n(t),this},key:function(t){return this._key=t,this},decl:function(t){var e=i(this._keyset),n="i-tanker"===e.block?"tanker":this._prj,r=e.elem||this._keyset,s=this._key;n=i18n[n]||(i18n[n]={}),r=n[r]||(n[r]={}),r[s]="function"==typeof t?t:function(){return t};var o=h[this._lang]||(h[this._lang]={}),a=o[this._keyset]||(o[this._keyset]={});a[s]=t},val:function(t,n){var i=h[this._lang]&&h[this._lang][this._keyset];if(!i)return e("[I18N_NO_KEYSET] %s",this),"";i=i[this._key];var r=typeof i;return"undefined"===r?(e("[I18N_NO_VALUE] %s",this),""):"string"===r?i:i.call(n||this,t)},_cache:function(){return h}};var f=function(t,e,n){return f.keyset(t).key(e,n)};f._proto=new o,f.project=function(t){return this._proto.project(t),this},f.keyset=function(t){return this._proto.keyset(t,!0),this},f.key=function(t,e){var n,i,r=this._proto;return r.lang(this._lang).key(t),n=r.val(e,f),i=s(),i&&r.keyset(i,!1),n},f.decl=function(t,e,n){var i,r=this._proto;n&&n.lang&&r.lang(n.lang),r.keyset(t);for(i in e)e.hasOwnProperty(i)&&r.key(i).decl(e[i]);return this},f.lang=function(t){return"undefined"!=typeof t&&(this._lang=t),this._lang},f.debug=function(t){d=!!t},f.lang(u),t.I18N=f}("undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("b-statcounter__metrika",{JSERR_incorrectID:"Incorrect ID has been passed."},{lang:"ru"}),BEM.I18N.decl("common",{"Stripe about summer time for not_moving":"     .     ,    .","Stripe about summer time in Europe":"25 ,      ,     .       .","Stripe about summer time in Israel":"25   02:00,      ,     .       .","Stripe about summer time in Turkey":"8   04:00,      ,     .       .","Stripe about summer time in Ukraine":"25   04:00,      ,     .       .","Stripe about winter time for 2h_moving":"26   02:00,      ,     .        .","Stripe about winter time for not_moving":" 2014   ,    ,         .     ,    . ","Stripe about winter time in Belarus":"  2011       .     ,    .","Stripe about winter time in Europe":"26 ,      ,     .       .","Stripe about winter time in Israel":"26   02:00,      ,     .       .","Stripe about winter time in Krim":"26   02:00,      ,     .       .","Stripe about winter time in Russia":"26   02:00,      ,     .       .","Stripe about winter time in Turkey":"26   04:00,      ,     .       .","Stripe about winter time in Ukraine":"26   04:00,      ,     .       .",add:"","add comment":" ",apr:"",aug:"","background black":"","background white":"","big cities":" ","change order":"","change order window title":" ","clock face digits":"","clock face minimal":"","clock face ticks":"","clock look":"",clocks:"",close:"",comment:" ",copyright:"",countries:"",country:"",dec:"",defaults:" ","delete":"","enter city name":" ",feb:"",feedback:" ","flag title":" ",fr:"","frame informer":" ",h:"",help:"",helplink:"http://help.yandex.ru/time/",hours:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"",some:"",many:"",none:""})},"html code":"  ","incorrect user-time":'     . <a href="http://help.yandex.ru/time/support.xml" target="_blank">  </a>.',informer:"  ",jan:"",jul:"",jun:"",keep:"",legal:" ","logo link":"",mar:"",may:"","meta description":" .       .     , ,  .    .","meta keywords":",  ,   ,  ,  ,\n  ,    ,     ,     ,      , ,  ,  , utc, gmt,  utc,   utc,   utc,\n gmt,   gmt,   gmt,  ,   ,\n ,    ,    ,    ","meta title":".",minutes:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"",some:"",many:"",none:""})},mo:"","noscript link text":"  JavaScript","noscript text":" .     JavaScript.",nov:"",oct:"",ok:"","old browser ":".       ","old browser close":"","old browser install":"   ",province:"",region:"",rotate:"","rotate informer":"","rotate informer horiz":"","rotate informer vert":"",sa:"",save:"C","search request1":"  ","search request2":" ","search request3":"    ",sep:"","settings comment":', " "  "  "',"settings common":"","settings informer":"     ","settings share":"   ","settings widget":"     ",share:"","share question":" ?","site description":"    ",sky:"  ",state:"",su:"","sun data":"  ",sunrise:"",sunset:"",th:"\n",themes:"",tu:"\n","unknown region":"   . ,     .",we:"\n",weather:"","widget added":" ","widget for homepage":"","with digits":"","with hand":"",yandex:"","yandex time":".","ity":""},{lang:"ru"}),BEM.I18N.decl("i-services",{404:"404",adresa:"",advertising:"",afisha:"",all:"",api:"API",appmetrica:"AppMetrica",appsearch:"",audience:"",auto:"",autoru:".",avia:"",aziada:"",ba:"",backapv:" .",balance:"",bar:"","bar-ie":"","bar-ie9":"9",bayan:" ",blogs:"",books:"",browser:"",calendar:"",captcha:"...",catalogwdgt:" ",chrome:"   ",city:"",cityday:" ",clickhouse:"ClickHouse",collection:"",company:"",contest:"Contest",delivery:"",desktop:" ",direct:"","direct.market":"",disk:"",display:"",ege:"",expert:"",feedback:" ",feedback2:" ",ff:"  ",fotki:"",fresh:"",games:"",geocontext:"",goroda:"",help:"",i:"",ie:"  ",images:"","images-com":"",interests:"",internet:"",kassa:"",keyboard:"",kraski:"",kuda:"",large:"  ",legal:" ",lenta:"",libra:"",literacy:"   ",local:"",lost:"",love:"13",mail:"",maps:"","maps-wiki":" ",market:"","market.advertising":"",master:"",metrika:"",metro:"",mobile:"",moikrug:"",money:"",museums:"",music:"","music-partner":": ",nahodki:"",nano:"",newhire:"",news:"",notifications:" ",oauth:"",online:"",openid:"OpenID",opera:"Opera Software",opinion:"",partners:"",partnersearch:"  ",passport:"",pdd:"  ",peoplesearch:"",perevod:"",probki:"",pulse:": ",punto:"Puntoswitcher",pvo:"",rabota:"",radar:"",ramazan:"",rasp:"",realty:"",referats:"",rk:"?",root:".  Unix ",school:"",search:"",server:"",shtrafi:"",site:"",slovari:"",so:"",social:"",soft:"",sport:"",sprav:"",start:" ",stat:"",subs:"",taxi:"",telephony:"",terms:"",tests:"  ",tickets:"",time:".",toloka:".",toster:"",translate:"",tune:"",tv:"",uslugi:"",video:"","video-com":"",vno:"",wdgt:"",weather:"",webmaster:"","webmaster-api":"API ",widgets:"",wordstat:"",wow:".",www:"",xmlsearch:"XML",yaca:"",yamb:" ",zakladki:""},{lang:"ru"}),BEM.I18N.decl("popup",{add:"",cancel:"",revert:"",apply:""},{lang:"ru"}),BEM.I18N.decl("tzfixer",{"and refresh page":"  .",banner:"      .","change region":" ","check date":"  ","check timezone":"  ","clock is fast":"    %s","clock is slow":"    %s",details:"","how to set up date":"  ","how to set up time":"  ","how to set up timezone":"   ","proper setting":" ","set up date help":"https://yandex.ru/support/common/support/date-time.html","set up time help":"https://yandex.ru/support/common/support/date-time.html","set up timezone help":"https://yandex.ru/support/common/support/date-time.html","then fix":"      .","your region":" ","your setting":"  "},{lang:"ru"}),BEM.I18N.lang("ru")),function(t){var e=function(){function t(){this._lastMatchId=0,this._matchers=[],this._infiniteLoopDetection=!1,this.lib={},this._shortTags={};for(var t=0;t<n.length;t++)this._shortTags[n[t]]=1;this._options={},this._optJsAttrName="onclick",this._optJsAttrIsJs=!0,this._optJsCls="i-bem",this._optJsElem=!0,this._optEscapeContent=!1,this._optNobaseMods=!1,this._optDelimElem="__",this._optDelimMod="_",this._optShortTagCloser="/>",this.utils={_expandoId:(new Date).getTime(),bh:this,isSimple:function(t){if(!t||t===!0)return!0;var e=typeof t;return"string"===e||"number"===e},extend:function(t){t&&"object"==typeof t||(t={});for(var e=1,n=arguments.length;n>e;e++){var i,r=arguments[e];if(r)for(i in r)t[i]=r[i]}return t},position:function(){var t=this.node;return"content"===t.index?1:t.position},isFirst:function(){var t=this.node;return"content"===t.index||1===t.position},isLast:function(){var t=this.node;return"content"===t.index||t.position===t.arr._listLength},tParam:function(t,e,n){var i="__tp_"+t,r=this.node;if(arguments.length>1)return(n||!this.tParam(t))&&(r[i]=e),this;for(;r;){if(r.hasOwnProperty(i))return r[i];r=r.parentNode}return void 0},process:function(t){var e=this.ctx,n=this.node,i=this.bh.processBemJson(t,e.block);return this.ctx=e,this.node=n,i},applyBase:function(){var t=this.node,e=t.json,n=e.block,i=e.mods,r=this.bh._fastMatcher(this,e);return void 0!==r&&(this.ctx=t.arr[t.index]=t.json=r,t.block=n,t.mods=i),this},stop:function(){return this.ctx._stop=!0,this},generateId:function(){return"uniq"+this._expandoId+ ++e},mod:function(t,e,n){var i=this.ctx.elem?"elemMods":"mods";if(arguments.length>1){var r=this.ctx[i];return r[t]=!r.hasOwnProperty(t)||n?e:r[t],this}return this.ctx[i][t]},mods:function(t,e){var n=this.ctx.elem?"elemMods":"mods",i=this.ctx[n];return void 0!==t?(this.ctx[n]=e?this.extend(i,t):this.extend(t,i),this):i},tag:function(t,e){return void 0===t?this.ctx.tag:((e||void 0===this.ctx.tag)&&(this.ctx.tag=t),this)},mix:function(t,e){return void 0===t?this.ctx.mix:(this.ctx.mix=e||!this.ctx.mix?t:(Array.isArray(this.ctx.mix)?this.ctx.mix:[this.ctx.mix]).concat(t),this)},attr:function(t,e,n){var i;return arguments.length>1?(i=this.ctx.attrs||(this.ctx.attrs={}),i[t]=!i.hasOwnProperty(t)||n?e:i[t],this):(i=this.ctx.attrs,i?i[t]:void 0)},attrs:function(t,e){var n=this.ctx.attrs||{};return void 0===t?n:(this.ctx.attrs=e?this.extend(n,t):this.extend(t,n),this)},bem:function(t,e){return void 0===t?this.ctx.bem:((e||void 0===this.ctx.bem)&&(this.ctx.bem=t),this)},js:function(t,e){var n=this.ctx;return void 0===t?n.js:(e||void 0===n.js?n.js=t:n.js!==!1&&(n.js=this.extend(n.js,t)),this)},cls:function(t,e){return void 0===t?this.ctx.cls:((e||void 0===this.ctx.cls)&&(this.ctx.cls=t),this)},param:function(t,e,n){return void 0===e?this.ctx[t]:((n||void 0===this.ctx[t])&&(this.ctx[t]=e),this)},content:function(t,e){return void 0===t?this.ctx.content:((e||void 0===this.ctx.content)&&(this.ctx.content=t),this)},html:function(t,e){return void 0===t?this.ctx.html:((e||void 0===this.ctx.html)&&(this.ctx.html=t),this)},json:function(){return this.ctx}}}var e=0;t.prototype={constructor:t,setOptions:function(t){var e;for(e in t)this._options[e]=t[e];if(t.jsAttrName&&(this._optJsAttrName=t.jsAttrName),t.jsAttrScheme&&(this._optJsAttrIsJs="js"===t.jsAttrScheme),void 0!==t.jsCls&&(this._optJsCls=t.jsCls),t.hasOwnProperty("jsElem")&&(this._optJsElem=t.jsElem),t.clsNobaseMods&&(this._optNobaseMods=!0),t.escapeContent&&(this._optEscapeContent=t.escapeContent),t.delimElem&&(this._optDelimElem=t.delimElem),t.delimMod&&(this._optDelimMod=t.delimMod),t.xhtml===!1&&(this._optShortTagCloser=">"),t.shortTags)for(var n=0;n<t.shortTags.length;n++)this._shortTags[t.shortTags[n]]=1;return this},getOptions:function(){return this._options},enableInfiniteLoopDetection:function(t){return this._infiniteLoopDetection=t,this},apply:function(t){return this.toHtml(this.processBemJson(t))},match:function(t,e){if(!t)return this;if(Array.isArray(t))return t.forEach(function(n,i){this.match(t[i],e)},this),this;if("object"==typeof t){for(var n in t)this.match(n,t[n]);return this}return e.__id="__func"+this._lastMatchId++,this._matchers.push([t,e]),this._fastMatcher=null,this},beforeEach:function(t){return this.match("$before",t)},afterEach:function(t){return this.match("$after",t)},buildMatcher:function(){function t(t,e){for(var n={},i=0,r=t.length;r>i;i++){var s=t[i],o=s[e]||"__no_value__";(n[o]||(n[o]=[])).push(s)}return n}function e(t,e,n){t.push("json."+e+" = true;","subRes = _m"+n+"(ctx, json);",'if (subRes !== undefined) return (subRes || "");',"if (json._stop) return;")}var n,i,r,s,o,a,c,u,h=[],l=["bh = this"],d=this._matchers,p=[];for(n=d.length-1;n>=0;n--)a=d[n],o=a[0],l.push("_m"+n+" = ms["+n+"][1]"),s={fn:a[1],index:n},~o.indexOf(this._optDelimElem)?(c=o.split(this._optDelimElem),u=c[0].split(this._optDelimMod),s.block=u[0],u.length>1&&(s.blockMod=u[1],s.blockModVal=u[2]||!0),c=c[1].split(this._optDelimMod),s.elem=c[0],c.length>1&&(s.elemMod=c[1],s.elemModVal=c[2]||!0)):(c=o.split(this._optDelimMod),s.block=c[0],c.length>1&&(s.blockMod=c[1],s.blockModVal=c[2]||!0)),p.push(s);var f=t(p,"block"),m=f.$before,g=f.$after;if(g&&delete f.$after,h.push("var "+l.join(", ")+";","function applyMatchers(ctx, json) {","var subRes;"),m)for(delete f.$before,i=0,r=m.length;r>i;i++)s=m[i],e(h,s.fn.__id,s.index);h.push("switch (json.block) {");for(var _ in f){h.push('case "'+_+'":');var y=t(f[_],"elem");h.push("switch (json.elem) {");for(var b in y){"__no_value__"===b?h.push("case undefined:"):h.push('case "'+b+'":');var v=y[b];for(i=0,r=v.length;r>i;i++){s=v[i];var x=s.fn,S=[];S.push("!json."+x.__id),s.elemMod&&S.push('json.elemMods && json.elemMods["'+s.elemMod+'"] === '+(s.elemModVal===!0||'"'+s.elemModVal+'"')),s.blockMod&&S.push('json.mods && json.mods["'+s.blockMod+'"] === '+(s.blockModVal===!0||'"'+s.blockModVal+'"')),h.push("if ("+S.join(" && ")+") {"),e(h,x.__id,s.index),h.push("}")}h.push("break;")}h.push("}","break;")}if(h.push("}"),g)for(i=0,r=g.length;r>i;i++)s=g[i],e(h,s.fn.__id,s.index);return h.push("};","return applyMatchers;"),h.join("\n")},processBemJson:function(t,e,n){function i(){this.ctx=null}if(null!=t){var r,s,o,a,c,u,h,l,d,p,f=[t],m=[{json:t,arr:f,index:0,block:e,mods:null}],g=this._fastMatcher||(this._fastMatcher=Function("ms",this.buildMatcher())(this._matchers)),_=!n,y=this._infiniteLoopDetection;i.prototype=this.utils;for(var b=new i;r=m.shift();){if(s=r.json,o=r.block,a=r.mods,Array.isArray(s)){for(c=0,u=0,h=s.length;h>c;c++)d=s[c],d!==!1&&null!=d&&"object"==typeof d&&m.push({json:d,arr:s,index:c,position:++u,block:o,mods:a,parentNode:r});s._listLength=u}else{var v,x=!1;if(s.elem?(o=s.block=s.block||o,s.elemMods||(s.elemMods=s.mods||{},s.mods=null),a=s.mods=s.mods||a):s.block&&(o=s.block,a=s.mods=s.mods||{}),"object"==typeof s){if(y){if(s.__processCounter=(s.__processCounter||0)+1,g.__processCounter=(g.__processCounter||0)+1,s.__processCounter>100)throw new Error('Infinite json loop detected at "'+s.block+(s.elem?this._optDelimElem+s.elem:"")+'".');if(g.__processCounter>1e3)throw new Error('Infinite matcher loop detected at "'+s.block+(s.elem?this._optDelimElem+s.elem:"")+'".')}p=void 0,s._stop||(b.node=r,b.ctx=s,p=g(b,s),void 0!==p&&(s=p,r.json=s,r.block=o,r.mods=a,m.push(r),x=!0))}if(!x&&_&&(v=s.content))if(Array.isArray(v)){var S;do{for(S=!1,c=0,h=v.length;h>c;c++)if(Array.isArray(v[c])){S=!0;break}S&&(s.content=v=v.concat.apply([],v))}while(S);for(c=0,u=0,h=v.length,l=h-1;h>c;c++)d=v[c],d!==!1&&null!=d&&"object"==typeof d&&m.push({json:d,arr:v,index:c,position:++u,block:o,mods:a,parentNode:r});v._listLength=u}else m.push({json:v,arr:s,index:"content",block:o,mods:a,parentNode:r})}r.arr[r.index]=s}return f[0]}},toHtml:function(t){this._buf="",this._html(t);var e=this._buf;return delete this._buf,e},_html:function(t){var e,n,a;if(t!==!1&&null!=t)if("object"!=typeof t)this._buf+=this._optEscapeContent?i(t):t;else if(Array.isArray(t))for(e=0,n=t.length;n>e;e++)a=t[e],a!==!1&&null!=a&&this._html(a);else{if(t.toHtml){var c=t.toHtml.call(this,t)||"";return void(this._buf+=c)}var u=t.bem!==!1;if("undefined"!=typeof t.tag&&!t.tag)return void(t.html?this._buf+=t.html:this._html(t.content));t.mix&&!Array.isArray(t.mix)&&(t.mix=[t.mix]);var h,l,d,p="",f="",m=!1;if(h=t.attrs)for(e in h)l=h[e],l===!0?f+=" "+e:l!==!1&&null!==l&&void 0!==l&&(f+=" "+e+'="'+r(l)+'"');if(u){var g=t.block+(t.elem?this._optDelimElem+t.elem:"");t.block&&(p=o(t,g,null,this._optNobaseMods,this._optDelimMod),t.js&&((d={})[g]=t.js===!0?{}:t.js));var _=this._optJsCls&&(this._optJsElem||!t.elem),y=t.mix;if(y&&y.length)for(e=0,n=y.length;n>e;e++){var b=y[e];if(b&&b.bem!==!1){var v=b.block||t.block||"",x=b.elem||(b.block?null:t.block&&t.elem),S=v+(x?this._optDelimElem+x:"");v&&(p+=o(b,S,g,this._optNobaseMods,this._optDelimMod),b.js&&((d=d||{})[S]=b.js===!0?{}:b.js,m=!0,_||(_=v&&this._optJsCls&&(this._optJsElem||!x))))}}if(d){_&&(p+=" "+this._optJsCls);var w=m||t.js!==!0?s(JSON.stringify(d)):'{"'+g+'":{}}';f+=" "+(t.jsAttr||this._optJsAttrName)+"='"+(this._optJsAttrIsJs?"return "+w:w)+"'"}}t.cls&&(p=(p?p+" ":"")+r(t.cls).trim());var k=t.tag||"div";this._buf+="<"+k+(p?' class="'+p+'"':"")+(f?f:""),this._shortTags[k]?this._buf+=this._optShortTagCloser:(this._buf+=">",t.html?this._buf+=t.html:this._html(t.content),this._buf+="</"+k+">")}}};var n="area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),i=t.prototype.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},r=t.prototype.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")},s=t.prototype.jsAttrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/'/g,"&#39;")},o=function(t,e,n,i,r){var s,o,a,c="";if(n!==e&&(n&&(c+=" "),c+=e),s=t.elem&&t.elemMods||t.mods)for(a in s)o=s[a],(o||0===o)&&(c+=" "+(i?r:e+r)+a+(o===!0?"":r+o));return c};return t}();"undefined"!=typeof module&&(module.exports=e);var n=new e;n.setOptions({jsAttrName:"data-bem",jsAttrScheme:"json",jsElem:!1});var i=function(t,e){!function(){n.lib.util||(n.lib.util={})}(),function(){n.match("i-bem__i18n",function(t,e){var i=e.keyset,r=e.key,s=e.params||{};return i||r?(e.content&&(s.content=n.apply(e.content)),{tag:!1,html:n.lib.i18n(i,r,s)}):void t.tag(!1)})}(),function(){n.match("input__box",function(t){t.tag("span"),t.content([t.tParam("iconLeft")&&{elem:"icon",icon:t.tParam("iconLeft"),elemMods:{side:"left"}},t.tParam("iconRight")&&{elem:"icon",icon:t.tParam("iconRight"),elemMods:{side:"right"}},t.tParam("hasClear")&&{elem:"clear",elemMods:t.tParam("value")||0===t.tParam("value")?{visibility:"visible"}:void 0,content:""},t.content()].filter(Boolean),!0)})}(),function(){n.match("input__control",function(t,e){var n=t.tParam("value"),i=t.tParam("placeholder");return t.tag("input").attrs(t.extend({id:t.tParam("inputId"),name:t.tParam("name"),placeholder:i,"aria-labelledby":t.tParam("labelId")+" "+t.tParam("hintId")},e.controlAttrs)),t.tParam("disabled")&&t.attr("disabled",!0),(n||0===n||""===n)&&t.attr("value",n),t.tParam("live")&&t.attr("autocomplete","off"),{elem:"box",content:t.json()}})}(),function(){var t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],e=["su","mo","tu","we","th","fr","sa"];n.lib.util=n.lib.util||{},n.lib.util.date={getUTCMonthName:function(e){return t[e.getUTCMonth()]},getDayOfWeek:function(t){return e[t.getUTCDay()]},getDateAsShortString:function(t){var e=t.getUTCDate(),n=this.getUTCMonthName(t);return e+" "+BEM.I18N("common",n)}}}(),function(){function t(t){return"object"==typeof t&&"[object Object]"===r.call(t)}function e(n,i,r){var s,o;n=Object(n),i=Object(i);for(s in i)o=r&&r(n[s],i[s],s),void 0!==o?n[s]=o:t(n[s])&&t(i[s])?n[s]=e(n[s],i[s],r):n[s]=i[s];return n}function i(t,n){return e(t,n,function(t,e,n){return"mix"===n?[].concat(t,e):void 0})}var r=Object.prototype.toString;n.lib.util.merge=e,n.lib.util.mergeBemjson=i}(),function(){var t=n.lib.common=n.lib.common||{},e=t.string=t.string||{};e.cleverSubstring=function(t,e,n){return t.length>e+n?t.substring(0,e-1)+"":t}}(),function(){n.match("countries",function(t){var e=0,n=25,i=50,r=t.param("countries"),s=t.param("tzname");r.forEach(function(t){e=Math.max(e,t.cities.length)}),e=Math.max(e,r.length);var o={style:"height: "+(e*n+i)+"px"};t.attrs(o).content([{elem:"left",content:[{elem:"header",content:s},{block:"b-menu-vert",js:!0,content:r.map(function(t){return{block:"countries",elem:"country",country:t}})}]},{elem:"right",content:[{elem:"header",content:BEM.I18N("common","big cities")},{block:"b-menu-vert",js:!0,content:[]}]}])}),n.match("countries__country",function(t){var e=t.param("country");t.mix([{block:"b-menu-vert",elem:"item"},{block:"b-menu-vert",elem:"item-selector"}]).attrs({"data-id":e.id}).content([{block:"country-flag",mods:{s16:e.alpha2.toLowerCase()}},{block:"link",mods:{pseudo:"yes"},content:e.name}])}),n.match("countries__city",function(t){var e=t.param("city");t.mix([{block:"b-menu-vert",elem:"item"},{block:"b-menu-vert",elem:"item-selector"}]).attrs({"data-id":e.id}).content([{block:"link",mods:{pseudo:"yes"},content:e.name}])})}(),function(){n.match("svg-clock",function(t){t.content({tag:"svg",attrs:{width:"100%",height:"100%",viewbox:"0 0 100 100"}})})}(),function(){var t=n.lib,e=t.global=n.utils.extend({lang:"ru",tld:"ru","content-region":"ru","click-host":"//clck.yandex.ru","passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","export-host":"https://export.yandex.ru",
login:"","lego-static-host":"https://yastatic.net/lego/2.10-142"},t.global);e._public={id:!0,lang:!0,tld:!0,"content-region":!0,"user-region":!0,login:!0,displayName:!0,index:!0,yandexuid:!0,"passport-host":!0,"pass-host":!0,"passport-msg":!0,"static-host":!0,"lego-static-host":!0,"social-host":!0,clck:!0,"click-host":!0,"export-host":!0,"i-host":!0,"social-retpath":!0,"lego-path":!0,sid:!0,retpath:!0,uid:!0},e.makePublic=function(t,i){return"object"==typeof t?void(e._public=n.utils.extend({},e._public,t)):("undefined"==typeof i&&(i=!0),void(e._public[t]=i))},e.isPublic=function(t){return Boolean(e._public[t])},e.setTld=function(t){var i="tr"===t?"yandex.com.tr":"yandex."+t,r=-1!==["ua","by","kz"].indexOf(t)?"yandex.ru":i;n.utils.extend(e,{tld:t,"content-region":t,"click-host":"//clck."+r,"passport-host":"https://passport."+r,"pass-host":"https://pass."+i,"social-host":"https://social."+i,"export-host":"https://export."+i})};var i={_backup:null,exists:function(){return Boolean(this._backup)},save:function(){this._backup=n.utils.extend({},e)},restore:function(){var t;for(t in e)delete e[t];n.utils.extend(e,this._backup)}};n.match("i-global",function(e,n){e.tag("");var r=t.global,s=n.params||{};i.exists()?n.reset!==!1&&i.restore():i.save(),s.tld&&s.tld!==r.tld&&r.setTld(s.tld),e.extend(r,s)})}(),function(){"undefined"!=typeof document&&(n.lib=n.lib||{},n.lib.global=JSON.parse(document.body.getAttribute("data-bem"))["i-global"])}(),function(){n.lib.services={_uri:{},serviceUrl:function(t,e){var i=n.lib.global;return t||(t=i.id),e||(e=i["content-region"]),this._uri[t](e)},serviceName:function(t){var e=n.lib.global;return n.lib.i18n("i-services",t||e.id)}},n.match("i-services__name",function(t,e){return n.lib.services.serviceName(e.id)}),n.match("i-services__url",function(t,e){return n.lib.services.serviceUrl(e.id,e.region)})}(),function(){n.lib.services._uri={404:function(t){switch(t){case"ua":return"http://404.yandex.ua";case"by":return"http://404.yandex.by";case"kz":return"http://404.yandex.kz";case"com":return"http://404.yandex.com";case"tr":return"http://404.yandex.com.tr";default:return"http://404.yandex.ru"}},adresa:function(){return"http://adresa.yandex.ru"},advertising:function(t){switch(t){case"ua":return"https://advertising.yandex.ua";case"by":return"https://advertising.yandex.by";case"kz":return"https://advertising.yandex.kz";case"com":return"https://advertising.yandex.com";case"tr":return"https://yandex.com.tr/adv";default:return"https://advertising.yandex.ru"}},afisha:function(t){switch(t){case"ua":return"https://afisha.yandex.ua";case"by":return"https://afisha.yandex.by";case"kz":return"https://afisha.yandex.kz";default:return"https://afisha.yandex.ru"}},all:function(t){switch(t){case"ua":return"//yandex.ua/all";case"by":return"//yandex.by/all";case"kz":return"//yandex.kz/all";case"com":return"//yandex.com/all";case"tr":return"//yandex.com.tr/all";default:return"//yandex.ru/all"}},api:function(t){switch(t){case"com":return"http://api.yandex.com";default:return"http://api.yandex.ru"}},appmetrica:function(t){switch(t){case"ua":return"https://appmetrica.yandex.ua";case"by":return"https://appmetrica.yandex.by";case"kz":return"https://appmetrica.yandex.kz";case"com":return"https://appmetrica.yandex.com";case"tr":return"https://appmetrica.yandex.com.tr";default:return"https://appmetrica.yandex.ru"}},appsearch:function(){return"//appsearch.yandex.ru"},audience:function(t){switch(t){case"ua":return"https://audience.yandex.ua";case"by":return"https://audience.yandex.by";case"kz":return"https://audience.yandex.kz";case"com":return"https://audience.yandex.com";case"tr":return"https://audience.yandex.com.tr";default:return"https://audience.yandex.ru"}},auto:function(t){switch(t){case"ua":return"https://auto.yandex.ua";default:return"https://auto.yandex.ru"}},autoru:function(){return"https://auto.ru"},avia:function(t){switch(t){case"ua":return"https://avia.yandex.ua";default:return"https://avia.yandex.ru"}},aziada:function(){return"http://aziada2011.yandex.kz"},ba:function(t){switch(t){case"ua":return"https://ba.yandex.ua";case"by":return"https://ba.yandex.by";case"kz":return"https://ba.yandex.kz";case"com":return"https://ba.yandex.com";default:return"https://ba.yandex.ru"}},backapv:function(){return"http://backapv.yandex.ru"},balance:function(){return"https://balance.yandex.ru"},bar:function(t){switch(t){case"ua":return"http://bar.yandex.ua";case"by":return"http://bar.yandex.by";case"kz":return"http://bar.yandex.kz";case"tr":return"http://bar.yandex.com.tr";default:return"http://bar.yandex.ru"}},"bar-ie":function(t){switch(t){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},"bar-ie9":function(t){switch(t){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},bayan:function(){return"http://bayan.yandex.ru"},blogs:function(t){switch(t){case"ua":return"https://blogs.yandex.ua";case"by":return"https://blogs.yandex.by";case"kz":return"https://blogs.yandex.kz";default:return"https://blogs.yandex.ru"}},books:function(){return"http://books.yandex.ru"},browser:function(t){switch(t){case"ua":return"https://browser.yandex.ua";case"by":return"https://browser.yandex.by";case"kz":return"https://browser.yandex.kz";case"com":return"https://browser.yandex.com";case"tr":return"https://browser.yandex.com.tr";default:return"https://browser.yandex.ru"}},calendar:function(){return"https://calendar.yandex.ru"},catalogwdgt:function(){return"https://www.yandex.ru/catalog"},chrome:function(){return"http://chrome.yandex.ru"},city:function(t){switch(t){case"ua":return"https://gorod.yandex.ua";case"by":return"https://gorod.yandex.by";case"kz":return"https://gorod.yandex.kz";case"com":return"https://city.yandex.com";case"tr":return"https://city.yandex.com.tr";default:return"https://gorod.yandex.ru"}},cityday:function(){return"http://cityday.yandex.ru"},clickhouse:function(){return"https://clickhouse.yandex/"},collection:function(){return"https://collection.yandex.ru"},commander:function(t){switch(t){case"ua":return"https://yandex.ru/promo/commander/new?source=tableau_direct";case"by":return"https://yandex.ru/promo/commander/new?source=tableau_direct";case"kz":return"https://yandex.ru/promo/commander/new?source=tableau_direct";case"com":return"https://yandex.ru/promo/commander/new?source=tableau_direct";case"tr":return"https://yandex.ru/promo/commander/new?source=tableau_direct";default:return"https://yandex.ru/promo/commander/new?source=tableau_direct"}},company:function(t){switch(t){case"com":return"https://company.yandex.com";case"tr":return"https://company.yandex.com.tr";default:return"https://company.yandex.ru"}},contest:function(t){switch(t){case"com":return"https://contest.yandex.com";default:return"https://contest.yandex.ru"}},delivery:function(){return"https://delivery.yandex.ru"},desktop:function(){return"http://desktop.yandex.ru"},direct:function(t){switch(t){case"ua":return"https://direct.yandex.ua";case"by":return"https://direct.yandex.by";case"kz":return"https://direct.yandex.kz";case"com":return"https://direct.yandex.com";case"tr":return"https://direct.yandex.com.tr";default:return"https://direct.yandex.ru"}},"direct-api":function(t){switch(t){case"ua":return"https://tech.yandex.ru/direct/?source=tableau_direct";case"by":return"https://tech.yandex.ru/direct/?source=tableau_direct";case"kz":return"https://tech.yandex.ru/direct/?source=tableau_direct";case"com":return"https://tech.yandex.com/direct/?source=tableau_direct";case"tr":return"https://tech.yandex.com/direct/?source=tableau_direct";default:return"https://tech.yandex.ru/direct/?source=tableau_direct"}},"direct.market":function(){return"https://partner.market.yandex.ru/yandex.market/"},disk:function(t){switch(t){case"ua":return"https://disk.yandex.ua";case"by":return"https://disk.yandex.by";case"kz":return"https://disk.yandex.kz";case"com":return"https://disk.yandex.com";case"tr":return"https://disk.yandex.com.tr";case"az":return"https://disk.yandex.az";case"il":return"https://disk.yandex.co.il";case"am":return"https://disk.yandex.com.am";case"ge":return"https://disk.yandex.com.ge";case"ee":return"https://disk.yandex.ee";case"fr":return"https://disk.yandex.fr";case"kg":return"https://disk.yandex.kg";case"lt":return"https://disk.yandex.lt";case"lv":return"https://disk.yandex.lv";case"md":return"https://disk.yandex.md";case"tj":return"https://disk.yandex.tj";case"tm":return"https://disk.yandex.tm";case"uz":return"https://disk.yandex.uz";default:return"https://disk.yandex.ru"}},display:function(t){switch(t){case"tr":return"https://display.yandex.com.tr";default:return"https://display.yandex.ru"}},ege:function(t){switch(t){case"ua":return"https://zno.yandex.ua";default:return"https://ege.yandex.ru"}},expert:function(){return"http://expert.yandex.ru"},feedback:function(t){switch(t){case"ua":return"http://feedback.yandex.ua";case"by":return"http://feedback.yandex.by";case"kz":return"http://feedback.yandex.kz";case"com":return"http://feedback.yandex.com";case"tr":return"http://contact.yandex.com.tr";default:return"http://feedback.yandex.ru"}},feedback2:function(t){switch(t){case"ua":return"//feedback2.yandex.ua";case"by":return"//feedback2.yandex.by";case"kz":return"//feedback2.yandex.kz";case"com":return"//feedback2.yandex.com";case"tr":return"//contact2.yandex.com.tr";default:return"//feedback2.yandex.ru"}},ff:function(){return"http://ff.yandex.ru"},fotki:function(){return"https://fotki.yandex.ru"},fresh:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},fx:function(t){switch(t){case"ua":return"https://fx.yandex.ua";case"tr":return"https://fx.yandex.com.tr";default:return"https://fx.yandex.ru"}},games:function(){return"http://games.yandex.ru"},geocontext:function(){return"https://geocontext.yandex.ru"},goroda:function(){return"http://goroda.yandex.ru"},help:function(t){switch(t){case"ua":return"https://help.yandex.ua";case"com":return"https://help.yandex.com";case"tr":return"https://yardim.yandex.com.tr";default:return"https://help.yandex.ru"}},i:function(){return"http://i.yandex.ru"},ie:function(t){switch(t){case"ua":return"https://ie.yandex.ua";case"tr":return"https://ie.yandex.com.tr";default:return"https://ie.yandex.ru"}},images:function(t){switch(t){case"ua":return"https://yandex.ua/images/";case"by":return"https://yandex.by/images/";case"kz":return"https://yandex.kz/images/";case"com":return"https://yandex.com/images/";case"tr":return"https://yandex.com.tr/gorsel/";case"az":return"https://yandex.az/images/";case"il":return"https://yandex.co.il/images/";case"am":return"https://yandex.com.am/images/";case"ge":return"https://yandex.com.ge/images/";case"ee":return"https://yandex.ee/images/";case"fr":return"https://yandex.fr/images/";case"kg":return"https://yandex.kg/images/";case"lt":return"https://yandex.lt/images/";case"lv":return"https://yandex.lv/images/";case"md":return"https://yandex.md/images/";case"tj":return"https://yandex.tj/images/";case"tm":return"https://yandex.tm/images/";case"uz":return"https://yandex.uz/images/";default:return"https://yandex.ru/images/"}},"images-com":function(){return"https://yandex.com/images/"},interests:function(){return"http://interests.yandex.ru"},internet:function(t){switch(t){case"com":return"//internet.yandex.com";case"tr":return"//internet.yandex.com.tr";default:return"//internet.yandex.ru"}},kassa:function(){return"https://kassa.yandex.ru"},keyboard:function(){return"http://www.yandex.ru/index_engl_qwerty.html"},kraski:function(){return"http://kraski.yandex.ru"},kuda:function(){return"http://kuda.yandex.ru"},large:function(){return"http://large.yandex.ru"},legal:function(t){switch(t){case"ua":return"https://yandex.ua/legal";case"com":return"https://yandex.com/legal";case"tr":return"https://yandex.com.tr/legal";default:return"https://yandex.ru/legal"}},lenta:function(){return"http://lenta.yandex.ru"},literacy:function(){return"https://literacy.yandex.ru"},local:function(){return"http://local.yandex.ru"},lost:function(){return"http://lost.yandex.ru"},love:function(){return"http://love.yandex.ru"},mail:function(t){switch(t){case"ua":return"https://mail.yandex.ua";case"by":return"https://mail.yandex.by";case"kz":return"https://mail.yandex.kz";case"com":return"https://mail.yandex.com";case"tr":return"https://mail.yandex.com.tr";case"az":return"https://mail.yandex.az";case"il":return"https://mail.yandex.co.il";case"am":return"https://mail.yandex.com.am";case"ge":return"https://mail.yandex.com.ge";case"ee":return"https://mail.yandex.ee";case"fr":return"https://mail.yandex.fr";case"kg":return"https://mail.yandex.kg";case"lt":return"https://mail.yandex.lt";case"lv":return"https://mail.yandex.lv";case"md":return"https://mail.yandex.md";case"tj":return"https://mail.yandex.tj";case"tm":return"https://mail.yandex.tm";case"uz":return"https://mail.yandex.uz";default:return"https://mail.yandex.ru"}},maps:function(t){switch(t){case"ua":return"https://yandex.ua/maps/";case"com":return"https://yandex.com/maps/";case"tr":return"https://yandex.com.tr/harita/";case"az":return"https://yandex.az/maps/";case"il":return"https://yandex.co.il/maps/";case"am":return"https://yandex.com.am/maps/";case"ge":return"https://yandex.com.ge/maps/";case"ee":return"https://yandex.ee/maps/";case"fr":return"https://yandex.fr/maps/";case"kg":return"https://yandex.kg/maps/";case"lt":return"https://yandex.lt/maps/";case"lv":return"https://yandex.lv/maps/";case"md":return"https://yandex.md/maps/";case"tj":return"https://yandex.tj/maps/";case"tm":return"https://yandex.tm/maps/";case"uz":return"https://yandex.uz/maps/";default:return"https://yandex.ru/maps/"}},"maps-com":function(){return"https://yandex.com/maps/"},"maps-wiki":function(){return"http://nk.yandex.ru"},market:function(t){switch(t){case"ua":return"https://market.yandex.ua";case"by":return"https://market.yandex.by";case"kz":return"https://market.yandex.kz";default:return"https://market.yandex.ru"}},"market.advertising":function(t){switch(t){case"com":return"https://yandex.com/adv/products/classified/market";default:return"https://yandex.ru/adv/products/classified/market"}},master:function(){return"https://master.yandex.ru"},metrika:function(t){switch(t){case"ua":return"https://metrika.yandex.ua";case"by":return"https://metrika.yandex.by";case"kz":return"https://metrika.yandex.kz";case"com":return"https://metrica.yandex.com";case"tr":return"https://metrica.yandex.com.tr";case"az":return"https://metrika.yandex.az";case"il":return"https://metrika.yandex.co.il";case"am":return"https://metrika.yandex.com.am";case"ge":return"https://metrika.yandex.com.ge";case"ee":return"https://metrika.yandex.ee";case"fr":return"https://metrika.yandex.fr";case"kg":return"https://metrika.yandex.kg";case"lt":return"https://metrika.yandex.lt";case"lv":return"https://metrika.yandex.lv";case"md":return"https://metrika.yandex.md";case"tj":return"https://metrika.yandex.tj";case"tm":return"https://metrika.yandex.tm";case"uz":return"https://metrika.yandex.uz";default:return"https://metrika.yandex.ru"}},metro:function(){return"https://metro.yandex.ru"},mobile:function(t){switch(t){case"ua":return"https://mobile.yandex.ua";case"tr":return"https://mobil.yandex.com.tr";default:return"https://mobile.yandex.ru"}},moikrug:function(){return"http://moikrug.ru"},money:function(){return"https://money.yandex.ru"},museums:function(){return"http://18.yandex.ru"},music:function(t){switch(t){case"ua":return"https://music.yandex.ua";case"by":return"https://music.yandex.by";case"kz":return"https://music.yandex.kz";default:return"https://music.yandex.ru"}},"music-partner":function(){return"http://music-partner.yandex.ru"},nahodki:function(t){switch(t){case"ua":return"https://nahodki.yandex.ua";case"kz":return"https://nahodki.yandex.kz";default:return"https://nahodki.yandex.ru"}},nano:function(){return"http://nano.yandex.ru"},news:function(t){switch(t){case"ua":return"https://news.yandex.ua";case"by":return"https://news.yandex.by";case"kz":return"https://news.yandex.kz";case"tr":return"https://haber.yandex.com.tr";case"az":return"https://news.yandex.az";case"il":return"https://news.yandex.co.il";case"am":return"https://news.yandex.com.am";case"ge":return"https://news.yandex.com.ge";case"ee":return"https://news.yandex.ee";case"fr":return"https://news.yandex.fr";case"kg":return"https://news.yandex.kg";case"lt":return"https://news.yandex.lt";case"lv":return"https://news.yandex.lv";case"md":return"https://news.yandex.md";case"tj":return"https://news.yandex.tj";case"tm":return"https://news.yandex.tm";case"uz":return"https://news.yandex.uz";default:return"https://news.yandex.ru"}},"news-com":function(){return"https://news.yandex.com"},notifications:function(t){switch(t){case"ua":return"https://notifications.yandex.ua";case"by":return"https://notifications.yandex.by";case"kz":return"https://notifications.yandex.kz";case"com":return"https://notifications.yandex.com";case"tr":return"https://notifications.yandex.com.tr";default:return"https://notifications.yandex.ru"}},oauth:function(t){switch(t){case"com":return"https://oauth.yandex.com";default:return"https://oauth.yandex.ru"}},online:function(){return"http://online.yandex.ru"},openid:function(){return"http://openid.yandex.ru"},opera:function(t){switch(t){case"tr":return"https://opera.yandex.com.tr";default:return"https://opera.yandex.ru"}},opinion:function(){return"http://opinion.yandex.ru"},partners:function(t){switch(t){case"ua":return"http://partner.yandex.ua";case"by":return"http://partner.yandex.by";case"kz":return"http://partner.yandex.kz";case"com":return"http://partner.yandex.com";default:return"http://partner.yandex.ru"}},"partners-en":function(t){switch(t){case"ua":return"http://partner.yandex.ua";case"by":return"http://partner.yandex.by";case"kz":return"http://partner.yandex.kz";case"com":return"http://partner.yandex.com";default:return"http://partner.yandex.ru"}},partnersearch:function(){return"http://yandex.ru"},pass:function(t){switch(t){case"ua":return"https://pass.yandex.ua";case"by":return"https://pass.yandex.by";case"kz":return"https://pass.yandex.kz";case"com":return"https://pass.yandex.com";case"tr":return"https://pass.yandex.com.tr";case"az":return"https://pass.yandex.az";case"il":return"https://pass.yandex.co.il";case"am":return"https://pass.yandex.com.am";case"ge":return"https://pass.yandex.com.ge";case"ee":return"https://pass.yandex.ee";case"fr":return"https://pass.yandex.fr";case"kg":return"https://pass.yandex.kg";case"lt":return"https://pass.yandex.lt";case"lv":return"https://pass.yandex.lv";case"md":return"https://pass.yandex.md";case"tj":return"https://pass.yandex.tj";case"tm":return"https://pass.yandex.tm";case"uz":return"https://pass.yandex.uz";default:return"https://pass.yandex.ru"}},passport:function(t){switch(t){case"ua":return"https://passport.yandex.ua";case"by":return"https://passport.yandex.by";case"kz":return"https://passport.yandex.kz";case"com":return"https://passport.yandex.com";case"tr":return"https://passport.yandex.com.tr";case"az":return"https://passport.yandex.az";case"il":return"https://passport.yandex.co.il";case"am":return"https://passport.yandex.com.am";case"ge":return"https://passport.yandex.com.ge";case"ee":return"https://passport.yandex.ee";case"fr":return"https://passport.yandex.fr";case"kg":return"https://passport.yandex.kg";case"lt":return"https://passport.yandex.lt";case"lv":return"https://passport.yandex.lv";case"md":return"https://passport.yandex.md";case"tj":return"https://passport.yandex.tj";case"tm":return"https://passport.yandex.tm";case"uz":return"https://passport.yandex.uz";default:return"https://passport.yandex.ru"}},pdd:function(){return"https://pdd.yandex.ru"},peoplesearch:function(t){switch(t){case"ua":return"http://people.yandex.ua";default:return"http://people.yandex.ru"}},perevod:function(){return"https://perevod.yandex.ru"},plus:function(){return"https://plus.yandex.ru"},probki:function(t){switch(t){case"ua":return"http://probki.yandex.ua";default:return"http://probki.yandex.ru"}},pulse:function(t){switch(t){case"ua":return"http://blogs.yandex.ua/pulse";case"by":return"http://blogs.yandex.by/pulse";case"kz":return"http://blogs.yandex.kz/pulse";default:return"http://blogs.yandex.ru/pulse"}},punto:function(){return"https://punto.yandex.ru"},pvo:function(){return"http://ask.yandex.ru"},rabota:function(t){switch(t){case"ua":return"https://rabota.yandex.ua";case"by":return"https://rabota.yandex.by";case"kz":return"https://rabota.yandex.kz";default:return"https://rabota.yandex.ru"}},radar:function(t){switch(t){case"ru":return"https://radar.metrika.yandex?lang=ru";case"com":return"https://radar.metrika.yandex?lang=en";case"tr":return"https://radar.metrika.yandex?lang=tr";default:return"https://radar.metrika.yandex"}},rasp:function(t){switch(t){case"ua":return"https://rasp.yandex.ua";case"by":return"https://rasp.yandex.by";case"kz":return"https://rasp.yandex.kz";case"tr":return"https://seferler.yandex.com.tr";default:return"https://rasp.yandex.ru"}},realty:function(t){switch(t){case"ua":return"https://realty.yandex.ua";case"by":return"https://realty.yandex.by";case"kz":return"https://realty.yandex.kz";default:return"https://realty.yandex.ru"}},referats:function(){return"https://referats.yandex.ru"},review:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},rk:function(){return"http://rk.yandex.ru"},root:function(){return"https://root.yandex.ru"},school:function(){return"http://school.yandex.ru"},search:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},serp:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},server:function(){return"http://company.yandex.ru/technology/server/"},shtrafi:function(){return"https://money.yandex.net/debts"},site:function(t){switch(t){case"ua":return"https://site.yandex.ua";case"tr":return"https://ozel.yandex.com.tr";default:return"https://site.yandex.ru"}},slovari:function(t){switch(t){case"ua":return"https://slovari.yandex.ua";case"by":return"https://slovari.yandex.by";case"kz":return"https://slovari.yandex.kz";default:return"https://slovari.yandex.ru"}},so:function(){return"http://so.yandex.ru"},social:function(t){switch(t){case"ua":return"https://social.yandex.ua";case"by":return"https://social.yandex.by";case"kz":return"https://social.yandex.kz";case"com":return"https://social.yandex.ru";case"tr":return"https://social.yandex.com.tr";default:return"https://social.yandex.ru"}},soft:function(t){switch(t){case"ua":return"https://soft.yandex.ua";case"tr":return"https://soft.yandex.com.tr";default:return"https://soft.yandex.ru"}},sport:function(t){switch(t){case"ua":return"http://sport.yandex.ua";case"by":return"http://sport.yandex.by";case"kz":return"http://sport.yandex.kz";case"tr":return"http://spor.yandex.com.tr";default:return"http://sport.yandex.ru"}},sprav:function(t){switch(t){case"ua":return"https://yandex.ru/sprav";case"by":return"https://sprav.yandex.by";case"kz":return"https://sprav.yandex.kz";case"com":return"https://yandex.com/sprav";case"tr":return"https://rehber.yandex.com.tr";default:return"https://sprav.yandex.ru"}},start:function(t){switch(t){case"ua":return"https://help.yandex.ua/start/";case"com":return"https://help.yandex.com/start/";case"tr":return"https://yardim.yandex.com.tr/start";default:return"https://help.yandex.ru/start/"}},stat:function(t){switch(t){case"ua":return"https://stat.yandex.ua";case"by":return"https://stat.yandex.by";default:return"https://stat.yandex.ru"}},subs:function(){return"https://subs.yandex.ru"},support:function(t){switch(t){case"ua":return"https://yandex.ua/support/";case"by":return"https://yandex.by/support/";case"kz":return"https://yandex.kz/support/";case"com":return"https://yandex.com/support/";case"tr":return"https://yandex.com.tr/support/";default:return"https://yandex.ru/support/"}},surveys:function(){return"https://surveys.yandex.ru"},taxi:function(){return"https://taxi.yandex.ru"},telephony:function(){return"https://telephony.yandex.ru/"},terms:function(){return"http://terms.yandex.ru"},tests:function(){return"http://tests.yandex.ru"},ticket:function(){return"http://ticket.yandex.ru"},time:function(t){switch(t){case"ua":return"https://time.yandex.ua";case"by":return"https://time.yandex.by";case"kz":return"https://time.yandex.kz";case"com":return"https://time.yandex.com";case"tr":return"https://saat.yandex.com.tr";default:return"https://time.yandex.ru"}},toloka:function(t){switch(t){case"com":return"https://toloka.yandex.com";case"tr":return"https://toloka.yandex.com.tr";default:return"https://toloka.yandex.ru"}},toster:function(){return"http://toster.yandex.ru"},translate:function(t){switch(t){case"ua":return"https://translate.yandex.ua";case"by":return"https://translate.yandex.by";case"kz":return"https://translate.yandex.kz";case"com":return"https://translate.yandex.com";case"tr":return"https://ceviri.yandex.com.tr";case"az":return"https://translate.yandex.az";case"il":return"https://translate.yandex.co.il";case"am":return"https://translate.yandex.com.am";case"ge":return"https://translate.yandex.com.ge";case"ee":return"https://translate.yandex.ee";case"fr":return"https://translate.yandex.fr";case"kg":return"https://translate.yandex.kg";case"lt":return"https://translate.yandex.lt";case"lv":return"https://translate.yandex.lv";case"md":return"https://translate.yandex.md";case"tj":return"https://translate.yandex.tj";case"tm":return"https://translate.yandex.tm";case"uz":return"https://translate.yandex.uz";default:return"https://translate.yandex.ru"}},tune:function(t){switch(t){case"ua":return"https://yandex.ua/tune";case"by":return"https://yandex.by/tune";case"kz":return"https://yandex.kz/tune";case"com":return"https://yandex.com/tune";case"tr":return"https://yandex.com.tr/tune";case"uz":return"https://yandex.uz/tune";default:return"https://yandex.ru/tune"}},tv:function(t){switch(t){case"ua":return"https://tv.yandex.ua";case"by":return"https://tv.yandex.by";case"kz":return"https://tv.yandex.kz";default:return"https://tv.yandex.ru"}},uslugi:function(){return"http://uslugi.yandex.ru"},video:function(t){switch(t){case"ua":return"https://yandex.ua/video/";case"by":return"https://yandex.by/video/";case"kz":return"https://yandex.kz/video/";case"com":return"https://yandex.com/video/";case"tr":return"https://yandex.com.tr/video/";case"az":return"https://yandex.az/video/";case"il":return"https://yandex.co.il/video/";case"am":return"https://yandex.com.am/video/";case"ge":return"https://yandex.com.ge/video/";case"ee":return"https://yandex.ee/video/";case"fr":return"https://yandex.fr/video/";case"kg":return"https://yandex.kg/video/";case"lt":return"https://yandex.lt/video/";case"lv":return"https://yandex.lv/video/";case"md":return"https://yandex.md/video/";case"tj":return"https://yandex.tj/video/";case"tm":return"https://yandex.tm/video/";case"uz":return"https://yandex.uz/video/";default:return"https://yandex.ru/video/"}},"video-com":function(){return"https://yandex.com/video/"},vno:function(){return"https://zno.yandex.ua"},wdgt:function(t){switch(t){case"ua":return"https://wdgt.yandex.ua";case"by":return"https://wdgt.yandex.by";case"kz":return"https://wdgt.yandex.kz";case"tr":return"https://wdgt.yandex.com.tr";default:return"https://wdgt.yandex.ru"}},weather:function(t){switch(t){case"ua":return"https://pogoda.yandex.ua";case"by":return"https://pogoda.yandex.by";case"kz":return"https://pogoda.yandex.kz";case"tr":return"https://hava.yandex.com.tr";case"az":return"https://pogoda.yandex.az";case"il":return"https://pogoda.yandex.co.il";case"am":return"https://pogoda.yandex.com.am";case"ge":return"https://pogoda.yandex.com.ge";case"ee":return"https://pogoda.yandex.ee";case"fr":return"https://pogoda.yandex.fr";case"kg":return"https://pogoda.yandex.kg";case"lt":return"https://pogoda.yandex.lt";case"lv":return"https://pogoda.yandex.lv";case"md":return"https://pogoda.yandex.md";case"tj":return"https://pogoda.yandex.tj";case"tm":return"https://pogoda.yandex.tm";case"uz":return"https://pogoda.yandex.uz";default:return"https://pogoda.yandex.ru"}},webmaster:function(t){switch(t){case"ua":return"https://webmaster.yandex.ua";case"com":return"https://webmaster.yandex.com";case"tr":return"https://webmaster.yandex.com.tr";default:return"https://webmaster.yandex.ru"}},"webmaster-api":function(t){switch(t){case"com":return"https://tech.yandex.com/webmaster/";case"tr":return"https://tech.yandex.com/webmaster/";default:return"https://tech.yandex.ru/webmaster/"}},widgets:function(t){switch(t){case"ua":return"https://widgets.yandex.ua";case"by":return"https://widgets.yandex.by";case"kz":return"https://widgets.yandex.kz";case"tr":return"https://widgets.yandex.com.tr";default:return"https://widgets.yandex.ru"}},wordstat:function(){return"https://wordstat.yandex.ru"},wow:function(){return"http://my.ya.ru"},www:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},xmlsearch:function(t){switch(t){case"ua":return"https://xml.yandex.ua";case"by":return"https://xml.yandex.by";case"kz":return"https://xml.yandex.kz";case"com":return"https://xml.yandex.com";case"tr":return"https://xml.yandex.com.tr";default:return"https://xml.yandex.ru"}},yaca:function(t){switch(t){case"ua":return"https://yaca.yandex.ua";case"by":return"https://yaca.yandex.by";default:return"https://yaca.yandex.ru"}},yamb:function(){return"https://yamb.yandex.ru"},zakladki:function(){return"http://zakladki.yandex.ru"},znatoki:function(){return"https://yandex.ru/znatoki/";
}}}(),function(){n.match("paranja",function(t){t.mods({state:"close",theme:"normal"})})}(),function(){n.match("clock",function(t){var e=t.param("data"),n=e&&e.offsetString;t.js(e),n&&t.attrs({title:n})}),n.match("clock_type_digital",function(t){t.content({block:"digital-clock",js:!0,mods:{adding:t.mod("adding"),theme:t.mod("theme"),night:t.mod("night"),"show-logo":t.mod("show-logo"),lang:t.mod("lang")}})}),n.match("clock_type_analog",function(t){t.content({block:"svg-clock",js:!0,mods:{adding:t.mod("adding"),theme:t.mod("theme"),night:t.mod("night"),face:t.mod("face"),"show-logo":t.mod("show-logo"),lang:t.mod("lang")}})})}(),function(){n.match("digital-clock",function(t){t.content([{elem:"hours",content:{tag:"span",content:"0"}},{elem:"semicolon",content:":"},{elem:"minutes",content:[{tag:"span",content:"0"},{tag:"span",content:"0"}]},{elem:"semicolon",content:":"},{elem:"seconds",content:[{tag:"span",content:"0"},{tag:"span",content:"0"}]}])})}(),function(){n.match("city",function(t){var e=t.param("data"),n=t.param("labelTop"),i=t.param("noHint");t.js(!0).content([n&&{elem:"label",content:e&&e.name},{elem:"input",content:[{block:"i-request"},{content:{block:"input",value:!i&&e&&e.name||void 0,mods:{size:"m",suggest:"yes",clear:"no"},js:{dataprovider:{name:"city-data-provider"},popupMods:{fade:"yes",size:"m",autosize:"yes","can-large":"yes"},debounceDelay:500},content:[!i&&{elem:"hint",content:""},{elem:"control",attrs:{name:"autocomplete",value:!i&&e&&e.name||void 0}}]}}]},!n&&{elem:"label",content:e&&e.name.replace("",'<span style="font-family:arial,sans-serif"></span>')}])})}(),function(){n.match("input",function(t,e){var i="object"==typeof t.js()?t.js():{},r=t.mods(),s={autofocus:"yes",width:"content","tap-ahead":"yes"};i.live=Boolean(i.live)&&!i.autoFocus&&!Object.keys(s).some(function(t){return r[t]===s[t]});var o=e.value;t.isSimple(o)||(o=n.apply(o));var a;e.hasOwnProperty("placeholder")&&(a=e.placeholder,t.isSimple(a)||(a=n.apply(a)));var c=e.id||t.generateId();t.tag("span").js(i).mod("theme","normal").tParam("inputId",c).tParam("labelId","label"+c).tParam("hintId","hint"+c).tParam("name",e.name||"").tParam("value",o).tParam("inputLink",!0).tParam("iconLeft",e.icon||e.iconLeft).tParam("iconRight",e.iconRight).tParam("placeholder",a).tParam("live",i.live).tParam("disabled",r.disabled).tParam("hasClear","no"!==r.clear)})}(),function(){n.match("input__clear",function(t){t.tag("span").attr("unselectable","on")})}(),function(){n.match("popup",function(t,e){t.mods({theme:"ffffff",autoclosable:"yes",adaptive:"yes",animate:"yes"}),e.zIndex&&t.attr("style",(t.attr("style")||"")+";z-index:"+e.zIndex+";",!0),t.content([{elem:"under",elemMods:e.underMods},t.content()],!0)})}(),function(){n.match("b-autocomplete-item",function(t,e){var i=e.data,r=BEM.blocks["b-autocomplete-item"].highlight,s=n.xmlEscape(Array.isArray(i)?i[1]:i);t.tag("li").js(!0).content(r(s,e.hl),!0);var o=e.search_cgi;o&&Array.isArray(o)&&t.js("cgi",o),e.pers&&t.mod("pers","yes")})}(),function(){n.match("b-autocomplete-item_type_foot",function(t,e){var n=e.data;t.mod("enterable","no").content(n.slice(1).map(function(t){return Array.isArray(t)?{tag:"span",elem:"foot",content:t[0]}:t}))})}(),function(){n.match("b-autocomplete-item_type_lingvo",function(t,e){var n=e.data[1];t.content([{tag:"span",elem:"text",content:n.text},{tag:"span",elem:"translation",content:["  ",n.translation]}])})}(),function(){n.match("sun",function(t,e){t.js(e.js!==!1?t.extend(e.js,!0):!1),t.content([{elem:"sunrise",attrs:{title:BEM.I18N("common","sunrise").toUpperCase()},content:e.data&&e.data.sunrise},{elem:"sunset",attrs:{title:BEM.I18N("common","sunset").toUpperCase()},content:e.data&&e.data.sunset}],!0)})}(),function(){n.setOptions({escapeContent:!0}),n.match("comment",function(t){var e=t.param("data");t.js(!0).content([{elem:"input",content:{block:"input",value:e&&e.comment,mods:{size:"s",type:"textarea"},content:{elem:"control",attrs:{rows:"3",maxLength:"80"}}}},{elem:"label",content:e&&e.comment}])})}(),function(){n.match("tile-menu",function(t){t.content([{elem:"menu",content:[{elem:"close"},{block:"b-menu-vert",mods:{type:"tile-menu"},content:[{elem:"item",attrs:{title:BEM.I18N("common","settings share")},content:[{block:"tile-menu",elem:"share-label",content:BEM.I18N("common","share")},{block:"tile-menu",elem:"share-body"}],mix:{block:"tile-menu",elem:"share"}},{elem:"item",attrs:{title:BEM.I18N("common","settings informer")},content:BEM.I18N("common","informer"),mix:{block:"tile-menu",elem:"informer"}},{elem:"item",attrs:{title:BEM.I18N("common","settings comment")},content:BEM.I18N("common","add comment"),mix:{block:"tile-menu",elem:"comment"}},{elem:"item",content:BEM.I18N("common","delete"),mix:{block:"tile-menu",elem:"delete"}}]}]},{elem:"paranja"}])})}(),function(){n.match("dropdown2",function(t,e){t.js(!0).tParam("mods",t.mods());var i=e.popup;(t.isSimple(i)||i.block&&"popup2"!==i.block)&&(i={content:i}),t.mod("has-tail")&&(i.content=[{elem:"tail"}].concat(i.content||[])),t.mod("view","classic"),i=n.lib.util.mergeBemjson({block:"popup2",mods:{view:t.mod("view"),tone:t.mod("tone"),theme:"normal",autoclosable:"yes",target:"anchor"}},i),t.content([{elem:"switcher",switcher:e.switcher,hasTick:t.mod("has-tick")},i],!0)})}(),function(){n.match("popup2",function(t,e){if(t.mod("view","classic").js({mainOffset:e.mainOffset,secondaryOffset:e.secondaryOffset,viewportOffset:e.viewportOffset,tailOffset:e.tailOffset,tailSize:e.tailSize,directions:e.directions,zIndexGroupLevel:e.zIndexGroupLevel}),e.hasTail){var n=[].concat(t.content());t.content([].concat({elem:"tail"},n),!0)}})}(),function(){n.match("popup2",function(t){t.applyBase(),"anchor"===t.mod("target")&&(t.mod("hiding","yes"),"yes"===t.mod("visible")&&t.mod("outside","yes"))})}(),function(){n.match("button",function(t,e){var n=e.url;if(t.js(!0).tag(n?"a":"button").attr("tabindex",e.tabindex),n){var i="_blank"===e.target,r=t.attr("rel")||"";t.attrs({href:n,target:e.target}),i&&(r&&-1!==r.indexOf("noopener")||(r=r?r+=" noopener":"noopener",t.attr("rel",r,!0)))}else t.attrs({type:e.type||"button",autocomplete:"off",name:e.name,value:e.value});t.content({elem:"text",tag:"span",content:t.content()},!0)})}(),function(){n.match("tile",function(t,e){var i=n.lib.global["content-region"],r=e.data.details,s=r&&r.weather&&void 0!==r.weather.temp;t.tParam("adding","yes"===e.mods.adding).content([{elem:"settings"},{elem:"middle",content:[{elem:"offset-container",content:[{elem:"offset"},{elem:"imhere",content:BEM.I18N("common","flag title")}]},{elem:"clock",data:e.data,mods:e.mods},{elem:"text",content:[{elem:"sun",data:e.data},{elem:"city",data:e.data},{elem:"parent",data:e.data},{elem:"countries"},{elem:"date-and-weather",content:[{elem:"date",data:{time:e.data.time,offset:r&&r.offset}},{elem:"weather",data:e.data,elemMods:{show:s&&"com"!==i?"yes":""}}]},{elem:"comment",content:{block:"comment",data:e.data&&e.data.clock}}]}]},{elem:"menu",content:{block:"tile-menu"}}])}),n.match("tile__countries",function(t){t.content({block:"dropdown2",mods:{switcher:"button",theme:"normal"},switcher:{block:"button",mods:{arrow:"down",theme:"clear",size:"s"},content:BEM.I18N("common","countries")},popup:{block:"popup2",content:""}})}),n.match("tile__clock",function(t,e){var n=t.tParam("adding");t.content({block:"clock",data:!n&&{offset:e.data.details.offset,offsetString:e.data.details.offsetString,weather:e.data.details.weather,theme:e.data.settings.theme},mods:{adding:n&&"yes",inited:n&&"yes",theme:n?e.mods.theme:e.data.settings.theme,type:n?e.data.type:e.data.settings.type,face:n?e.mods.face:e.data.settings.face,format:!n&&e.data.settings.format,sky:!n&&e.data.settings.sky?"yes":"",night:!n&&e.data.details.isNight?"yes":""},js:!0})}),n.match("tile__city",function(t){var e=t.tParam("adding"),n=t.param("data");t.content({block:"city",mods:e&&{edit:"yes"},data:!e&&n.details})}),n.match("tile__weather",function(t){var e=t.tParam("adding"),n=t.param("data");t.content({block:"weather",mods:{edit:e&&"yes"},data:!e&&n.details.weather})}),n.match("tile__date",function(t){if(!t.tParam("adding")){var e=t.param("data"),i=new Date(e.time);void 0!==e.offset&&i.setTime(i.getTime()+e.offset);var r=n.lib.util.date,s=r.getDateAsShortString(i).toUpperCase(),o=r.getDayOfWeek(i),a=BEM.I18N("common",o).toUpperCase();t.content(s).attrs({title:a})}}),n.match("tile__sun",function(t){var e=t.param("data"),n=t.tParam("adding");t.content({block:"sun",mods:!n&&{show:e.details.showSunriseSunset?"yes":""},data:!n&&e.details})}),n.match("tile__parent",function(t){if(!t.tParam("adding")){var e=t.param("data"),n=e.details.parents&&e.details.parents.map(function(t){return t.name}).join(", ");t.content(n||"")}})}(),function(){n.match("b-menu-vert",function(t,e){t.content([e.title,{elem:"layout",content:t.content()}],!0)}),n.match("b-menu-vert__layout",function(t){t.tag("ul")}),n.match("b-menu-vert__item",function(t,e){return t.tParam("inBMenuVertItem")?void 0:(t.tParam("inBMenuVertItem",!0),{elem:"layout-unit",content:[e,e["item-content"]]})}),n.match("b-menu-vert__layout-unit",function(t){t.tag("li"),t.isFirst()&&t.mix({mods:{position:"first"}}),t.isLast()&&t.mix({mods:{position:"last"}})}),n.match("b-menu-vert__item-selector",function(t){t.tag("span")}),n.match("b-menu-vert__submenu",function(t){t.tag("ul")})}(),function(){n.match("i-ua",function(t,e){t.bem(!1).tag("script").attr("nonce",e.nonce||n.lib.global.nonce).content([';(function(d,e,c,r){e=d.documentElement;c="className";r="replace";e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");if(d.compatMode!="CSS1Compat")e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")})(document);',t.content()],!0)})}(),function(){n.match("i-ua",function(t){t.content([{tag:!1,html:[";(function(d,e,c,n,w,v,f){","e=d.documentElement;",'c="className";','n="createElementNS";','f="firstChild";','w="http://www.w3.org/2000/svg";','e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");','v=d.createElement("div");','v.innerHTML="<svg/>";','e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");',"})(document);"].join("")},t.content()],!0)})}(),function(){n.match("b-autocomplete-item_type_city",function(t){var e=t.param("data");t.js(e).content(e.name).attrs({title:e.name}),t.stop()})}(),function(){n.match("i-ua",function(t){t.content([";(function(d,e,p){","e=d.documentElement;",'p="placeholder";','e.className+=" i-ua_"+p+(p in d.createElement("input")?"_yes":"_no")',"})(document);",t.content()],!0)})}(),function(){n.match("input_type_textarea__control",function(t){t.tag("textarea",!0).attrs({rows:10,cols:10}).attrs({value:null},!0),t.content({tag:!1,html:n.xmlEscape(t.tParam("value")||t.content()||"")})})}(),function(){n.match("dropdown2_switcher_button__switcher",function(t,e){if(Array.isArray(e.switcher))return e.switcher;var i=t.tParam("mods");return n.lib.util.mergeBemjson({block:"button",mods:{size:i.size,theme:i.theme,disabled:i.disabled,arrow:e.hasTick?"down":void 0}},t.isSimple(e.switcher)?{content:{tag:!1,html:n.xmlEscape(e.switcher)}}:e.switcher)})}(),function(){n.match("popup2_hiding_yes",function(t){"anchor"!==t.mod("target")&&t.mod("target","anchor",!0),t.applyBase()})}(),function(){n.match("button_disabled_yes",function(t,e){e.url?t.attr("aria-disabled","true"):t.attr("disabled",!0)})}(),function(){n.match("b-autocomplete-item_type_nav",function(t,e){var n=e.data,i=n[4],r=(i.match(/^\w[\w-]*:\/\//g)?"":"http://")+i,s=BEM.blocks["i-common__string"],o=s.escapeHTML(n[3]),a=""+s.highlight(n[2],e.hl);t.js({val:r}).content({elem:"link",tag:"a",attrs:{href:r,target:"_blank"},content:[{elem:"link-url",tag:"span",content:{tag:!1,html:o}},{elem:"link-info",tag:"span",content:{tag:!1,html:a}}]})})}(),function(){n.match("input__hint",function(t){var e=t.tParam("value");t.tag("label").attrs({id:t.tParam("hintId"),"for":t.tParam("inputId"),"aria-hidden":"true"}),t.tParam("iconLeft")&&t.mod("lpad","yes"),t.tParam("iconRight")&&t.mod("rpad","yes"),e||0===e||t.mod("visibility","visible")}),n.match("input__control",function(t){var e=t.tParam("placeholder");return e?[{elem:"hint",content:e},t.json()]:void 0})}(),function(){n.match("link",function(t,e){var i=t.mods(),r=e.url,s=void 0!==r,o=Boolean(i.disabled),a=e.tabindex;if(void 0===a&&(a="0"),r=s?t.isSimple(r)?r:n.apply(r):void 0,t.tag(s?"a":"span").js({_tabindex:o?a:void 0}).attrs({id:e.id,name:e.name,title:e.title,target:e.target,tabindex:o?s&&-1:a,href:r,role:s?void 0:"button","aria-disabled":o?"true":void 0}),"_blank"===t.attr("target")){var c=t.attr("rel")||"";c&&-1!==c.indexOf("noopener")||(c=c?c+=" noopener":"noopener",t.attr("rel",c,!0))}var u=Boolean(e.text),h=[e.icon,e.iconLeft,e.iconRight].filter(Boolean),l=h.length>0,d=u||h.length>1;t.content([e.icon&&n.lib.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:d?"left":""}}},e.icon),e.iconLeft&&n.lib.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:d?"left":""}}},e.iconLeft),u&&(t.isSimple(e.text)?l?{elem:"inner",content:{tag:!1,html:n.xmlEscape(e.text)}}:{tag:!1,html:n.xmlEscape(e.text)}:e.text.block?n.lib.util.mergeBemjson({mix:{block:"link",elem:"inner"}},e.text):t.extend({block:"link",elem:"inner"},e.text)),e.iconRight&&n.lib.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:d?"right":""}}},e.iconRight)])}),n.match("link__inner",function(t){t.tag("span")})}(),function(){n.match("weather",function(t,e){t.content({block:"link",url:e.data&&e.data.link||"//yandex.ru/pogoda/",attrs:{target:"_blank"},content:[{block:"weather",elem:"icon",elemMods:{weather:e.data&&e.data.icon}},{block:"weather",elem:"temp",content:e.data&&void 0!==e.data.temp&&(e.data.temp>0?"+":"")+e.data.temp+"C"}]},!0)})}()};n.lib.i18n=t.BEM.I18N;var r=!0;"object"==typeof modules?(modules.define("BH",[],function(e){n.lib.i18n=t.BEM.I18N,i(),e(n)}),modules.define("BEMHTML",["BH"],function(t){t(n)}),modules.define("bh",["BH"],function(t){t(n)}),r=!1):"object"==typeof exports&&(i(),n.BEMHTML=n,n.bh=n,module.exports=n,r=!1),r&&(n.lib.i18n=t.BEM.I18N,i(),t.BH=n,t.BEMHTML=n,t.bh=n)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this);